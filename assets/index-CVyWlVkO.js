(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function s0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var bd={exports:{}},pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function eA(){if(p_)return pl;p_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:c}}return pl.Fragment=t,pl.jsx=n,pl.jsxs=n,pl}var y_;function nA(){return y_||(y_=1,bd.exports=eA()),bd.exports}var k=nA(),Ad={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function iA(){if(__)return Rt;__=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.iterator;function I(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,G={};function H(x,W,st){this.props=x,this.context=W,this.refs=G,this.updater=st||U}H.prototype.isReactComponent={},H.prototype.setState=function(x,W){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,W,"setState")},H.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function tt(){}tt.prototype=H.prototype;function it(x,W,st){this.props=x,this.context=W,this.refs=G,this.updater=st||U}var at=it.prototype=new tt;at.constructor=it,Q(at,H.prototype),at.isPureReactComponent=!0;var St=Array.isArray,gt={H:null,A:null,T:null,S:null,V:null},wt=Object.prototype.hasOwnProperty;function O(x,W,st,et,ft,Ct){return st=Ct.ref,{$$typeof:r,type:x,key:W,ref:st!==void 0?st:null,props:Ct}}function S(x,W){return O(x.type,W,void 0,void 0,void 0,x.props)}function A(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function D(x){var W={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(st){return W[st]})}var M=/\/+/g;function P(x,W){return typeof x=="object"&&x!==null&&x.key!=null?D(""+x.key):W.toString(36)}function C(){}function Gt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(C,C):(x.status="pending",x.then(function(W){x.status==="pending"&&(x.status="fulfilled",x.value=W)},function(W){x.status==="pending"&&(x.status="rejected",x.reason=W)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Vt(x,W,st,et,ft){var Ct=typeof x;(Ct==="undefined"||Ct==="boolean")&&(x=null);var _t=!1;if(x===null)_t=!0;else switch(Ct){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(x.$$typeof){case r:case t:_t=!0;break;case T:return _t=x._init,Vt(_t(x._payload),W,st,et,ft)}}if(_t)return ft=ft(x),_t=et===""?"."+P(x,0):et,St(ft)?(st="",_t!=null&&(st=_t.replace(M,"$&/")+"/"),Vt(ft,W,st,"",function(rn){return rn})):ft!=null&&(A(ft)&&(ft=S(ft,st+(ft.key==null||x&&x.key===ft.key?"":(""+ft.key).replace(M,"$&/")+"/")+_t)),W.push(ft)),1;_t=0;var Et=et===""?".":et+":";if(St(x))for(var qt=0;qt<x.length;qt++)et=x[qt],Ct=Et+P(et,qt),_t+=Vt(et,W,st,Ct,ft);else if(qt=I(x),typeof qt=="function")for(x=qt.call(x),qt=0;!(et=x.next()).done;)et=et.value,Ct=Et+P(et,qt++),_t+=Vt(et,W,st,Ct,ft);else if(Ct==="object"){if(typeof x.then=="function")return Vt(Gt(x),W,st,et,ft);throw W=String(x),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return _t}function Y(x,W,st){if(x==null)return x;var et=[],ft=0;return Vt(x,et,"","",function(Ct){return W.call(st,Ct,ft++)}),et}function rt(x){if(x._status===-1){var W=x._result;W=W(),W.then(function(st){(x._status===0||x._status===-1)&&(x._status=1,x._result=st)},function(st){(x._status===0||x._status===-1)&&(x._status=2,x._result=st)}),x._status===-1&&(x._status=0,x._result=W)}if(x._status===1)return x._result.default;throw x._result}var ct=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Bt(){}return Rt.Children={map:Y,forEach:function(x,W,st){Y(x,function(){W.apply(this,arguments)},st)},count:function(x){var W=0;return Y(x,function(){W++}),W},toArray:function(x){return Y(x,function(W){return W})||[]},only:function(x){if(!A(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Rt.Component=H,Rt.Fragment=n,Rt.Profiler=l,Rt.PureComponent=it,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=gt,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return gt.H.useMemoCache(x)}},Rt.cache=function(x){return function(){return x.apply(null,arguments)}},Rt.cloneElement=function(x,W,st){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var et=Q({},x.props),ft=x.key,Ct=void 0;if(W!=null)for(_t in W.ref!==void 0&&(Ct=void 0),W.key!==void 0&&(ft=""+W.key),W)!wt.call(W,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&W.ref===void 0||(et[_t]=W[_t]);var _t=arguments.length-2;if(_t===1)et.children=st;else if(1<_t){for(var Et=Array(_t),qt=0;qt<_t;qt++)Et[qt]=arguments[qt+2];et.children=Et}return O(x.type,ft,void 0,void 0,Ct,et)},Rt.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},Rt.createElement=function(x,W,st){var et,ft={},Ct=null;if(W!=null)for(et in W.key!==void 0&&(Ct=""+W.key),W)wt.call(W,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(ft[et]=W[et]);var _t=arguments.length-2;if(_t===1)ft.children=st;else if(1<_t){for(var Et=Array(_t),qt=0;qt<_t;qt++)Et[qt]=arguments[qt+2];ft.children=Et}if(x&&x.defaultProps)for(et in _t=x.defaultProps,_t)ft[et]===void 0&&(ft[et]=_t[et]);return O(x,Ct,void 0,void 0,null,ft)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(x){return{$$typeof:g,render:x}},Rt.isValidElement=A,Rt.lazy=function(x){return{$$typeof:T,_payload:{_status:-1,_result:x},_init:rt}},Rt.memo=function(x,W){return{$$typeof:_,type:x,compare:W===void 0?null:W}},Rt.startTransition=function(x){var W=gt.T,st={};gt.T=st;try{var et=x(),ft=gt.S;ft!==null&&ft(st,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(Bt,ct)}catch(Ct){ct(Ct)}finally{gt.T=W}},Rt.unstable_useCacheRefresh=function(){return gt.H.useCacheRefresh()},Rt.use=function(x){return gt.H.use(x)},Rt.useActionState=function(x,W,st){return gt.H.useActionState(x,W,st)},Rt.useCallback=function(x,W){return gt.H.useCallback(x,W)},Rt.useContext=function(x){return gt.H.useContext(x)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(x,W){return gt.H.useDeferredValue(x,W)},Rt.useEffect=function(x,W,st){var et=gt.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(x,W)},Rt.useId=function(){return gt.H.useId()},Rt.useImperativeHandle=function(x,W,st){return gt.H.useImperativeHandle(x,W,st)},Rt.useInsertionEffect=function(x,W){return gt.H.useInsertionEffect(x,W)},Rt.useLayoutEffect=function(x,W){return gt.H.useLayoutEffect(x,W)},Rt.useMemo=function(x,W){return gt.H.useMemo(x,W)},Rt.useOptimistic=function(x,W){return gt.H.useOptimistic(x,W)},Rt.useReducer=function(x,W,st){return gt.H.useReducer(x,W,st)},Rt.useRef=function(x){return gt.H.useRef(x)},Rt.useState=function(x){return gt.H.useState(x)},Rt.useSyncExternalStore=function(x,W,st){return gt.H.useSyncExternalStore(x,W,st)},Rt.useTransition=function(){return gt.H.useTransition()},Rt.version="19.1.0",Rt}var v_;function dm(){return v_||(v_=1,Ad.exports=iA()),Ad.exports}var za=dm();const Mt=s0(za);var Sd={exports:{}},yl={},wd={exports:{}},Rd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function rA(){return E_||(E_=1,function(r){function t(Y,rt){var ct=Y.length;Y.push(rt);t:for(;0<ct;){var Bt=ct-1>>>1,x=Y[Bt];if(0<l(x,rt))Y[Bt]=rt,Y[ct]=x,ct=Bt;else break t}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var rt=Y[0],ct=Y.pop();if(ct!==rt){Y[0]=ct;t:for(var Bt=0,x=Y.length,W=x>>>1;Bt<W;){var st=2*(Bt+1)-1,et=Y[st],ft=st+1,Ct=Y[ft];if(0>l(et,ct))ft<x&&0>l(Ct,et)?(Y[Bt]=Ct,Y[ft]=ct,Bt=ft):(Y[Bt]=et,Y[st]=ct,Bt=st);else if(ft<x&&0>l(Ct,ct))Y[Bt]=Ct,Y[ft]=ct,Bt=ft;else break t}}return rt}function l(Y,rt){var ct=Y.sortIndex-rt.sortIndex;return ct!==0?ct:Y.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var p=[],_=[],T=1,w=null,I=3,U=!1,Q=!1,G=!1,H=!1,tt=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;function St(Y){for(var rt=n(_);rt!==null;){if(rt.callback===null)s(_);else if(rt.startTime<=Y)s(_),rt.sortIndex=rt.expirationTime,t(p,rt);else break;rt=n(_)}}function gt(Y){if(G=!1,St(Y),!Q)if(n(p)!==null)Q=!0,wt||(wt=!0,P());else{var rt=n(_);rt!==null&&Vt(gt,rt.startTime-Y)}}var wt=!1,O=-1,S=5,A=-1;function D(){return H?!0:!(r.unstable_now()-A<S)}function M(){if(H=!1,wt){var Y=r.unstable_now();A=Y;var rt=!0;try{t:{Q=!1,G&&(G=!1,it(O),O=-1),U=!0;var ct=I;try{e:{for(St(Y),w=n(p);w!==null&&!(w.expirationTime>Y&&D());){var Bt=w.callback;if(typeof Bt=="function"){w.callback=null,I=w.priorityLevel;var x=Bt(w.expirationTime<=Y);if(Y=r.unstable_now(),typeof x=="function"){w.callback=x,St(Y),rt=!0;break e}w===n(p)&&s(p),St(Y)}else s(p);w=n(p)}if(w!==null)rt=!0;else{var W=n(_);W!==null&&Vt(gt,W.startTime-Y),rt=!1}}break t}finally{w=null,I=ct,U=!1}rt=void 0}}finally{rt?P():wt=!1}}}var P;if(typeof at=="function")P=function(){at(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Gt=C.port2;C.port1.onmessage=M,P=function(){Gt.postMessage(null)}}else P=function(){tt(M,0)};function Vt(Y,rt){O=tt(function(){Y(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_next=function(Y){switch(I){case 1:case 2:case 3:var rt=3;break;default:rt=I}var ct=I;I=rt;try{return Y()}finally{I=ct}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(Y,rt){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ct=I;I=Y;try{return rt()}finally{I=ct}},r.unstable_scheduleCallback=function(Y,rt,ct){var Bt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Bt+ct:Bt):ct=Bt,Y){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=ct+x,Y={id:T++,callback:rt,priorityLevel:Y,startTime:ct,expirationTime:x,sortIndex:-1},ct>Bt?(Y.sortIndex=ct,t(_,Y),n(p)===null&&Y===n(_)&&(G?(it(O),O=-1):G=!0,Vt(gt,ct-Bt))):(Y.sortIndex=x,t(p,Y),Q||U||(Q=!0,wt||(wt=!0,P()))),Y},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(Y){var rt=I;return function(){var ct=I;I=rt;try{return Y.apply(this,arguments)}finally{I=ct}}}}(Rd)),Rd}var T_;function sA(){return T_||(T_=1,wd.exports=rA()),wd.exports}var Cd={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function aA(){if(b_)return Ye;b_=1;var r=dm();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:p,containerInfo:_,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,T)},Ye.flushSync=function(p){var _=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=_,s.p=T,s.d.f()}},Ye.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Ye.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ye.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,w=g(T,_.crossOrigin),I=typeof _.integrity=="string"?_.integrity:void 0,U=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:I,fetchPriority:U}):T==="script"&&s.d.X(p,{crossOrigin:w,integrity:I,fetchPriority:U,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Ye.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,w=g(T,_.crossOrigin);s.d.L(p,T,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=g(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Ye.requestFormReset=function(p){s.d.r(p)},Ye.unstable_batchedUpdates=function(p,_){return p(_)},Ye.useFormState=function(p,_,T){return f.H.useFormState(p,_,T)},Ye.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ye.version="19.1.0",Ye}var A_;function oA(){if(A_)return Cd.exports;A_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Cd.exports=aA(),Cd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function lA(){if(S_)return yl;S_=1;var r=sA(),t=dm(),n=oA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===o)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=d;break}if(E===o){v=!0,o=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,o=h;break}if(E===o){v=!0,o=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function _(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=_(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),tt=Symbol.for("react.provider"),it=Symbol.for("react.consumer"),at=Symbol.for("react.context"),St=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function Gt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case H:return"Profiler";case G:return"StrictMode";case gt:return"Suspense";case wt:return"SuspenseList";case A:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case at:return(e.displayName||"Context")+".Provider";case it:return(e._context.displayName||"Context")+".Consumer";case St:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return i=e.displayName||null,i!==null?i:Gt(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return Gt(e(i))}catch{}}return null}var Vt=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Bt=[],x=-1;function W(e){return{current:e}}function st(e){0>x||(e.current=Bt[x],Bt[x]=null,x--)}function et(e,i){x++,Bt[x]=e.current,e.current=i}var ft=W(null),Ct=W(null),_t=W(null),Et=W(null);function qt(e,i){switch(et(_t,i),et(Ct,e),et(ft,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Fy(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Fy(i),e=Gy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}st(ft),et(ft,e)}function rn(){st(ft),st(Ct),st(_t)}function Gn(e){e.memoizedState!==null&&et(Et,e);var i=ft.current,a=Gy(i,e.type);i!==a&&(et(Ct,e),et(ft,a))}function Mn(e){Ct.current===e&&(st(ft),st(Ct)),Et.current===e&&(st(Et),hl._currentValue=ct)}var yi=Object.prototype.hasOwnProperty,_i=r.unstable_scheduleCallback,Pe=r.unstable_cancelCallback,Wi=r.unstable_shouldYield,$l=r.unstable_requestPaint,_n=r.unstable_now,Th=r.unstable_getCurrentPriorityLevel,lo=r.unstable_ImmediatePriority,Hs=r.unstable_UserBlockingPriority,Gr=r.unstable_NormalPriority,bh=r.unstable_LowPriority,Fs=r.unstable_IdlePriority,uo=r.log,Xl=r.unstable_setDisableYieldValue,ue=null,Kt=null;function un(e){if(typeof uo=="function"&&Xl(e),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(ue,e)}catch{}}var Ge=Math.clz32?Math.clz32:Qr,Zl=Math.log,Ah=Math.LN2;function Qr(e){return e>>>=0,e===0?32:31-(Zl(e)/Ah|0)|0}var Yr=256,Kr=4194304;function Vn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gs(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~d,o!==0?h=Vn(o):(v&=E,v!==0?h=Vn(v):a||(a=E&~e,a!==0&&(h=Vn(a))))):(E=o&~d,E!==0?h=Vn(E):v!==0?h=Vn(v):a||(a=o&~e,a!==0&&(h=Vn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function $r(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function co(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ho(){var e=Yr;return Yr<<=1,(Yr&4194048)===0&&(Yr=256),e}function fo(){var e=Kr;return Kr<<=1,(Kr&62914560)===0&&(Kr=4194304),e}function vi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Ei(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function mo(e,i,a,o,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(a=v&~a;0<a;){var K=31-Ge(a),X=1<<K;E[K]=0,R[K]=-1;var B=z[K];if(B!==null)for(z[K]=null,K=0;K<B.length;K++){var q=B[K];q!==null&&(q.lane&=-536870913)}a&=~X}o!==0&&Qn(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function Qn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-Ge(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function go(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-Ge(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function tr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function er(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:c_(e.type))}function Jl(e,i){var a=rt.p;try{return rt.p=e,i()}finally{rt.p=a}}var se=Math.random().toString(36).slice(2),Se="__reactFiber$"+se,pe="__reactProps$"+se,vn="__reactContainer$"+se,po="__reactEvents$"+se,Sh="__reactListeners$"+se,nr="__reactHandles$"+se,Wl="__reactResources$"+se,Xr="__reactMarker$"+se;function ir(e){delete e[Se],delete e[pe],delete e[po],delete e[Sh],delete e[nr]}function Ti(e){var i=e[Se];if(i)return i;for(var a=e.parentNode;a;){if(i=a[vn]||a[Se]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=$y(e);e!==null;){if(a=e[Se])return a;e=$y(e)}return i}e=a,a=e.parentNode}return null}function Yn(e){if(e=e[Se]||e[vn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Kn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Je(e){var i=e[Wl];return i||(i=e[Wl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function fe(e){e[Xr]=!0}var yo=new Set,Ys={};function kn(e,i){bi(e,i),bi(e+"Capture",i)}function bi(e,i){for(Ys[e]=i,e=0;e<i.length;e++)yo.add(i[e])}var tu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eu={},Zr={};function nu(e){return yi.call(Zr,e)?!0:yi.call(eu,e)?!1:tu.test(e)?Zr[e]=!0:(eu[e]=!0,!1)}function rr(e,i,a){if(nu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function $n(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Ue(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}var Jr,iu;function Ai(e){if(Jr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Jr=i&&i[1]||"",iu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jr+e+iu}var Ks=!1;function $s(e,i){if(!e||Ks)return"";Ks=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var B=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){B=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){B=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var R=v.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var K=`
`+R[o].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=o&&0<=h);break}}}finally{Ks=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ai(a):""}function _o(e){switch(e.tag){case 26:case 27:case 5:return Ai(e.type);case 16:return Ai("Lazy");case 13:return Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 15:return $s(e.type,!1);case 11:return $s(e.type.render,!1);case 1:return $s(e.type,!0);case 31:return Ai("Activity");default:return""}}function Xs(e){try{var i="";do i+=_o(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function We(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function wh(e){var i=vo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Zs(e){e._valueTracker||(e._valueTracker=wh(e))}function Eo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=vo(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function Wr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rh=/[\n"\\]/g;function ye(e){return e.replace(Rh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function cn(e,i,a,o,h,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+We(i)):e.value!==""+We(i)&&(e.value=""+We(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?sr(e,v,We(i)):a!=null?sr(e,v,We(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+We(E):e.removeAttribute("name")}function ts(e,i,a,o,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+We(a):"",i=i!=null?""+We(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function sr(e,i,a){i==="number"&&Wr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Si(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+We(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Zt(e,i,a){if(i!=null&&(i=""+We(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+We(a):""}function es(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(Vt(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=We(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function En(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var ns=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ru(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||ns.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function To(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&ru(e,h,o)}else for(var d in i)i.hasOwnProperty(d)&&ru(e,d,i[d])}function bo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ch=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ih=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Js(e){return Ih.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var wi=null;function Tn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ri=null,Ci=null;function Ao(e){var i=Yn(e);if(i&&(e=i.stateNode)){var a=e[pe]||null;t:switch(e=i.stateNode,i.type){case"input":if(cn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ye(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[pe]||null;if(!h)throw Error(s(90));cn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&Eo(o)}break t;case"textarea":Zt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Si(e,!!a.multiple,i,!1)}}}var Xn=!1;function su(e,i,a){if(Xn)return e(i,a);Xn=!0;try{var o=e(i);return o}finally{if(Xn=!1,(Ri!==null||Ci!==null)&&(Ju(),Ri&&(i=Ri,e=Ci,Ci=Ri=null,Ao(i),e)))for(i=0;i<e.length;i++)Ao(e[i])}}function is(e,i){var a=e.stateNode;if(a===null)return null;var o=a[pe]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bn=!1;if(Pn)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){bn=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{bn=!1}var Zn=null,ar=null,Ii=null;function So(){if(Ii)return Ii;var e,i=ar,a=i.length,o,h="value"in Zn?Zn.value:Zn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===h[d-o];o++);return Ii=h.slice(e,1<o?1-o:void 0)}function Jn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Wn(){return!0}function wo(){return!1}function De(e){function i(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Wn:wo,this.isPropagationStopped=wo,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),i}var Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=De(Qt),ss=T({},Qt,{view:0,detail:0}),au=De(ss),ta,ea,ti,as=T({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:us,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ti&&(ti&&e.type==="mousemove"?(ta=e.screenX-ti.screenX,ea=e.screenY-ti.screenY):ea=ta=0,ti=e),ta)},movementY:function(e){return"movementY"in e?e.movementY:ea}}),An=De(as),ou=T({},as,{dataTransfer:0}),xh=De(ou),os=T({},ss,{relatedTarget:0}),na=De(os),Ro=T({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0}),ia=De(Ro),lu=T({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ra=De(lu),Dh=T({},Qt,{data:0}),Co=De(Dh),ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Io(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=cu[e])?!!i[e]:!1}function us(){return Io}var hu=T({},ss,{key:function(e){if(e.key){var i=ls[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Jn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:us,charCode:function(e){return e.type==="keypress"?Jn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sa=De(hu),fu=T({},as,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xo=De(fu),xi=T({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:us}),du=De(xi),mu=T({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),gu=De(mu),pu=T({},as,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),aa=De(pu),tn=T({},Qt,{newState:0,oldState:0}),yu=De(tn),_u=[9,13,27,32],ei=Pn&&"CompositionEvent"in window,u=null;Pn&&"documentMode"in document&&(u=document.documentMode);var m=Pn&&"TextEvent"in window&&!u,y=Pn&&(!ei||u&&8<u&&11>=u),b=" ",L=!1;function F(e,i){switch(e){case"keyup":return _u.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ut=!1;function we(e,i){switch(e){case"compositionend":return nt(i);case"keypress":return i.which!==32?null:(L=!0,b);case"textInput":return e=i.data,e===b&&L?null:e;default:return null}}function Lt(e,i){if(Ut)return e==="compositionend"||!ei&&F(e,i)?(e=So(),Ii=ar=Zn=null,Ut=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Re(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ne[e.type]:i==="textarea"}function Di(e,i,a,o){Ri?Ci?Ci.push(o):Ci=[o]:Ri=o,i=rc(i,"onChange"),0<i.length&&(a=new Ws("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Le=null,ni=null;function Do(e){jy(e,0)}function vu(e){var i=Kn(e);if(Eo(i))return e}function ag(e,i){if(e==="change")return i}var og=!1;if(Pn){var Nh;if(Pn){var Oh="oninput"in document;if(!Oh){var lg=document.createElement("div");lg.setAttribute("oninput","return;"),Oh=typeof lg.oninput=="function"}Nh=Oh}else Nh=!1;og=Nh&&(!document.documentMode||9<document.documentMode)}function ug(){Le&&(Le.detachEvent("onpropertychange",cg),ni=Le=null)}function cg(e){if(e.propertyName==="value"&&vu(ni)){var i=[];Di(i,ni,e,Tn(e)),su(Do,i)}}function NT(e,i,a){e==="focusin"?(ug(),Le=i,ni=a,Le.attachEvent("onpropertychange",cg)):e==="focusout"&&ug()}function OT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vu(ni)}function MT(e,i){if(e==="click")return vu(i)}function VT(e,i){if(e==="input"||e==="change")return vu(i)}function kT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var hn=typeof Object.is=="function"?Object.is:kT;function No(e,i){if(hn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!yi.call(i,h)||!hn(e[h],i[h]))return!1}return!0}function hg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fg(e,i){var a=hg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=hg(a)}}function dg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?dg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function mg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Wr(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Wr(e.document)}return i}function Mh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var PT=Pn&&"documentMode"in document&&11>=document.documentMode,oa=null,Vh=null,Oo=null,kh=!1;function gg(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kh||oa==null||oa!==Wr(o)||(o=oa,"selectionStart"in o&&Mh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Oo&&No(Oo,o)||(Oo=o,o=rc(Vh,"onSelect"),0<o.length&&(i=new Ws("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=oa)))}function cs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var la={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionrun:cs("Transition","TransitionRun"),transitionstart:cs("Transition","TransitionStart"),transitioncancel:cs("Transition","TransitionCancel"),transitionend:cs("Transition","TransitionEnd")},Ph={},pg={};Pn&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function hs(e){if(Ph[e])return Ph[e];if(!la[e])return e;var i=la[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in pg)return Ph[e]=i[a];return e}var yg=hs("animationend"),_g=hs("animationiteration"),vg=hs("animationstart"),UT=hs("transitionrun"),LT=hs("transitionstart"),jT=hs("transitioncancel"),Eg=hs("transitionend"),Tg=new Map,Uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uh.push("scrollEnd");function Un(e,i){Tg.set(e,i),kn(i,[e])}var bg=new WeakMap;function Sn(e,i){if(typeof e=="object"&&e!==null){var a=bg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Xs(i)},bg.set(e,i),i)}return{value:e,source:i,stack:Xs(i)}}var wn=[],ua=0,Lh=0;function Eu(){for(var e=ua,i=Lh=ua=0;i<e;){var a=wn[i];wn[i++]=null;var o=wn[i];wn[i++]=null;var h=wn[i];wn[i++]=null;var d=wn[i];if(wn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&Ag(a,h,d)}}function Tu(e,i,a,o){wn[ua++]=e,wn[ua++]=i,wn[ua++]=a,wn[ua++]=o,Lh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function jh(e,i,a,o){return Tu(e,i,a,o),bu(e)}function ca(e,i){return Tu(e,null,null,i),bu(e)}function Ag(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Ge(a),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function bu(e){if(50<il)throw il=0,Qf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ha={};function zT(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,i,a,o){return new zT(e,i,a,o)}function zh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ni(e,i){var a=e.alternate;return a===null?(a=fn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Sg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Au(e,i,a,o,h,d){var v=0;if(o=e,typeof e=="function")zh(e)&&(v=1);else if(typeof e=="string")v=qb(e,a,ft.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case A:return e=fn(31,a,i,h),e.elementType=A,e.lanes=d,e;case Q:return fs(a.children,h,d,i);case G:v=8,h|=24;break;case H:return e=fn(12,a,i,h|2),e.elementType=H,e.lanes=d,e;case gt:return e=fn(13,a,i,h),e.elementType=gt,e.lanes=d,e;case wt:return e=fn(19,a,i,h),e.elementType=wt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tt:case at:v=10;break t;case it:v=9;break t;case St:v=11;break t;case O:v=14;break t;case S:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=fn(v,a,i,h),i.elementType=e,i.type=o,i.lanes=d,i}function fs(e,i,a,o){return e=fn(7,e,o,i),e.lanes=a,e}function Bh(e,i,a){return e=fn(6,e,null,i),e.lanes=a,e}function qh(e,i,a){return i=fn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var fa=[],da=0,Su=null,wu=0,Rn=[],Cn=0,ds=null,Oi=1,Mi="";function ms(e,i){fa[da++]=wu,fa[da++]=Su,Su=e,wu=i}function wg(e,i,a){Rn[Cn++]=Oi,Rn[Cn++]=Mi,Rn[Cn++]=ds,ds=e;var o=Oi;e=Mi;var h=32-Ge(o)-1;o&=~(1<<h),a+=1;var d=32-Ge(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Oi=1<<32-Ge(i)+h|a<<h|o,Mi=d+e}else Oi=1<<d|a<<h|o,Mi=e}function Hh(e){e.return!==null&&(ms(e,1),wg(e,1,0))}function Fh(e){for(;e===Su;)Su=fa[--da],fa[da]=null,wu=fa[--da],fa[da]=null;for(;e===ds;)ds=Rn[--Cn],Rn[Cn]=null,Mi=Rn[--Cn],Rn[Cn]=null,Oi=Rn[--Cn],Rn[Cn]=null}var en=null,ce=null,Ft=!1,gs=null,ii=!1,Gh=Error(s(519));function ps(e){var i=Error(s(418,""));throw ko(Sn(i,e)),Gh}function Rg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Se]=e,i[pe]=o,a){case"dialog":Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":case"embed":Ot("load",i);break;case"video":case"audio":for(a=0;a<sl.length;a++)Ot(sl[a],i);break;case"source":Ot("error",i);break;case"img":case"image":case"link":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"input":Ot("invalid",i),ts(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Zs(i);break;case"select":Ot("invalid",i);break;case"textarea":Ot("invalid",i),es(i,o.value,o.defaultValue,o.children),Zs(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Hy(i.textContent,a)?(o.popover!=null&&(Ot("beforetoggle",i),Ot("toggle",i)),o.onScroll!=null&&Ot("scroll",i),o.onScrollEnd!=null&&Ot("scrollend",i),o.onClick!=null&&(i.onclick=sc),i=!0):i=!1,i||ps(e)}function Cg(e){for(en=e.return;en;)switch(en.tag){case 5:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:en=en.return}}function Mo(e){if(e!==en)return!1;if(!Ft)return Cg(e),Ft=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ld(e.type,e.memoizedProps)),a=!a),a&&ce&&ps(e),Cg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ce=jn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ce=null}}else i===27?(i=ce,br(e.type)?(e=fd,fd=null,ce=e):ce=i):ce=en?jn(e.stateNode.nextSibling):null;return!0}function Vo(){ce=en=null,Ft=!1}function Ig(){var e=gs;return e!==null&&(on===null?on=e:on.push.apply(on,e),gs=null),e}function ko(e){gs===null?gs=[e]:gs.push(e)}var Qh=W(null),ys=null,Vi=null;function or(e,i,a){et(Qh,i._currentValue),i._currentValue=a}function ki(e){e._currentValue=Qh.current,st(Qh)}function Yh(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function Kh(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var R=0;R<i.length;R++)if(E.context===i[R]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Yh(d.return,a,e),o||(v=null);break t}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Yh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Po(e,i,a,o){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;hn(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===Et.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(hl):e=[hl])}h=h.return}e!==null&&Kh(i,e,a,o),i.flags|=262144}function Ru(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _s(e){ys=e,Vi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return xg(ys,e)}function Cu(e,i){return ys===null&&_s(e),xg(e,i)}function xg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Vi===null){if(e===null)throw Error(s(308));Vi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Vi=Vi.next=i;return a}var BT=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},qT=r.unstable_scheduleCallback,HT=r.unstable_NormalPriority,Ce={$$typeof:at,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new BT,data:new Map,refCount:0}}function Uo(e){e.refCount--,e.refCount===0&&qT(HT,function(){e.controller.abort()})}var Lo=null,Xh=0,ma=0,ga=null;function FT(e,i){if(Lo===null){var a=Lo=[];Xh=0,ma=Wf(),ga={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Xh++,i.then(Dg,Dg),i}function Dg(){if(--Xh===0&&Lo!==null){ga!==null&&(ga.status="fulfilled");var e=Lo;Lo=null,ma=0,ga=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function GT(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Ng=Y.S;Y.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&FT(e,i),Ng!==null&&Ng(e,i)};var vs=W(null);function Zh(){var e=vs.current;return e!==null?e:ne.pooledCache}function Iu(e,i){i===null?et(vs,vs.current):et(vs,i.pool)}function Og(){var e=Zh();return e===null?null:{parent:Ce._currentValue,pool:e}}var jo=Error(s(460)),Mg=Error(s(474)),xu=Error(s(542)),Jh={then:function(){}};function Vg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Du(){}function kg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Du,Du),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ug(e),e;default:if(typeof i.status=="string")i.then(Du,Du);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ug(e),e}throw zo=i,jo}}var zo=null;function Pg(){if(zo===null)throw Error(s(459));var e=zo;return zo=null,e}function Ug(e){if(e===jo||e===xu)throw Error(s(483))}var lr=!1;function Wh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ur(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function cr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,($t&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=bu(e),Ag(e,null,a),i}return Tu(e,o,i,a),bu(e)}function Bo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,go(e,a)}}function ef(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var nf=!1;function qo(){if(nf){var e=ga;if(e!==null)throw e}}function Ho(e,i,a,o){nf=!1;var h=e.updateQueue;lr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,v===null?d=z:v.next=z,v=R;var K=e.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==v&&(E===null?K.firstBaseUpdate=z:E.next=z,K.lastBaseUpdate=R))}if(d!==null){var X=h.baseState;v=0,K=z=R=null,E=d;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(jt&B)===B:(o&B)===B){B!==0&&B===ma&&(nf=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var vt=e,mt=E;B=i;var te=a;switch(mt.tag){case 1:if(vt=mt.payload,typeof vt=="function"){X=vt.call(te,X,B);break t}X=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=mt.payload,B=typeof vt=="function"?vt.call(te,X,B):vt,B==null)break t;X=T({},X,B);break t;case 2:lr=!0}}B=E.callback,B!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(z=K=q,R=X):K=K.next=q,v|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);K===null&&(R=X),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),_r|=v,e.lanes=v,e.memoizedState=X}}function Lg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function jg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Lg(a[e],i)}var pa=W(null),Nu=W(0);function zg(e,i){e=qi,et(Nu,e),et(pa,i),qi=e|i.baseLanes}function rf(){et(Nu,qi),et(pa,pa.current)}function sf(){qi=Nu.current,st(pa),st(Nu)}var hr=0,It=null,Jt=null,_e=null,Ou=!1,ya=!1,Es=!1,Mu=0,Fo=0,_a=null,QT=0;function de(){throw Error(s(321))}function af(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!hn(e[a],i[a]))return!1;return!0}function of(e,i,a,o,h,d){return hr=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=e===null||e.memoizedState===null?Ap:Sp,Es=!1,d=a(o,h),Es=!1,ya&&(d=qg(i,a,o,h)),Bg(e),d}function Bg(e){Y.H=ju;var i=Jt!==null&&Jt.next!==null;if(hr=0,_e=Jt=It=null,Ou=!1,Fo=0,_a=null,i)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&Ru(e)&&(Oe=!0))}function qg(e,i,a,o){It=e;var h=0;do{if(ya&&(_a=null),Fo=0,ya=!1,25<=h)throw Error(s(301));if(h+=1,_e=Jt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=WT,d=i(a,o)}while(ya);return d}function YT(){var e=Y.H,i=e.useState()[0];return i=typeof i.then=="function"?Go(i):i,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(It.flags|=1024),i}function lf(){var e=Mu!==0;return Mu=0,e}function uf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function cf(e){if(Ou){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Ou=!1}hr=0,_e=Jt=It=null,ya=!1,Fo=Mu=0,_a=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?It.memoizedState=_e=e:_e=_e.next=e,_e}function ve(){if(Jt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var i=_e===null?It.memoizedState:_e.next;if(i!==null)_e=i,Jt=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},_e===null?It.memoizedState=_e=e:_e=_e.next=e}return _e}function hf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Go(e){var i=Fo;return Fo+=1,_a===null&&(_a=[]),e=kg(_a,e,i),i=It,(_e===null?i.memoizedState:_e.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?Ap:Sp),e}function Vu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Go(e);if(e.$$typeof===at)return Qe(e)}throw Error(s(438,String(e)))}function ff(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=It.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=hf(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=D;return i.index++,a}function Pi(e,i){return typeof i=="function"?i(e):i}function ku(e){var i=ve();return df(i,Jt,e)}function df(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=v=null,R=null,z=i,K=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(jt&X)===X:(hr&X)===X){var B=z.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===ma&&(K=!0);else if((hr&B)===B){z=z.next,B===ma&&(K=!0);continue}else X={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=X,v=d):R=R.next=X,It.lanes|=B,_r|=B;X=z.action,Es&&a(d,X),d=z.hasEagerState?z.eagerState:a(d,X)}else B={lane:X,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=B,v=d):R=R.next=B,It.lanes|=X,_r|=X;z=z.next}while(z!==null&&z!==i);if(R===null?v=d:R.next=E,!hn(d,e.memoizedState)&&(Oe=!0,K&&(a=ga,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=R,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function mf(e){var i=ve(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);hn(d,i.memoizedState)||(Oe=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Hg(e,i,a){var o=It,h=ve(),d=Ft;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!hn((Jt||h).memoizedState,a);v&&(h.memoizedState=a,Oe=!0),h=h.queue;var E=Qg.bind(null,o,h,e);if(Qo(2048,8,E,[e]),h.getSnapshot!==i||v||_e!==null&&_e.memoizedState.tag&1){if(o.flags|=2048,va(9,Pu(),Gg.bind(null,o,h,a,i),null),ne===null)throw Error(s(349));d||(hr&124)!==0||Fg(o,i,a)}return a}function Fg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=hf(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Gg(e,i,a,o){i.value=a,i.getSnapshot=o,Yg(i)&&Kg(e)}function Qg(e,i,a){return a(function(){Yg(i)&&Kg(e)})}function Yg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!hn(e,a)}catch{return!0}}function Kg(e){var i=ca(e,2);i!==null&&yn(i,e,2)}function gf(e){var i=sn();if(typeof e=="function"){var a=e;if(e=a(),Es){un(!0);try{a()}finally{un(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},i}function $g(e,i,a,o){return e.baseState=a,df(e,Jt,typeof o=="function"?o:Pi)}function KT(e,i,a,o,h){if(Lu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,Xg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Xg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var d=Y.T,v={};Y.T=v;try{var E=a(h,o),R=Y.S;R!==null&&R(v,E),Zg(e,i,E)}catch(z){pf(e,i,z)}finally{Y.T=d}}else try{d=a(h,o),Zg(e,i,d)}catch(z){pf(e,i,z)}}function Zg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Jg(e,i,o)},function(o){return pf(e,i,o)}):Jg(e,i,a)}function Jg(e,i,a){i.status="fulfilled",i.value=a,Wg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Xg(e,a)))}function pf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Wg(i),i=i.next;while(i!==o)}e.action=null}function Wg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function tp(e,i){return i}function ep(e,i){if(Ft){var a=ne.formState;if(a!==null){t:{var o=It;if(Ft){if(ce){e:{for(var h=ce,d=ii;h.nodeType!==8;){if(!d){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ce=jn(h.nextSibling),o=h.data==="F!";break t}}ps(o)}o=!1}o&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tp,lastRenderedState:i},a.queue=o,a=Ep.bind(null,It,o),o.dispatch=a,o=gf(!1),d=Tf.bind(null,It,!1,o.queue),o=sn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=KT.bind(null,It,h,d,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function np(e){var i=ve();return ip(i,Jt,e)}function ip(e,i,a){if(i=df(e,i,tp)[0],e=ku(Pi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Go(i)}catch(v){throw v===jo?xu:v}else o=i;i=ve();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(It.flags|=2048,va(9,Pu(),$T.bind(null,h,a),null)),[o,d,e]}function $T(e,i){e.action=i}function rp(e){var i=ve(),a=Jt;if(a!==null)return ip(i,a,e);ve(),i=i.memoizedState,a=ve();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function va(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=It.updateQueue,i===null&&(i=hf(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Pu(){return{destroy:void 0,resource:void 0}}function sp(){return ve().memoizedState}function Uu(e,i,a,o){var h=sn();o=o===void 0?null:o,It.flags|=e,h.memoizedState=va(1|i,Pu(),a,o)}function Qo(e,i,a,o){var h=ve();o=o===void 0?null:o;var d=h.memoizedState.inst;Jt!==null&&o!==null&&af(o,Jt.memoizedState.deps)?h.memoizedState=va(i,d,a,o):(It.flags|=e,h.memoizedState=va(1|i,d,a,o))}function ap(e,i){Uu(8390656,8,e,i)}function op(e,i){Qo(2048,8,e,i)}function lp(e,i){return Qo(4,2,e,i)}function up(e,i){return Qo(4,4,e,i)}function cp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function hp(e,i,a){a=a!=null?a.concat([e]):null,Qo(4,4,cp.bind(null,i,e),a)}function yf(){}function fp(e,i){var a=ve();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&af(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function dp(e,i){var a=ve();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&af(i,o[1]))return o[0];if(o=e(),Es){un(!0);try{e()}finally{un(!1)}}return a.memoizedState=[o,i],o}function _f(e,i,a){return a===void 0||(hr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=py(),It.lanes|=e,_r|=e,a)}function mp(e,i,a,o){return hn(a,i)?a:pa.current!==null?(e=_f(e,a,o),hn(e,i)||(Oe=!0),e):(hr&42)===0?(Oe=!0,e.memoizedState=a):(e=py(),It.lanes|=e,_r|=e,i)}function gp(e,i,a,o,h){var d=rt.p;rt.p=d!==0&&8>d?d:8;var v=Y.T,E={};Y.T=E,Tf(e,!1,i,a);try{var R=h(),z=Y.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=GT(R,o);Yo(e,i,K,pn(e))}else Yo(e,i,o,pn(e))}catch(X){Yo(e,i,{then:function(){},status:"rejected",reason:X},pn())}finally{rt.p=d,Y.T=v}}function XT(){}function vf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=pp(e).queue;gp(e,h,i,ct,a===null?XT:function(){return yp(e),a(o)})}function pp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ct},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function yp(e){var i=pp(e).next.queue;Yo(e,i,{},pn())}function Ef(){return Qe(hl)}function _p(){return ve().memoizedState}function vp(){return ve().memoizedState}function ZT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=pn();e=ur(a);var o=cr(i,e,a);o!==null&&(yn(o,i,a),Bo(o,i,a)),i={cache:$h()},e.payload=i;return}i=i.return}}function JT(e,i,a){var o=pn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Lu(e)?Tp(i,a):(a=jh(e,i,a,o),a!==null&&(yn(a,e,o),bp(a,i,o)))}function Ep(e,i,a){var o=pn();Yo(e,i,a,o)}function Yo(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lu(e))Tp(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,hn(E,v))return Tu(e,i,h,0),ne===null&&Eu(),!1}catch{}finally{}if(a=jh(e,i,h,o),a!==null)return yn(a,e,o),bp(a,i,o),!0}return!1}function Tf(e,i,a,o){if(o={lane:2,revertLane:Wf(),action:o,hasEagerState:!1,eagerState:null,next:null},Lu(e)){if(i)throw Error(s(479))}else i=jh(e,a,o,2),i!==null&&yn(i,e,2)}function Lu(e){var i=e.alternate;return e===It||i!==null&&i===It}function Tp(e,i){ya=Ou=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function bp(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,go(e,a)}}var ju={readContext:Qe,use:Vu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},Ap={readContext:Qe,use:Vu,useCallback:function(e,i){return sn().memoizedState=[e,i===void 0?null:i],e},useContext:Qe,useEffect:ap,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Uu(4194308,4,cp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Uu(4194308,4,e,i)},useInsertionEffect:function(e,i){Uu(4,2,e,i)},useMemo:function(e,i){var a=sn();i=i===void 0?null:i;var o=e();if(Es){un(!0);try{e()}finally{un(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=sn();if(a!==void 0){var h=a(i);if(Es){un(!0);try{a(i)}finally{un(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=JT.bind(null,It,e),[o.memoizedState,e]},useRef:function(e){var i=sn();return e={current:e},i.memoizedState=e},useState:function(e){e=gf(e);var i=e.queue,a=Ep.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:yf,useDeferredValue:function(e,i){var a=sn();return _f(a,e,i)},useTransition:function(){var e=gf(!1);return e=gp.bind(null,It,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=It,h=sn();if(Ft){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ne===null)throw Error(s(349));(jt&124)!==0||Fg(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ap(Qg.bind(null,o,d,e),[e]),o.flags|=2048,va(9,Pu(),Gg.bind(null,o,d,a,i),null),a},useId:function(){var e=sn(),i=ne.identifierPrefix;if(Ft){var a=Mi,o=Oi;a=(o&~(1<<32-Ge(o)-1)).toString(32)+a,i="«"+i+"R"+a,a=Mu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=QT++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:Ef,useFormState:ep,useActionState:ep,useOptimistic:function(e){var i=sn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Tf.bind(null,It,!0,a),a.dispatch=i,[e,i]},useMemoCache:ff,useCacheRefresh:function(){return sn().memoizedState=ZT.bind(null,It)}},Sp={readContext:Qe,use:Vu,useCallback:fp,useContext:Qe,useEffect:op,useImperativeHandle:hp,useInsertionEffect:lp,useLayoutEffect:up,useMemo:dp,useReducer:ku,useRef:sp,useState:function(){return ku(Pi)},useDebugValue:yf,useDeferredValue:function(e,i){var a=ve();return mp(a,Jt.memoizedState,e,i)},useTransition:function(){var e=ku(Pi)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:Go(e),i]},useSyncExternalStore:Hg,useId:_p,useHostTransitionStatus:Ef,useFormState:np,useActionState:np,useOptimistic:function(e,i){var a=ve();return $g(a,Jt,e,i)},useMemoCache:ff,useCacheRefresh:vp},WT={readContext:Qe,use:Vu,useCallback:fp,useContext:Qe,useEffect:op,useImperativeHandle:hp,useInsertionEffect:lp,useLayoutEffect:up,useMemo:dp,useReducer:mf,useRef:sp,useState:function(){return mf(Pi)},useDebugValue:yf,useDeferredValue:function(e,i){var a=ve();return Jt===null?_f(a,e,i):mp(a,Jt.memoizedState,e,i)},useTransition:function(){var e=mf(Pi)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:Go(e),i]},useSyncExternalStore:Hg,useId:_p,useHostTransitionStatus:Ef,useFormState:rp,useActionState:rp,useOptimistic:function(e,i){var a=ve();return Jt!==null?$g(a,Jt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ff,useCacheRefresh:vp},Ea=null,Ko=0;function zu(e){var i=Ko;return Ko+=1,Ea===null&&(Ea=[]),kg(Ea,e,i)}function $o(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Bu(e,i){throw i.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function wp(e){var i=e._init;return i(e._payload)}function Rp(e){function i(V,N){if(e){var j=V.deletions;j===null?(V.deletions=[N],V.flags|=16):j.push(N)}}function a(V,N){if(!e)return null;for(;N!==null;)i(V,N),N=N.sibling;return null}function o(V){for(var N=new Map;V!==null;)V.key!==null?N.set(V.key,V):N.set(V.index,V),V=V.sibling;return N}function h(V,N){return V=Ni(V,N),V.index=0,V.sibling=null,V}function d(V,N,j){return V.index=j,e?(j=V.alternate,j!==null?(j=j.index,j<N?(V.flags|=67108866,N):j):(V.flags|=67108866,N)):(V.flags|=1048576,N)}function v(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,N,j,$){return N===null||N.tag!==6?(N=Bh(j,V.mode,$),N.return=V,N):(N=h(N,j),N.return=V,N)}function R(V,N,j,$){var ut=j.type;return ut===Q?K(V,N,j.props.children,$,j.key):N!==null&&(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&wp(ut)===N.type)?(N=h(N,j.props),$o(N,j),N.return=V,N):(N=Au(j.type,j.key,j.props,null,V.mode,$),$o(N,j),N.return=V,N)}function z(V,N,j,$){return N===null||N.tag!==4||N.stateNode.containerInfo!==j.containerInfo||N.stateNode.implementation!==j.implementation?(N=qh(j,V.mode,$),N.return=V,N):(N=h(N,j.children||[]),N.return=V,N)}function K(V,N,j,$,ut){return N===null||N.tag!==7?(N=fs(j,V.mode,$,ut),N.return=V,N):(N=h(N,j),N.return=V,N)}function X(V,N,j){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Bh(""+N,V.mode,j),N.return=V,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case I:return j=Au(N.type,N.key,N.props,null,V.mode,j),$o(j,N),j.return=V,j;case U:return N=qh(N,V.mode,j),N.return=V,N;case S:var $=N._init;return N=$(N._payload),X(V,N,j)}if(Vt(N)||P(N))return N=fs(N,V.mode,j,null),N.return=V,N;if(typeof N.then=="function")return X(V,zu(N),j);if(N.$$typeof===at)return X(V,Cu(V,N),j);Bu(V,N)}return null}function B(V,N,j,$){var ut=N!==null?N.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ut!==null?null:E(V,N,""+j,$);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case I:return j.key===ut?R(V,N,j,$):null;case U:return j.key===ut?z(V,N,j,$):null;case S:return ut=j._init,j=ut(j._payload),B(V,N,j,$)}if(Vt(j)||P(j))return ut!==null?null:K(V,N,j,$,null);if(typeof j.then=="function")return B(V,N,zu(j),$);if(j.$$typeof===at)return B(V,N,Cu(V,j),$);Bu(V,j)}return null}function q(V,N,j,$,ut){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return V=V.get(j)||null,E(N,V,""+$,ut);if(typeof $=="object"&&$!==null){switch($.$$typeof){case I:return V=V.get($.key===null?j:$.key)||null,R(N,V,$,ut);case U:return V=V.get($.key===null?j:$.key)||null,z(N,V,$,ut);case S:var Dt=$._init;return $=Dt($._payload),q(V,N,j,$,ut)}if(Vt($)||P($))return V=V.get(j)||null,K(N,V,$,ut,null);if(typeof $.then=="function")return q(V,N,j,zu($),ut);if($.$$typeof===at)return q(V,N,j,Cu(N,$),ut);Bu(N,$)}return null}function vt(V,N,j,$){for(var ut=null,Dt=null,ht=N,pt=N=0,Ve=null;ht!==null&&pt<j.length;pt++){ht.index>pt?(Ve=ht,ht=null):Ve=ht.sibling;var Ht=B(V,ht,j[pt],$);if(Ht===null){ht===null&&(ht=Ve);break}e&&ht&&Ht.alternate===null&&i(V,ht),N=d(Ht,N,pt),Dt===null?ut=Ht:Dt.sibling=Ht,Dt=Ht,ht=Ve}if(pt===j.length)return a(V,ht),Ft&&ms(V,pt),ut;if(ht===null){for(;pt<j.length;pt++)ht=X(V,j[pt],$),ht!==null&&(N=d(ht,N,pt),Dt===null?ut=ht:Dt.sibling=ht,Dt=ht);return Ft&&ms(V,pt),ut}for(ht=o(ht);pt<j.length;pt++)Ve=q(ht,V,pt,j[pt],$),Ve!==null&&(e&&Ve.alternate!==null&&ht.delete(Ve.key===null?pt:Ve.key),N=d(Ve,N,pt),Dt===null?ut=Ve:Dt.sibling=Ve,Dt=Ve);return e&&ht.forEach(function(Cr){return i(V,Cr)}),Ft&&ms(V,pt),ut}function mt(V,N,j,$){if(j==null)throw Error(s(151));for(var ut=null,Dt=null,ht=N,pt=N=0,Ve=null,Ht=j.next();ht!==null&&!Ht.done;pt++,Ht=j.next()){ht.index>pt?(Ve=ht,ht=null):Ve=ht.sibling;var Cr=B(V,ht,Ht.value,$);if(Cr===null){ht===null&&(ht=Ve);break}e&&ht&&Cr.alternate===null&&i(V,ht),N=d(Cr,N,pt),Dt===null?ut=Cr:Dt.sibling=Cr,Dt=Cr,ht=Ve}if(Ht.done)return a(V,ht),Ft&&ms(V,pt),ut;if(ht===null){for(;!Ht.done;pt++,Ht=j.next())Ht=X(V,Ht.value,$),Ht!==null&&(N=d(Ht,N,pt),Dt===null?ut=Ht:Dt.sibling=Ht,Dt=Ht);return Ft&&ms(V,pt),ut}for(ht=o(ht);!Ht.done;pt++,Ht=j.next())Ht=q(ht,V,pt,Ht.value,$),Ht!==null&&(e&&Ht.alternate!==null&&ht.delete(Ht.key===null?pt:Ht.key),N=d(Ht,N,pt),Dt===null?ut=Ht:Dt.sibling=Ht,Dt=Ht);return e&&ht.forEach(function(tA){return i(V,tA)}),Ft&&ms(V,pt),ut}function te(V,N,j,$){if(typeof j=="object"&&j!==null&&j.type===Q&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case I:t:{for(var ut=j.key;N!==null;){if(N.key===ut){if(ut=j.type,ut===Q){if(N.tag===7){a(V,N.sibling),$=h(N,j.props.children),$.return=V,V=$;break t}}else if(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&wp(ut)===N.type){a(V,N.sibling),$=h(N,j.props),$o($,j),$.return=V,V=$;break t}a(V,N);break}else i(V,N);N=N.sibling}j.type===Q?($=fs(j.props.children,V.mode,$,j.key),$.return=V,V=$):($=Au(j.type,j.key,j.props,null,V.mode,$),$o($,j),$.return=V,V=$)}return v(V);case U:t:{for(ut=j.key;N!==null;){if(N.key===ut)if(N.tag===4&&N.stateNode.containerInfo===j.containerInfo&&N.stateNode.implementation===j.implementation){a(V,N.sibling),$=h(N,j.children||[]),$.return=V,V=$;break t}else{a(V,N);break}else i(V,N);N=N.sibling}$=qh(j,V.mode,$),$.return=V,V=$}return v(V);case S:return ut=j._init,j=ut(j._payload),te(V,N,j,$)}if(Vt(j))return vt(V,N,j,$);if(P(j)){if(ut=P(j),typeof ut!="function")throw Error(s(150));return j=ut.call(j),mt(V,N,j,$)}if(typeof j.then=="function")return te(V,N,zu(j),$);if(j.$$typeof===at)return te(V,N,Cu(V,j),$);Bu(V,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,N!==null&&N.tag===6?(a(V,N.sibling),$=h(N,j),$.return=V,V=$):(a(V,N),$=Bh(j,V.mode,$),$.return=V,V=$),v(V)):a(V,N)}return function(V,N,j,$){try{Ko=0;var ut=te(V,N,j,$);return Ea=null,ut}catch(ht){if(ht===jo||ht===xu)throw ht;var Dt=fn(29,ht,null,V.mode);return Dt.lanes=$,Dt.return=V,Dt}finally{}}}var Ta=Rp(!0),Cp=Rp(!1),In=W(null),ri=null;function fr(e){var i=e.alternate;et(Ie,Ie.current&1),et(In,e),ri===null&&(i===null||pa.current!==null||i.memoizedState!==null)&&(ri=e)}function Ip(e){if(e.tag===22){if(et(Ie,Ie.current),et(In,e),ri===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ri=e)}}else dr()}function dr(){et(Ie,Ie.current),et(In,In.current)}function Ui(e){st(In),ri===e&&(ri=null),st(Ie)}var Ie=W(0);function qu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||hd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function bf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Af={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=pn(),h=ur(o);h.payload=i,a!=null&&(h.callback=a),i=cr(e,h,o),i!==null&&(yn(i,e,o),Bo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=pn(),h=ur(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=cr(e,h,o),i!==null&&(yn(i,e,o),Bo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=pn(),o=ur(a);o.tag=2,i!=null&&(o.callback=i),i=cr(e,o,a),i!==null&&(yn(i,e,a),Bo(i,e,a))}};function xp(e,i,a,o,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!No(a,o)||!No(h,d):!0}function Dp(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Af.enqueueReplaceState(i,i.state,null)}function Ts(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Hu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Np(e){Hu(e)}function Op(e){console.error(e)}function Mp(e){Hu(e)}function Fu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Vp(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Sf(e,i,a){return a=ur(a),a.tag=3,a.payload={element:null},a.callback=function(){Fu(e,i)},a}function kp(e){return e=ur(e),e.tag=3,e}function Pp(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){Vp(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Vp(i,a,o),typeof h!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function tb(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Po(i,a,h,!0),a=In.current,a!==null){switch(a.tag){case 13:return ri===null?Kf():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Jh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Xf(e,o,h)),!1;case 22:return a.flags|=65536,o===Jh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Xf(e,o,h)),!1}throw Error(s(435,a.tag))}return Xf(e,o,h),Kf(),!1}if(Ft)return i=In.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Gh&&(e=Error(s(422),{cause:o}),ko(Sn(e,a)))):(o!==Gh&&(i=Error(s(423),{cause:o}),ko(Sn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Sn(o,a),h=Sf(e.stateNode,o,h),ef(e,h),he!==4&&(he=2)),!1;var d=Error(s(520),{cause:o});if(d=Sn(d,a),nl===null?nl=[d]:nl.push(d),he!==4&&(he=2),i===null)return!0;o=Sn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Sf(a.stateNode,o,e),ef(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(vr===null||!vr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=kp(h),Pp(h,e,a,o),ef(a,h),!1}a=a.return}while(a!==null);return!1}var Up=Error(s(461)),Oe=!1;function je(e,i,a,o){i.child=e===null?Cp(i,null,a,o):Ta(i,e.child,a,o)}function Lp(e,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return _s(i),o=of(e,i,a,v,d,h),E=lf(),e!==null&&!Oe?(uf(e,i,h),Li(e,i,h)):(Ft&&E&&Hh(i),i.flags|=1,je(e,i,o,h),i.child)}function jp(e,i,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!zh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,zp(e,i,d,o,h)):(e=Au(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Of(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:No,a(v,o)&&e.ref===i.ref)return Li(e,i,h)}return i.flags|=1,e=Ni(d,o),e.ref=i.ref,e.return=i,i.child=e}function zp(e,i,a,o,h){if(e!==null){var d=e.memoizedProps;if(No(d,o)&&e.ref===i.ref)if(Oe=!1,i.pendingProps=o=d,Of(e,h))(e.flags&131072)!==0&&(Oe=!0);else return i.lanes=e.lanes,Li(e,i,h)}return wf(e,i,a,o,h)}function Bp(e,i,a){var o=i.pendingProps,h=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~o}else i.childLanes=0,i.child=null;return qp(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Iu(i,d!==null?d.cachePool:null),d!==null?zg(i,d):rf(),Ip(i);else return i.lanes=i.childLanes=536870912,qp(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Iu(i,d.cachePool),zg(i,d),dr(),i.memoizedState=null):(e!==null&&Iu(i,null),rf(),dr());return je(e,i,h,a),i.child}function qp(e,i,a,o){var h=Zh();return h=h===null?null:{parent:Ce._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Iu(i,null),rf(),Ip(i),e!==null&&Po(e,i,o,!0),null}function Gu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function wf(e,i,a,o,h){return _s(i),a=of(e,i,a,o,void 0,h),o=lf(),e!==null&&!Oe?(uf(e,i,h),Li(e,i,h)):(Ft&&o&&Hh(i),i.flags|=1,je(e,i,a,h),i.child)}function Hp(e,i,a,o,h,d){return _s(i),i.updateQueue=null,a=qg(i,o,a,h),Bg(e),o=lf(),e!==null&&!Oe?(uf(e,i,d),Li(e,i,d)):(Ft&&o&&Hh(i),i.flags|=1,je(e,i,a,d),i.child)}function Fp(e,i,a,o,h){if(_s(i),i.stateNode===null){var d=ha,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qe(v)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Af,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},Wh(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qe(v):ha,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(bf(i,a,v,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Af.enqueueReplaceState(d,d.state,null),Ho(i,o,d,h),qo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,R=Ts(a,E);d.props=R;var z=d.context,K=a.contextType;v=ha,typeof K=="object"&&K!==null&&(v=Qe(K));var X=a.getDerivedStateFromProps;K=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||z!==v)&&Dp(i,d,o,v),lr=!1;var B=i.memoizedState;d.state=B,Ho(i,o,d,h),qo(),z=i.memoizedState,E||B!==z||lr?(typeof X=="function"&&(bf(i,a,X,o),z=i.memoizedState),(R=lr||xp(i,a,R,o,B,z,v))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=z),d.props=o,d.state=z,d.context=v,o=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,tf(e,i),v=i.memoizedProps,K=Ts(a,v),d.props=K,X=i.pendingProps,B=d.context,z=a.contextType,R=ha,typeof z=="object"&&z!==null&&(R=Qe(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==X||B!==R)&&Dp(i,d,o,R),lr=!1,B=i.memoizedState,d.state=B,Ho(i,o,d,h),qo();var q=i.memoizedState;v!==X||B!==q||lr||e!==null&&e.dependencies!==null&&Ru(e.dependencies)?(typeof E=="function"&&(bf(i,a,E,o),q=i.memoizedState),(K=lr||xp(i,a,K,o,B,q,R)||e!==null&&e.dependencies!==null&&Ru(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,q,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,q,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=q),d.props=o,d.state=q,d.context=R,o=K):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),o=!1)}return d=o,Gu(e,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&o?(i.child=Ta(i,e.child,null,h),i.child=Ta(i,null,a,h)):je(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Li(e,i,h),e}function Gp(e,i,a,o){return Vo(),i.flags|=256,je(e,i,a,o),i.child}var Rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cf(e){return{baseLanes:e,cachePool:Og()}}function If(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=xn),e}function Qp(e,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ft){if(h?fr(i):dr(),Ft){var E=ce,R;if(R=E){t:{for(R=E,E=ii;R.nodeType!==8;){if(!E){E=null;break t}if(R=jn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(i.memoizedState={dehydrated:E,treeContext:ds!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},R=fn(18,null,null,0),R.stateNode=E,R.return=i,i.child=R,en=i,ce=null,R=!0):R=!1}R||ps(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return hd(E)?i.lanes=32:i.lanes=536870912,null;Ui(i)}return E=o.children,o=o.fallback,h?(dr(),h=i.mode,E=Qu({mode:"hidden",children:E},h),o=fs(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=Cf(a),h.childLanes=If(e,v,a),i.memoizedState=Rf,o):(fr(i),xf(i,E))}if(R=e.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(d)i.flags&256?(fr(i),i.flags&=-257,i=Df(e,i,a)):i.memoizedState!==null?(dr(),i.child=e.child,i.flags|=128,i=null):(dr(),h=o.fallback,E=i.mode,o=Qu({mode:"visible",children:o.children},E),h=fs(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,Ta(i,e.child,null,a),o=i.child,o.memoizedState=Cf(a),o.childLanes=If(e,v,a),i.memoizedState=Rf,i=h);else if(fr(i),hd(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var z=v.dgst;v=z,o=Error(s(419)),o.stack="",o.digest=v,ko({value:o,source:null,stack:null}),i=Df(e,i,a)}else if(Oe||Po(e,i,a,!1),v=(a&e.childLanes)!==0,Oe||v){if(v=ne,v!==null&&(o=a&-a,o=(o&42)!==0?1:tr(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==R.retryLane))throw R.retryLane=o,ca(e,o),yn(v,e,o),Up;E.data==="$?"||Kf(),i=Df(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=R.treeContext,ce=jn(E.nextSibling),en=i,Ft=!0,gs=null,ii=!1,e!==null&&(Rn[Cn++]=Oi,Rn[Cn++]=Mi,Rn[Cn++]=ds,Oi=e.id,Mi=e.overflow,ds=i),i=xf(i,o.children),i.flags|=4096);return i}return h?(dr(),h=o.fallback,E=i.mode,R=e.child,z=R.sibling,o=Ni(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?h=Ni(z,h):(h=fs(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=Cf(a):(R=E.cachePool,R!==null?(z=Ce._currentValue,R=R.parent!==z?{parent:z,pool:z}:R):R=Og(),E={baseLanes:E.baseLanes|a,cachePool:R}),h.memoizedState=E,h.childLanes=If(e,v,a),i.memoizedState=Rf,o):(fr(i),a=e.child,e=a.sibling,a=Ni(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function xf(e,i){return i=Qu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Qu(e,i){return e=fn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Df(e,i,a){return Ta(i,e.child,null,a),e=xf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Yp(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Yh(e.return,i,a)}function Nf(e,i,a,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=h)}function Kp(e,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;if(je(e,i,o.children,a),o=Ie.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yp(e,a,i);else if(e.tag===19)Yp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(et(Ie,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&qu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Nf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&qu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Nf(i,!0,a,null,d);break;case"together":Nf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Li(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),_r|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Po(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ni(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ni(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Of(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Ru(e)))}function eb(e,i,a){switch(i.tag){case 3:qt(i,i.stateNode.containerInfo),or(i,Ce,e.memoizedState.cache),Vo();break;case 27:case 5:Gn(i);break;case 4:qt(i,i.stateNode.containerInfo);break;case 10:or(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(fr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Qp(e,i,a):(fr(i),e=Li(e,i,a),e!==null?e.sibling:null);fr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Po(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Kp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(Ie,Ie.current),o)break;return null;case 22:case 23:return i.lanes=0,Bp(e,i,a);case 24:or(i,Ce,e.memoizedState.cache)}return Li(e,i,a)}function $p(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Oe=!0;else{if(!Of(e,a)&&(i.flags&128)===0)return Oe=!1,eb(e,i,a);Oe=(e.flags&131072)!==0}else Oe=!1,Ft&&(i.flags&1048576)!==0&&wg(i,wu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")zh(o)?(e=Ts(o,e),i.tag=1,i=Fp(null,i,o,e,a)):(i.tag=0,i=wf(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===St){i.tag=11,i=Lp(null,i,o,e,a);break t}else if(h===O){i.tag=14,i=jp(null,i,o,e,a);break t}}throw i=Gt(o)||o,Error(s(306,i,""))}}return i;case 0:return wf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Ts(o,i.pendingProps),Fp(e,i,o,h,a);case 3:t:{if(qt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,tf(e,i),Ho(i,o,null,a);var v=i.memoizedState;if(o=v.cache,or(i,Ce,o),o!==d.cache&&Kh(i,[Ce],a,!0),qo(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Gp(e,i,o,a);break t}else if(o!==h){h=Sn(Error(s(424)),i),ko(h),i=Gp(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ce=jn(e.firstChild),en=i,Ft=!0,gs=null,ii=!0,a=Cp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Vo(),o===h){i=Li(e,i,a);break t}je(e,i,o,a)}i=i.child}return i;case 26:return Gu(e,i),e===null?(a=Wy(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ft||(a=i.type,e=i.pendingProps,o=ac(_t.current).createElement(a),o[Se]=i,o[pe]=e,Be(o,a,e),fe(o),i.stateNode=o):i.memoizedState=Wy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Gn(i),e===null&&Ft&&(o=i.stateNode=Xy(i.type,i.pendingProps,_t.current),en=i,ii=!0,h=ce,br(i.type)?(fd=h,ce=jn(o.firstChild)):ce=h),je(e,i,i.pendingProps.children,a),Gu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ft&&((h=o=ce)&&(o=xb(o,i.type,i.pendingProps,ii),o!==null?(i.stateNode=o,en=i,ce=jn(o.firstChild),ii=!1,h=!0):h=!1),h||ps(i)),Gn(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,o=d.children,ld(h,d)?o=null:v!==null&&ld(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=of(e,i,YT,null,null,a),hl._currentValue=h),Gu(e,i),je(e,i,o,a),i.child;case 6:return e===null&&Ft&&((e=a=ce)&&(a=Db(a,i.pendingProps,ii),a!==null?(i.stateNode=a,en=i,ce=null,e=!0):e=!1),e||ps(i)),null;case 13:return Qp(e,i,a);case 4:return qt(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Ta(i,null,o,a):je(e,i,o,a),i.child;case 11:return Lp(e,i,i.type,i.pendingProps,a);case 7:return je(e,i,i.pendingProps,a),i.child;case 8:return je(e,i,i.pendingProps.children,a),i.child;case 12:return je(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,or(i,i.type,o.value),je(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,_s(i),h=Qe(h),o=o(h),i.flags|=1,je(e,i,o,a),i.child;case 14:return jp(e,i,i.type,i.pendingProps,a);case 15:return zp(e,i,i.type,i.pendingProps,a);case 19:return Kp(e,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},e===null?(a=Qu(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ni(e.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Bp(e,i,a);case 24:return _s(i),o=Qe(Ce),e===null?(h=Zh(),h===null&&(h=ne,d=$h(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},Wh(i),or(i,Ce,h)):((e.lanes&a)!==0&&(tf(e,i),Ho(i,null,null,a),qo()),h=e.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),or(i,Ce,o)):(o=d.cache,or(i,Ce,o),o!==h.cache&&Kh(i,[Ce],a,!0))),je(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ji(e){e.flags|=4}function Xp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!r_(i)){if(i=In.current,i!==null&&((jt&4194048)===jt?ri!==null:(jt&62914560)!==jt&&(jt&536870912)===0||i!==ri))throw zo=Jh,Mg;e.flags|=8192}}function Yu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?fo():536870912,e.lanes|=i,wa|=i)}function Xo(e,i){if(!Ft)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function oe(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function nb(e,i,a){var o=i.pendingProps;switch(Fh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(i),null;case 1:return oe(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ki(Ce),rn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Mo(i)?ji(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ig())),oe(i),null;case 26:return a=i.memoizedState,e===null?(ji(i),a!==null?(oe(i),Xp(i,a)):(oe(i),i.flags&=-16777217)):a?a!==e.memoizedState?(ji(i),oe(i),Xp(i,a)):(oe(i),i.flags&=-16777217):(e.memoizedProps!==o&&ji(i),oe(i),i.flags&=-16777217),null;case 27:Mn(i),a=_t.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&ji(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return oe(i),null}e=ft.current,Mo(i)?Rg(i):(e=Xy(h,o,a),i.stateNode=e,ji(i))}return oe(i),null;case 5:if(Mn(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&ji(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return oe(i),null}if(e=ft.current,Mo(i))Rg(i);else{switch(h=ac(_t.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[Se]=i,e[pe]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Be(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ji(i)}}return oe(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&ji(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=_t.current,Mo(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=en,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Se]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Hy(e.nodeValue,a)),e||ps(i)}else e=ac(e).createTextNode(o),e[Se]=i,i.stateNode=e}return oe(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Mo(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Se]=i}else Vo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;oe(i),h=!1}else h=Ig(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ui(i),i):(Ui(i),null)}if(Ui(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Yu(i,i.updateQueue),oe(i),null;case 4:return rn(),e===null&&id(i.stateNode.containerInfo),oe(i),null;case 10:return ki(i.type),oe(i),null;case 19:if(st(Ie),h=i.memoizedState,h===null)return oe(i),null;if(o=(i.flags&128)!==0,d=h.rendering,d===null)if(o)Xo(h,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=qu(e),d!==null){for(i.flags|=128,Xo(h,!1),e=d.updateQueue,i.updateQueue=e,Yu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Sg(a,e),a=a.sibling;return et(Ie,Ie.current&1|2),i.child}e=e.sibling}h.tail!==null&&_n()>Xu&&(i.flags|=128,o=!0,Xo(h,!1),i.lanes=4194304)}else{if(!o)if(e=qu(d),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,Yu(i,e),Xo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ft)return oe(i),null}else 2*_n()-h.renderingStartTime>Xu&&a!==536870912&&(i.flags|=128,o=!0,Xo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=_n(),i.sibling=null,e=Ie.current,et(Ie,o?e&1|2:e&1),i):(oe(i),null);case 22:case 23:return Ui(i),sf(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(oe(i),i.subtreeFlags&6&&(i.flags|=8192)):oe(i),a=i.updateQueue,a!==null&&Yu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&st(vs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ki(Ce),oe(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function ib(e,i){switch(Fh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return ki(Ce),rn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Mn(i),null;case 13:if(Ui(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Vo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return st(Ie),null;case 4:return rn(),null;case 10:return ki(i.type),null;case 22:case 23:return Ui(i),sf(),e!==null&&st(vs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return ki(Ce),null;case 25:return null;default:return null}}function Zp(e,i){switch(Fh(i),i.tag){case 3:ki(Ce),rn();break;case 26:case 27:case 5:Mn(i);break;case 4:rn();break;case 13:Ui(i);break;case 19:st(Ie);break;case 10:ki(i.type);break;case 22:case 23:Ui(i),sf(),e!==null&&st(vs);break;case 24:ki(Ce)}}function Zo(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){ee(i,i.return,E)}}function mr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var R=a,z=E;try{z()}catch(K){ee(h,R,K)}}}o=o.next}while(o!==d)}}catch(K){ee(i,i.return,K)}}function Jp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{jg(i,a)}catch(o){ee(e,e.return,o)}}}function Wp(e,i,a){a.props=Ts(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){ee(e,i,o)}}function Jo(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){ee(e,i,h)}}function si(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){ee(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ee(e,i,h)}else a.current=null}function ty(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){ee(e,e.return,h)}}function Mf(e,i,a){try{var o=e.stateNode;Sb(o,e.type,a,i),o[pe]=i}catch(h){ee(e,e.return,h)}}function ey(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&br(e.type)||e.tag===4}function Vf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ey(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&br(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=sc));else if(o!==4&&(o===27&&br(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(kf(e,i,a),e=e.sibling;e!==null;)kf(e,i,a),e=e.sibling}function Ku(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&br(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ku(e,i,a),e=e.sibling;e!==null;)Ku(e,i,a),e=e.sibling}function ny(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Be(i,o,a),i[Se]=e,i[pe]=a}catch(d){ee(e,e.return,d)}}var zi=!1,me=!1,Pf=!1,iy=typeof WeakSet=="function"?WeakSet:Set,Me=null;function rb(e,i){if(e=e.containerInfo,ad=fc,e=mg(e),Mh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,E=-1,R=-1,z=0,K=0,X=e,B=null;e:for(;;){for(var q;X!==a||h!==0&&X.nodeType!==3||(E=v+h),X!==d||o!==0&&X.nodeType!==3||(R=v+o),X.nodeType===3&&(v+=X.nodeValue.length),(q=X.firstChild)!==null;)B=X,X=q;for(;;){if(X===e)break e;if(B===a&&++z===h&&(E=v),B===d&&++K===o&&(R=v),(q=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=q}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(od={focusedElem:e,selectionRange:a},fc=!1,Me=i;Me!==null;)if(i=Me,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Me=e;else for(;Me!==null;){switch(i=Me,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var vt=Ts(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(vt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){ee(a,a.return,mt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)cd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Me=e;break}Me=i.return}}function ry(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:gr(e,a),o&4&&Zo(5,a);break;case 1:if(gr(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){ee(a,a.return,v)}else{var h=Ts(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){ee(a,a.return,v)}}o&64&&Jp(a),o&512&&Jo(a,a.return);break;case 3:if(gr(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{jg(e,i)}catch(v){ee(a,a.return,v)}}break;case 27:i===null&&o&4&&ny(a);case 26:case 5:gr(e,a),i===null&&o&4&&ty(a),o&512&&Jo(a,a.return);break;case 12:gr(e,a);break;case 13:gr(e,a),o&4&&oy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=db.bind(null,a),Nb(e,a))));break;case 22:if(o=a.memoizedState!==null||zi,!o){i=i!==null&&i.memoizedState!==null||me,h=zi;var d=me;zi=o,(me=i)&&!d?pr(e,a,(a.subtreeFlags&8772)!==0):gr(e,a),zi=h,me=d}break;case 30:break;default:gr(e,a)}}function sy(e){var i=e.alternate;i!==null&&(e.alternate=null,sy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ir(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,an=!1;function Bi(e,i,a){for(a=a.child;a!==null;)ay(e,i,a),a=a.sibling}function ay(e,i,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(ue,a)}catch{}switch(a.tag){case 26:me||si(a,i),Bi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:me||si(a,i);var o=ae,h=an;br(a.type)&&(ae=a.stateNode,an=!1),Bi(e,i,a),ol(a.stateNode),ae=o,an=h;break;case 5:me||si(a,i);case 6:if(o=ae,h=an,ae=null,Bi(e,i,a),ae=o,an=h,ae!==null)if(an)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(d){ee(a,i,d)}else try{ae.removeChild(a.stateNode)}catch(d){ee(a,i,d)}break;case 18:ae!==null&&(an?(e=ae,Ky(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),gl(e)):Ky(ae,a.stateNode));break;case 4:o=ae,h=an,ae=a.stateNode.containerInfo,an=!0,Bi(e,i,a),ae=o,an=h;break;case 0:case 11:case 14:case 15:me||mr(2,a,i),me||mr(4,a,i),Bi(e,i,a);break;case 1:me||(si(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Wp(a,i,o)),Bi(e,i,a);break;case 21:Bi(e,i,a);break;case 22:me=(o=me)||a.memoizedState!==null,Bi(e,i,a),me=o;break;default:Bi(e,i,a)}}function oy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{gl(e)}catch(a){ee(i,i.return,a)}}function sb(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new iy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new iy),i;default:throw Error(s(435,e.tag))}}function Uf(e,i){var a=sb(e);i.forEach(function(o){var h=mb.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function dn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(br(E.type)){ae=E.stateNode,an=!1;break t}break;case 5:ae=E.stateNode,an=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(ae===null)throw Error(s(160));ay(d,v,h),ae=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ly(i,e),i=i.sibling}var Ln=null;function ly(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(i,e),mn(e),o&4&&(mr(3,e,e.return),Zo(3,e),mr(5,e,e.return));break;case 1:dn(i,e),mn(e),o&512&&(me||a===null||si(a,a.return)),o&64&&zi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Ln;if(dn(i,e),mn(e),o&512&&(me||a===null||si(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Xr]||d[Se]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Be(d,o,a),d[Se]=e,fe(d),o=d;break t;case"link":var v=n_("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}d=h.createElement(o),Be(d,o,a),h.head.appendChild(d);break;case"meta":if(v=n_("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}d=h.createElement(o),Be(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[Se]=e,fe(d),o=d}e.stateNode=o}else i_(h,e.type,e.stateNode);else e.stateNode=e_(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?i_(h,e.type,e.stateNode):e_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Mf(e,e.memoizedProps,a.memoizedProps)}break;case 27:dn(i,e),mn(e),o&512&&(me||a===null||si(a,a.return)),a!==null&&o&4&&Mf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,e),mn(e),o&512&&(me||a===null||si(a,a.return)),e.flags&32){h=e.stateNode;try{En(h,"")}catch(q){ee(e,e.return,q)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Mf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Pf=!0);break;case 6:if(dn(i,e),mn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(q){ee(e,e.return,q)}}break;case 3:if(uc=null,h=Ln,Ln=oc(i.containerInfo),dn(i,e),Ln=h,mn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{gl(i.containerInfo)}catch(q){ee(e,e.return,q)}Pf&&(Pf=!1,uy(e));break;case 4:o=Ln,Ln=oc(e.stateNode.containerInfo),dn(i,e),mn(e),Ln=o;break;case 12:dn(i,e),mn(e);break;case 13:dn(i,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Hf=_n()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Uf(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=zi,K=me;if(zi=z||h,me=K||R,dn(i,e),me=K,zi=z,mn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||zi||me||bs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(d=R.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){ee(R,R.return,q)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(q){ee(R,R.return,q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Uf(e,a))));break;case 19:dn(i,e),mn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Uf(e,o)));break;case 30:break;case 21:break;default:dn(i,e),mn(e)}}function mn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(ey(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Vf(e);Ku(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(En(v,""),a.flags&=-33);var E=Vf(e);Ku(e,E,v);break;case 3:case 4:var R=a.stateNode.containerInfo,z=Vf(e);kf(e,z,R);break;default:throw Error(s(161))}}catch(K){ee(e,e.return,K)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function uy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;uy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function gr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ry(e,i.alternate,i),i=i.sibling}function bs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:mr(4,i,i.return),bs(i);break;case 1:si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Wp(i,i.return,a),bs(i);break;case 27:ol(i.stateNode);case 26:case 5:si(i,i.return),bs(i);break;case 22:i.memoizedState===null&&bs(i);break;case 30:bs(i);break;default:bs(i)}e=e.sibling}}function pr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:pr(h,d,a),Zo(4,d);break;case 1:if(pr(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ee(o,o.return,z)}if(o=d,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Lg(R[h],E)}catch(z){ee(o,o.return,z)}}a&&v&64&&Jp(d),Jo(d,d.return);break;case 27:ny(d);case 26:case 5:pr(h,d,a),a&&o===null&&v&4&&ty(d),Jo(d,d.return);break;case 12:pr(h,d,a);break;case 13:pr(h,d,a),a&&v&4&&oy(h,d);break;case 22:d.memoizedState===null&&pr(h,d,a),Jo(d,d.return);break;case 30:break;default:pr(h,d,a)}i=i.sibling}}function Lf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Uo(a))}function jf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Uo(e))}function ai(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)cy(e,i,a,o),i=i.sibling}function cy(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ai(e,i,a,o),h&2048&&Zo(9,i);break;case 1:ai(e,i,a,o);break;case 3:ai(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Uo(e)));break;case 12:if(h&2048){ai(e,i,a,o),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){ee(i,i.return,R)}}else ai(e,i,a,o);break;case 13:ai(e,i,a,o);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ai(e,i,a,o):Wo(e,i):d._visibility&2?ai(e,i,a,o):(d._visibility|=2,ba(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&Lf(v,i);break;case 24:ai(e,i,a,o),h&2048&&jf(i.alternate,i);break;default:ai(e,i,a,o)}}function ba(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,E=a,R=o,z=v.flags;switch(v.tag){case 0:case 11:case 15:ba(d,v,E,R,h),Zo(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?ba(d,v,E,R,h):Wo(d,v):(K._visibility|=2,ba(d,v,E,R,h)),h&&z&2048&&Lf(v.alternate,v);break;case 24:ba(d,v,E,R,h),h&&z&2048&&jf(v.alternate,v);break;default:ba(d,v,E,R,h)}i=i.sibling}}function Wo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:Wo(a,o),h&2048&&Lf(o.alternate,o);break;case 24:Wo(a,o),h&2048&&jf(o.alternate,o);break;default:Wo(a,o)}i=i.sibling}}var tl=8192;function Aa(e){if(e.subtreeFlags&tl)for(e=e.child;e!==null;)hy(e),e=e.sibling}function hy(e){switch(e.tag){case 26:Aa(e),e.flags&tl&&e.memoizedState!==null&&Fb(Ln,e.memoizedState,e.memoizedProps);break;case 5:Aa(e);break;case 3:case 4:var i=Ln;Ln=oc(e.stateNode.containerInfo),Aa(e),Ln=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=tl,tl=16777216,Aa(e),tl=i):Aa(e));break;default:Aa(e)}}function fy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function el(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Me=o,my(o,e)}fy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)dy(e),e=e.sibling}function dy(e){switch(e.tag){case 0:case 11:case 15:el(e),e.flags&2048&&mr(9,e,e.return);break;case 3:el(e);break;case 12:el(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,$u(e)):el(e);break;default:el(e)}}function $u(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Me=o,my(o,e)}fy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:mr(8,i,i.return),$u(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,$u(i));break;default:$u(i)}e=e.sibling}}function my(e,i){for(;Me!==null;){var a=Me;switch(a.tag){case 0:case 11:case 15:mr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Uo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Me=o;else t:for(a=e;Me!==null;){o=Me;var h=o.sibling,d=o.return;if(sy(o),o===a){Me=null;break t}if(h!==null){h.return=d,Me=h;break t}Me=d}}}var ab={getCacheForType:function(e){var i=Qe(Ce),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},ob=typeof WeakMap=="function"?WeakMap:Map,$t=0,ne=null,Nt=null,jt=0,Xt=0,gn=null,yr=!1,Sa=!1,zf=!1,qi=0,he=0,_r=0,As=0,Bf=0,xn=0,wa=0,nl=null,on=null,qf=!1,Hf=0,Xu=1/0,Zu=null,vr=null,ze=0,Er=null,Ra=null,Ca=0,Ff=0,Gf=null,gy=null,il=0,Qf=null;function pn(){if(($t&2)!==0&&jt!==0)return jt&-jt;if(Y.T!==null){var e=ma;return e!==0?e:Wf()}return er()}function py(){xn===0&&(xn=(jt&536870912)===0||Ft?ho():536870912);var e=In.current;return e!==null&&(e.flags|=32),xn}function yn(e,i,a){(e===ne&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Ia(e,0),Tr(e,jt,xn,!1)),Ei(e,a),(($t&2)===0||e!==ne)&&(e===ne&&(($t&2)===0&&(As|=a),he===4&&Tr(e,jt,xn,!1)),oi(e))}function yy(e,i,a){if(($t&6)!==0)throw Error(s(327));var o=!a&&(i&124)===0&&(i&e.expiredLanes)===0||$r(e,i),h=o?cb(e,i):$f(e,i,!0),d=o;do{if(h===0){Sa&&!o&&Tr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!lb(a)){h=$f(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=nl;var R=E.current.memoizedState.isDehydrated;if(R&&(Ia(E,v).flags|=256),v=$f(E,v,!1),v!==2){if(zf&&!R){E.errorRecoveryDisabledLanes|=d,As|=d,h=4;break t}d=on,on=h,d!==null&&(on===null?on=d:on.push.apply(on,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ia(e,0),Tr(e,i,0,!0);break}t:{switch(o=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Tr(o,i,xn,!yr);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Hf+300-_n(),10<h)){if(Tr(o,i,xn,!yr),Gs(o,0,!0)!==0)break t;o.timeoutHandle=Qy(_y.bind(null,o,a,on,Zu,qf,i,xn,As,wa,yr,d,2,-0,0),h);break t}_y(o,a,on,Zu,qf,i,xn,As,wa,yr,d,0,-0,0)}}break}while(!0);oi(e)}function _y(e,i,a,o,h,d,v,E,R,z,K,X,B,q){if(e.timeoutHandle=-1,X=i.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(cl={stylesheets:null,count:0,unsuspend:Hb},hy(i),X=Gb(),X!==null)){e.cancelPendingCommit=X(wy.bind(null,e,i,d,a,o,h,v,E,R,K,1,B,q)),Tr(e,d,v,!z);return}wy(e,i,d,a,o,h,v,E,R)}function lb(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Tr(e,i,a,o){i&=~Bf,i&=~As,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var d=31-Ge(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&Qn(e,a,i)}function Ju(){return($t&6)===0?(rl(0),!1):!0}function Yf(){if(Nt!==null){if(Xt===0)var e=Nt.return;else e=Nt,Vi=ys=null,cf(e),Ea=null,Ko=0,e=Nt;for(;e!==null;)Zp(e.alternate,e),e=e.return;Nt=null}}function Ia(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Rb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Yf(),ne=e,Nt=a=Ni(e.current,null),jt=i,Xt=0,gn=null,yr=!1,Sa=$r(e,i),zf=!1,wa=xn=Bf=As=_r=he=0,on=nl=null,qf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-Ge(o),d=1<<h;i|=e[h],o&=~d}return qi=i,Eu(),a}function vy(e,i){It=null,Y.H=ju,i===jo||i===xu?(i=Pg(),Xt=3):i===Mg?(i=Pg(),Xt=4):Xt=i===Up?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,gn=i,Nt===null&&(he=1,Fu(e,Sn(i,e.current)))}function Ey(){var e=Y.H;return Y.H=ju,e===null?ju:e}function Ty(){var e=Y.A;return Y.A=ab,e}function Kf(){he=4,yr||(jt&4194048)!==jt&&In.current!==null||(Sa=!0),(_r&134217727)===0&&(As&134217727)===0||ne===null||Tr(ne,jt,xn,!1)}function $f(e,i,a){var o=$t;$t|=2;var h=Ey(),d=Ty();(ne!==e||jt!==i)&&(Zu=null,Ia(e,i)),i=!1;var v=he;t:do try{if(Xt!==0&&Nt!==null){var E=Nt,R=gn;switch(Xt){case 8:Yf(),v=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(i=!0);var z=Xt;if(Xt=0,gn=null,xa(e,E,R,z),a&&Sa){v=0;break t}break;default:z=Xt,Xt=0,gn=null,xa(e,E,R,z)}}ub(),v=he;break}catch(K){vy(e,K)}while(!0);return i&&e.shellSuspendCounter++,Vi=ys=null,$t=o,Y.H=h,Y.A=d,Nt===null&&(ne=null,jt=0,Eu()),v}function ub(){for(;Nt!==null;)by(Nt)}function cb(e,i){var a=$t;$t|=2;var o=Ey(),h=Ty();ne!==e||jt!==i?(Zu=null,Xu=_n()+500,Ia(e,i)):Sa=$r(e,i);t:do try{if(Xt!==0&&Nt!==null){i=Nt;var d=gn;e:switch(Xt){case 1:Xt=0,gn=null,xa(e,i,d,1);break;case 2:case 9:if(Vg(d)){Xt=0,gn=null,Ay(i);break}i=function(){Xt!==2&&Xt!==9||ne!==e||(Xt=7),oi(e)},d.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Vg(d)?(Xt=0,gn=null,Ay(i)):(Xt=0,gn=null,xa(e,i,d,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var E=Nt;if(!v||r_(v)){Xt=0,gn=null;var R=E.sibling;if(R!==null)Nt=R;else{var z=E.return;z!==null?(Nt=z,Wu(z)):Nt=null}break e}}Xt=0,gn=null,xa(e,i,d,5);break;case 6:Xt=0,gn=null,xa(e,i,d,6);break;case 8:Yf(),he=6;break t;default:throw Error(s(462))}}hb();break}catch(K){vy(e,K)}while(!0);return Vi=ys=null,Y.H=o,Y.A=h,$t=a,Nt!==null?0:(ne=null,jt=0,Eu(),he)}function hb(){for(;Nt!==null&&!Wi();)by(Nt)}function by(e){var i=$p(e.alternate,e,qi);e.memoizedProps=e.pendingProps,i===null?Wu(e):Nt=i}function Ay(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Hp(a,i,i.pendingProps,i.type,void 0,jt);break;case 11:i=Hp(a,i,i.pendingProps,i.type.render,i.ref,jt);break;case 5:cf(i);default:Zp(a,i),i=Nt=Sg(i,qi),i=$p(a,i,qi)}e.memoizedProps=e.pendingProps,i===null?Wu(e):Nt=i}function xa(e,i,a,o){Vi=ys=null,cf(i),Ea=null,Ko=0;var h=i.return;try{if(tb(e,h,i,a,jt)){he=1,Fu(e,Sn(a,e.current)),Nt=null;return}}catch(d){if(h!==null)throw Nt=h,d;he=1,Fu(e,Sn(a,e.current)),Nt=null;return}i.flags&32768?(Ft||o===1?e=!0:Sa||(jt&536870912)!==0?e=!1:(yr=e=!0,(o===2||o===9||o===3||o===6)&&(o=In.current,o!==null&&o.tag===13&&(o.flags|=16384))),Sy(i,e)):Wu(i)}function Wu(e){var i=e;do{if((i.flags&32768)!==0){Sy(i,yr);return}e=i.return;var a=nb(i.alternate,i,qi);if(a!==null){Nt=a;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=e}while(i!==null);he===0&&(he=5)}function Sy(e,i){do{var a=ib(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);he=6,Nt=null}function wy(e,i,a,o,h,d,v,E,R){e.cancelPendingCommit=null;do tc();while(ze!==0);if(($t&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Lh,mo(e,a,d,v,E,R),e===ne&&(Nt=ne=null,jt=0),Ra=i,Er=e,Ca=a,Ff=d,Gf=h,gy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,gb(Gr,function(){return Dy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null,h=rt.p,rt.p=2,v=$t,$t|=4;try{rb(e,i,a)}finally{$t=v,rt.p=h,Y.T=o}}ze=1,Ry(),Cy(),Iy()}}function Ry(){if(ze===1){ze=0;var e=Er,i=Ra,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var o=rt.p;rt.p=2;var h=$t;$t|=4;try{ly(i,e);var d=od,v=mg(e.containerInfo),E=d.focusedElem,R=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&dg(E.ownerDocument.documentElement,E)){if(R!==null&&Mh(E)){var z=R.start,K=R.end;if(K===void 0&&(K=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(K,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var q=B.getSelection(),vt=E.textContent.length,mt=Math.min(R.start,vt),te=R.end===void 0?mt:Math.min(R.end,vt);!q.extend&&mt>te&&(v=te,te=mt,mt=v);var V=fg(E,mt),N=fg(E,te);if(V&&N&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var j=X.createRange();j.setStart(V.node,V.offset),q.removeAllRanges(),mt>te?(q.addRange(j),q.extend(N.node,N.offset)):(j.setEnd(N.node,N.offset),q.addRange(j))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var $=X[E];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}fc=!!ad,od=ad=null}finally{$t=h,rt.p=o,Y.T=a}}e.current=i,ze=2}}function Cy(){if(ze===2){ze=0;var e=Er,i=Ra,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var o=rt.p;rt.p=2;var h=$t;$t|=4;try{ry(e,i.alternate,i)}finally{$t=h,rt.p=o,Y.T=a}}ze=3}}function Iy(){if(ze===4||ze===3){ze=0,$l();var e=Er,i=Ra,a=Ca,o=gy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ze=5:(ze=0,Ra=Er=null,xy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(vr=null),Qs(a),i=i.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(ue,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=Y.T,h=rt.p,rt.p=2,Y.T=null;try{for(var d=e.onRecoverableError,v=0;v<o.length;v++){var E=o[v];d(E.value,{componentStack:E.stack})}}finally{Y.T=i,rt.p=h}}(Ca&3)!==0&&tc(),oi(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Qf?il++:(il=0,Qf=e):il=0,rl(0)}}function xy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Uo(i)))}function tc(e){return Ry(),Cy(),Iy(),Dy()}function Dy(){if(ze!==5)return!1;var e=Er,i=Ff;Ff=0;var a=Qs(Ca),o=Y.T,h=rt.p;try{rt.p=32>a?32:a,Y.T=null,a=Gf,Gf=null;var d=Er,v=Ca;if(ze=0,Ra=Er=null,Ca=0,($t&6)!==0)throw Error(s(331));var E=$t;if($t|=4,dy(d.current),cy(d,d.current,v,a),$t=E,rl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(ue,d)}catch{}return!0}finally{rt.p=h,Y.T=o,xy(e,i)}}function Ny(e,i,a){i=Sn(a,i),i=Sf(e.stateNode,i,2),e=cr(e,i,2),e!==null&&(Ei(e,2),oi(e))}function ee(e,i,a){if(e.tag===3)Ny(e,e,a);else for(;i!==null;){if(i.tag===3){Ny(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(vr===null||!vr.has(o))){e=Sn(a,e),a=kp(2),o=cr(i,a,2),o!==null&&(Pp(a,o,i,e),Ei(o,2),oi(o));break}}i=i.return}}function Xf(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new ob;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(zf=!0,h.add(a),e=fb.bind(null,e,i,a),i.then(e,e))}function fb(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ne===e&&(jt&a)===a&&(he===4||he===3&&(jt&62914560)===jt&&300>_n()-Hf?($t&2)===0&&Ia(e,0):Bf|=a,wa===jt&&(wa=0)),oi(e)}function Oy(e,i){i===0&&(i=fo()),e=ca(e,i),e!==null&&(Ei(e,i),oi(e))}function db(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Oy(e,a)}function mb(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),Oy(e,a)}function gb(e,i){return _i(e,i)}var ec=null,Da=null,Zf=!1,nc=!1,Jf=!1,Ss=0;function oi(e){e!==Da&&e.next===null&&(Da===null?ec=Da=e:Da=Da.next=e),nc=!0,Zf||(Zf=!0,yb())}function rl(e,i){if(!Jf&&nc){Jf=!0;do for(var a=!1,o=ec;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,E=o.pingedLanes;d=(1<<31-Ge(42|e)+1)-1,d&=h&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Py(o,d))}else d=jt,d=Gs(o,o===ne?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||$r(o,d)||(a=!0,Py(o,d));o=o.next}while(a);Jf=!1}}function pb(){My()}function My(){nc=Zf=!1;var e=0;Ss!==0&&(wb()&&(e=Ss),Ss=0);for(var i=_n(),a=null,o=ec;o!==null;){var h=o.next,d=Vy(o,i);d===0?(o.next=null,a===null?ec=h:a.next=h,h===null&&(Da=a)):(a=o,(e!==0||(d&3)!==0)&&(nc=!0)),o=h}rl(e)}function Vy(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Ge(d),E=1<<v,R=h[v];R===-1?((E&a)===0||(E&o)!==0)&&(h[v]=co(E,i)):R<=i&&(e.expiredLanes|=E),d&=~E}if(i=ne,a=jt,a=Gs(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Pe(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||$r(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&Pe(o),Qs(a)){case 2:case 8:a=Hs;break;case 32:a=Gr;break;case 268435456:a=Fs;break;default:a=Gr}return o=ky.bind(null,e),a=_i(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&Pe(o),e.callbackPriority=2,e.callbackNode=null,2}function ky(e,i){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(tc()&&e.callbackNode!==a)return null;var o=jt;return o=Gs(e,e===ne?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(yy(e,o,i),Vy(e,_n()),e.callbackNode!=null&&e.callbackNode===a?ky.bind(null,e):null)}function Py(e,i){if(tc())return null;yy(e,i,!0)}function yb(){Cb(function(){($t&6)!==0?_i(lo,pb):My()})}function Wf(){return Ss===0&&(Ss=ho()),Ss}function Uy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Js(""+e)}function Ly(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function _b(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=Uy((h[pe]||null).action),v=o.submitter;v&&(i=(i=v[pe]||null)?Uy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new Ws("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ss!==0){var R=v?Ly(h,v):new FormData(h);vf(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(E.preventDefault(),R=v?Ly(h,v):new FormData(h),vf(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var td=0;td<Uh.length;td++){var ed=Uh[td],vb=ed.toLowerCase(),Eb=ed[0].toUpperCase()+ed.slice(1);Un(vb,"on"+Eb)}Un(yg,"onAnimationEnd"),Un(_g,"onAnimationIteration"),Un(vg,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(UT,"onTransitionRun"),Un(LT,"onTransitionStart"),Un(jT,"onTransitionCancel"),Un(Eg,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function jy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=z;try{d(h)}catch(K){Hu(K)}h.currentTarget=null,d=R}else for(v=0;v<o.length;v++){if(E=o[v],R=E.instance,z=E.currentTarget,E=E.listener,R!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=z;try{d(h)}catch(K){Hu(K)}h.currentTarget=null,d=R}}}}function Ot(e,i){var a=i[po];a===void 0&&(a=i[po]=new Set);var o=e+"__bubble";a.has(o)||(zy(i,e,2,!1),a.add(o))}function nd(e,i,a){var o=0;i&&(o|=4),zy(a,e,o,i)}var ic="_reactListening"+Math.random().toString(36).slice(2);function id(e){if(!e[ic]){e[ic]=!0,yo.forEach(function(a){a!=="selectionchange"&&(Tb.has(a)||nd(a,!1,e),nd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[ic]||(i[ic]=!0,nd("selectionchange",!1,i))}}function zy(e,i,a,o){switch(c_(i)){case 2:var h=Kb;break;case 8:h=$b;break;default:h=yd}a=h.bind(null,i,a,e),h=void 0,!bn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function rd(e,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=Ti(E),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){o=d=v;continue t}E=E.parentNode}}o=o.return}su(function(){var z=d,K=Tn(a),X=[];t:{var B=Tg.get(e);if(B!==void 0){var q=Ws,vt=e;switch(e){case"keypress":if(Jn(a)===0)break t;case"keydown":case"keyup":q=sa;break;case"focusin":vt="focus",q=na;break;case"focusout":vt="blur",q=na;break;case"beforeblur":case"afterblur":q=na;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=du;break;case yg:case _g:case vg:q=ia;break;case Eg:q=gu;break;case"scroll":case"scrollend":q=au;break;case"wheel":q=aa;break;case"copy":case"cut":case"paste":q=ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=xo;break;case"toggle":case"beforetoggle":q=yu}var mt=(i&4)!==0,te=!mt&&(e==="scroll"||e==="scrollend"),V=mt?B!==null?B+"Capture":null:B;mt=[];for(var N=z,j;N!==null;){var $=N;if(j=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||j===null||V===null||($=is(N,V),$!=null&&mt.push(al(N,$,j))),te)break;N=N.return}0<mt.length&&(B=new q(B,vt,null,a,K),X.push({event:B,listeners:mt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",B&&a!==wi&&(vt=a.relatedTarget||a.fromElement)&&(Ti(vt)||vt[vn]))break t;if((q||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,q?(vt=a.relatedTarget||a.toElement,q=z,vt=vt?Ti(vt):null,vt!==null&&(te=c(vt),mt=vt.tag,vt!==te||mt!==5&&mt!==27&&mt!==6)&&(vt=null)):(q=null,vt=z),q!==vt)){if(mt=An,$="onMouseLeave",V="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(mt=xo,$="onPointerLeave",V="onPointerEnter",N="pointer"),te=q==null?B:Kn(q),j=vt==null?B:Kn(vt),B=new mt($,N+"leave",q,a,K),B.target=te,B.relatedTarget=j,$=null,Ti(K)===z&&(mt=new mt(V,N+"enter",vt,a,K),mt.target=j,mt.relatedTarget=te,$=mt),te=$,q&&vt)e:{for(mt=q,V=vt,N=0,j=mt;j;j=Na(j))N++;for(j=0,$=V;$;$=Na($))j++;for(;0<N-j;)mt=Na(mt),N--;for(;0<j-N;)V=Na(V),j--;for(;N--;){if(mt===V||V!==null&&mt===V.alternate)break e;mt=Na(mt),V=Na(V)}mt=null}else mt=null;q!==null&&By(X,B,q,mt,!1),vt!==null&&te!==null&&By(X,te,vt,mt,!0)}}t:{if(B=z?Kn(z):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var ut=ag;else if(Re(B))if(og)ut=VT;else{ut=OT;var Dt=NT}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&bo(z.elementType)&&(ut=ag):ut=MT;if(ut&&(ut=ut(e,z))){Di(X,ut,a,K);break t}Dt&&Dt(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&sr(B,"number",B.value)}switch(Dt=z?Kn(z):window,e){case"focusin":(Re(Dt)||Dt.contentEditable==="true")&&(oa=Dt,Vh=z,Oo=null);break;case"focusout":Oo=Vh=oa=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,gg(X,a,K);break;case"selectionchange":if(PT)break;case"keydown":case"keyup":gg(X,a,K)}var ht;if(ei)t:{switch(e){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Ut?F(e,a)&&(pt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(pt="onCompositionStart");pt&&(y&&a.locale!=="ko"&&(Ut||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Ut&&(ht=So()):(Zn=K,ar="value"in Zn?Zn.value:Zn.textContent,Ut=!0)),Dt=rc(z,pt),0<Dt.length&&(pt=new Co(pt,e,null,a,K),X.push({event:pt,listeners:Dt}),ht?pt.data=ht:(ht=nt(a),ht!==null&&(pt.data=ht)))),(ht=m?we(e,a):Lt(e,a))&&(pt=rc(z,"onBeforeInput"),0<pt.length&&(Dt=new Co("onBeforeInput","beforeinput",null,a,K),X.push({event:Dt,listeners:pt}),Dt.data=ht)),_b(X,e,z,a,K)}jy(X,i)})}function al(e,i,a){return{instance:e,listener:i,currentTarget:a}}function rc(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=is(e,a),h!=null&&o.unshift(al(e,h,d)),h=is(e,i),h!=null&&o.push(al(e,h,d))),e.tag===3)return o;e=e.return}return[]}function Na(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function By(e,i,a,o,h){for(var d=i._reactName,v=[];a!==null&&a!==o;){var E=a,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=is(a,d),z!=null&&v.unshift(al(a,z,R))):h||(z=is(a,d),z!=null&&v.push(al(a,z,R)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var bb=/\r\n?/g,Ab=/\u0000|\uFFFD/g;function qy(e){return(typeof e=="string"?e:""+e).replace(bb,`
`).replace(Ab,"")}function Hy(e,i){return i=qy(i),qy(e)===i}function sc(){}function Wt(e,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||En(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&En(e,""+o);break;case"className":$n(e,"class",o);break;case"tabIndex":$n(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":$n(e,a,o);break;case"style":To(e,o,d);break;case"data":if(i!=="object"){$n(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Js(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Wt(e,i,"name",h.name,h,null),Wt(e,i,"formEncType",h.formEncType,h,null),Wt(e,i,"formMethod",h.formMethod,h,null),Wt(e,i,"formTarget",h.formTarget,h,null)):(Wt(e,i,"encType",h.encType,h,null),Wt(e,i,"method",h.method,h,null),Wt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Js(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=sc);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Js(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),rr(e,"popover",o);break;case"xlinkActuate":Ue(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ue(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ue(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ue(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ue(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ue(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":rr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ch.get(a)||a,rr(e,a,o))}}function sd(e,i,a,o,h,d){switch(a){case"style":To(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?En(e,o):(typeof o=="number"||typeof o=="bigint")&&En(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=sc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ys.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[pe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):rr(e,a,o)}}}function Be(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,d,v,a,null)}}h&&Wt(e,i,"srcSet",a.srcSet,a,null),o&&Wt(e,i,"src",a.src,a,null);return;case"input":Ot("invalid",e);var E=d=v=h=null,R=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var K=a[o];if(K!=null)switch(o){case"name":h=K;break;case"type":v=K;break;case"checked":R=K;break;case"defaultChecked":z=K;break;case"value":d=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Wt(e,i,o,K,a,null)}}ts(e,d,E,R,z,v,h,!1),Zs(e);return;case"select":Ot("invalid",e),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Wt(e,i,h,E,a,null)}i=d,a=v,e.multiple=!!o,i!=null?Si(e,!!o,i,!1):a!=null&&Si(e,!!o,a,!0);return;case"textarea":Ot("invalid",e),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Wt(e,i,v,E,a,null)}es(e,o,h,d),Zs(e);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(o=a[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Wt(e,i,R,o,a,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<sl.length;o++)Ot(sl[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,z,o,a,null)}return;default:if(bo(i)){for(K in a)a.hasOwnProperty(K)&&(o=a[K],o!==void 0&&sd(e,i,K,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Wt(e,i,E,o,a,null))}function Sb(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,R=null,z=null,K=null;for(q in a){var X=a[q];if(a.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=X;default:o.hasOwnProperty(q)||Wt(e,i,q,null,o,X)}}for(var B in o){var q=o[B];if(X=a[B],o.hasOwnProperty(B)&&(q!=null||X!=null))switch(B){case"type":d=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":K=q;break;case"value":v=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==X&&Wt(e,i,B,q,o,X)}}cn(e,v,E,R,z,K,d,h);return;case"select":q=v=E=B=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(d)||Wt(e,i,d,null,o,R)}for(h in o)if(d=o[h],R=a[h],o.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":B=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==R&&Wt(e,i,h,d,o,R)}i=E,a=v,o=q,B!=null?Si(e,!!a,B,!1):!!o!=!!a&&(i!=null?Si(e,!!a,i,!0):Si(e,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(e,i,E,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":B=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Wt(e,i,v,h,o,d)}Zt(e,B,q);return;case"option":for(var vt in a)if(B=a[vt],a.hasOwnProperty(vt)&&B!=null&&!o.hasOwnProperty(vt))switch(vt){case"selected":e.selected=!1;break;default:Wt(e,i,vt,null,o,B)}for(R in o)if(B=o[R],q=a[R],o.hasOwnProperty(R)&&B!==q&&(B!=null||q!=null))switch(R){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Wt(e,i,R,B,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)B=a[mt],a.hasOwnProperty(mt)&&B!=null&&!o.hasOwnProperty(mt)&&Wt(e,i,mt,null,o,B);for(z in o)if(B=o[z],q=a[z],o.hasOwnProperty(z)&&B!==q&&(B!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Wt(e,i,z,B,o,q)}return;default:if(bo(i)){for(var te in a)B=a[te],a.hasOwnProperty(te)&&B!==void 0&&!o.hasOwnProperty(te)&&sd(e,i,te,void 0,o,B);for(K in o)B=o[K],q=a[K],!o.hasOwnProperty(K)||B===q||B===void 0&&q===void 0||sd(e,i,K,B,o,q);return}}for(var V in a)B=a[V],a.hasOwnProperty(V)&&B!=null&&!o.hasOwnProperty(V)&&Wt(e,i,V,null,o,B);for(X in o)B=o[X],q=a[X],!o.hasOwnProperty(X)||B===q||B==null&&q==null||Wt(e,i,X,B,o,q)}var ad=null,od=null;function ac(e){return e.nodeType===9?e:e.ownerDocument}function Fy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function ld(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ud=null;function wb(){var e=window.event;return e&&e.type==="popstate"?e===ud?!1:(ud=e,!0):(ud=null,!1)}var Qy=typeof setTimeout=="function"?setTimeout:void 0,Rb=typeof clearTimeout=="function"?clearTimeout:void 0,Yy=typeof Promise=="function"?Promise:void 0,Cb=typeof queueMicrotask=="function"?queueMicrotask:typeof Yy<"u"?function(e){return Yy.resolve(null).then(e).catch(Ib)}:Qy;function Ib(e){setTimeout(function(){throw e})}function br(e){return e==="head"}function Ky(e,i){var a=i,o=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&ol(v.documentElement),a&2&&ol(v.body),a&4)for(a=v.head,ol(a),v=a.firstChild;v;){var E=v.nextSibling,R=v.nodeName;v[Xr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(d),gl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=d}while(a);gl(i)}function cd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":cd(a),ir(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function xb(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Xr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function Db(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=jn(e.nextSibling),e===null))return null;return e}function hd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Nb(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function jn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var fd=null;function $y(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function Xy(e,i,a){switch(i=ac(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ol(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ir(e)}var Dn=new Map,Zy=new Set;function oc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Hi=rt.d;rt.d={f:Ob,r:Mb,D:Vb,C:kb,L:Pb,m:Ub,X:jb,S:Lb,M:zb};function Ob(){var e=Hi.f(),i=Ju();return e||i}function Mb(e){var i=Yn(e);i!==null&&i.tag===5&&i.type==="form"?yp(i):Hi.r(e)}var Oa=typeof document>"u"?null:document;function Jy(e,i,a){var o=Oa;if(o&&typeof i=="string"&&i){var h=ye(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Zy.has(h)||(Zy.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Be(i,"link",e),fe(i),o.head.appendChild(i)))}}function Vb(e){Hi.D(e),Jy("dns-prefetch",e,null)}function kb(e,i){Hi.C(e,i),Jy("preconnect",e,i)}function Pb(e,i,a){Hi.L(e,i,a);var o=Oa;if(o&&e&&i){var h='link[rel="preload"][as="'+ye(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ye(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ye(a.imageSizes)+'"]')):h+='[href="'+ye(e)+'"]';var d=h;switch(i){case"style":d=Ma(e);break;case"script":d=Va(e)}Dn.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Dn.set(d,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(ll(d))||i==="script"&&o.querySelector(ul(d))||(i=o.createElement("link"),Be(i,"link",e),fe(i),o.head.appendChild(i)))}}function Ub(e,i){Hi.m(e,i);var a=Oa;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ye(o)+'"][href="'+ye(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Va(e)}if(!Dn.has(d)&&(e=T({rel:"modulepreload",href:e},i),Dn.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ul(d)))return}o=a.createElement("link"),Be(o,"link",e),fe(o),a.head.appendChild(o)}}}function Lb(e,i,a){Hi.S(e,i,a);var o=Oa;if(o&&e){var h=Je(o).hoistableStyles,d=Ma(e);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(ll(d)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Dn.get(d))&&dd(e,a);var R=v=o.createElement("link");fe(R),Be(R,"link",e),R._p=new Promise(function(z,K){R.onload=z,R.onerror=K}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,lc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function jb(e,i){Hi.X(e,i);var a=Oa;if(a&&e){var o=Je(a).hoistableScripts,h=Va(e),d=o.get(h);d||(d=a.querySelector(ul(h)),d||(e=T({src:e,async:!0},i),(i=Dn.get(h))&&md(e,i),d=a.createElement("script"),fe(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function zb(e,i){Hi.M(e,i);var a=Oa;if(a&&e){var o=Je(a).hoistableScripts,h=Va(e),d=o.get(h);d||(d=a.querySelector(ul(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=Dn.get(h))&&md(e,i),d=a.createElement("script"),fe(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Wy(e,i,a,o){var h=(h=_t.current)?oc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ma(a.href),a=Je(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ma(a.href);var d=Je(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(ll(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Dn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(e,a),d||Bb(h,e,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Va(a),a=Je(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ma(e){return'href="'+ye(e)+'"'}function ll(e){return'link[rel="stylesheet"]['+e+"]"}function t_(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function Bb(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Be(i,"link",a),fe(i),e.head.appendChild(i))}function Va(e){return'[src="'+ye(e)+'"]'}function ul(e){return"script[async]"+e}function e_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+ye(a.href)+'"]');if(o)return i.instance=o,fe(o),o;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),fe(o),Be(o,"style",h),lc(o,a.precedence,e),i.instance=o;case"stylesheet":h=Ma(a.href);var d=e.querySelector(ll(h));if(d)return i.state.loading|=4,i.instance=d,fe(d),d;o=t_(a),(h=Dn.get(h))&&dd(o,h),d=(e.ownerDocument||e).createElement("link"),fe(d);var v=d;return v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),Be(d,"link",o),i.state.loading|=4,lc(d,a.precedence,e),i.instance=d;case"script":return d=Va(a.src),(h=e.querySelector(ul(d)))?(i.instance=h,fe(h),h):(o=a,(h=Dn.get(d))&&(o=T({},a),md(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),fe(h),Be(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,lc(o,a.precedence,e));return i.instance}function lc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function dd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function md(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var uc=null;function n_(e,i,a){if(uc===null){var o=new Map,h=uc=new Map;h.set(a,o)}else h=uc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Xr]||d[Se]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var E=o.get(v);E?E.push(d):o.set(v,[d])}}return o}function i_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function qb(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function r_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var cl=null;function Hb(){}function Fb(e,i,a){if(cl===null)throw Error(s(475));var o=cl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ma(a.href),d=e.querySelector(ll(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=cc.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=d,fe(d);return}d=e.ownerDocument||e,a=t_(a),(h=Dn.get(h))&&dd(a,h),d=d.createElement("link"),fe(d);var v=d;v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),Be(d,"link",a),i.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=cc.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function Gb(){if(cl===null)throw Error(s(475));var e=cl;return e.stylesheets&&e.count===0&&gd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&gd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function cc(){if(this.count--,this.count===0){if(this.stylesheets)gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hc=null;function gd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hc=new Map,i.forEach(Qb,e),hc=null,cc.call(e))}function Qb(e,i){if(!(i.state.loading&4)){var a=hc.get(e);if(a)var o=a.get(null);else{a=new Map,hc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=cc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var hl={$$typeof:at,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function Yb(e,i,a,o,h,d,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function s_(e,i,a,o,h,d,v,E,R,z,K,X){return e=new Yb(e,i,a,v,E,R,z,X),i=1,d===!0&&(i|=24),d=fn(3,null,null,i),e.current=d,d.stateNode=e,i=$h(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},Wh(d),e}function a_(e){return e?(e=ha,e):ha}function o_(e,i,a,o,h,d){h=a_(h),o.context===null?o.context=h:o.pendingContext=h,o=ur(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=cr(e,o,i),a!==null&&(yn(a,e,i),Bo(a,e,i))}function l_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function pd(e,i){l_(e,i),(e=e.alternate)&&l_(e,i)}function u_(e){if(e.tag===13){var i=ca(e,67108864);i!==null&&yn(i,e,67108864),pd(e,67108864)}}var fc=!0;function Kb(e,i,a,o){var h=Y.T;Y.T=null;var d=rt.p;try{rt.p=2,yd(e,i,a,o)}finally{rt.p=d,Y.T=h}}function $b(e,i,a,o){var h=Y.T;Y.T=null;var d=rt.p;try{rt.p=8,yd(e,i,a,o)}finally{rt.p=d,Y.T=h}}function yd(e,i,a,o){if(fc){var h=_d(o);if(h===null)rd(e,i,o,dc,a),h_(e,o);else if(Zb(h,e,i,a,o))o.stopPropagation();else if(h_(e,o),i&4&&-1<Xb.indexOf(e)){for(;h!==null;){var d=Yn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Vn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var R=1<<31-Ge(v);E.entanglements[1]|=R,v&=~R}oi(d),($t&6)===0&&(Xu=_n()+500,rl(0))}}break;case 13:E=ca(d,2),E!==null&&yn(E,d,2),Ju(),pd(d,2)}if(d=_d(o),d===null&&rd(e,i,o,dc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else rd(e,i,o,null,a)}}function _d(e){return e=Tn(e),vd(e)}var dc=null;function vd(e){if(dc=null,e=Ti(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return dc=e,null}function c_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Th()){case lo:return 2;case Hs:return 8;case Gr:case bh:return 32;case Fs:return 268435456;default:return 32}default:return 32}}var Ed=!1,Ar=null,Sr=null,wr=null,fl=new Map,dl=new Map,Rr=[],Xb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h_(e,i){switch(e){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":fl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(i.pointerId)}}function ml(e,i,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Yn(i),i!==null&&u_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function Zb(e,i,a,o,h){switch(i){case"focusin":return Ar=ml(Ar,e,i,a,o,h),!0;case"dragenter":return Sr=ml(Sr,e,i,a,o,h),!0;case"mouseover":return wr=ml(wr,e,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return fl.set(d,ml(fl.get(d)||null,e,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,dl.set(d,ml(dl.get(d)||null,e,i,a,o,h)),!0}return!1}function f_(e){var i=Ti(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Jl(e.priority,function(){if(a.tag===13){var o=pn();o=tr(o);var h=ca(a,o);h!==null&&yn(h,a,o),pd(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=_d(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);wi=o,a.target.dispatchEvent(o),wi=null}else return i=Yn(a),i!==null&&u_(i),e.blockedOn=a,!1;i.shift()}return!0}function d_(e,i,a){mc(e)&&a.delete(i)}function Jb(){Ed=!1,Ar!==null&&mc(Ar)&&(Ar=null),Sr!==null&&mc(Sr)&&(Sr=null),wr!==null&&mc(wr)&&(wr=null),fl.forEach(d_),dl.forEach(d_)}function gc(e,i){e.blockedOn===i&&(e.blockedOn=null,Ed||(Ed=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Jb)))}var pc=null;function m_(e){pc!==e&&(pc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){pc===e&&(pc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(vd(o||a)===null)continue;break}var d=Yn(a);d!==null&&(e.splice(i,3),i-=3,vf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function gl(e){function i(R){return gc(R,e)}Ar!==null&&gc(Ar,e),Sr!==null&&gc(Sr,e),wr!==null&&gc(wr,e),fl.forEach(i),dl.forEach(i);for(var a=0;a<Rr.length;a++){var o=Rr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Rr.length&&(a=Rr[0],a.blockedOn===null);)f_(a),a.blockedOn===null&&Rr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[pe]||null;if(typeof d=="function")v||m_(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[pe]||null)E=v.formAction;else if(vd(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),m_(a)}}}function Td(e){this._internalRoot=e}yc.prototype.render=Td.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=pn();o_(a,o,e,i,null,null)},yc.prototype.unmount=Td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;o_(e.current,2,null,e,null,null),Ju(),i[vn]=null}};function yc(e){this._internalRoot=e}yc.prototype.unstable_scheduleHydration=function(e){if(e){var i=er();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Rr.length&&i!==0&&i<Rr[a].priority;a++);Rr.splice(a,0,e),a===0&&f_(e)}};var g_=t.version;if(g_!=="19.1.0")throw Error(s(527,g_,"19.1.0"));rt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var Wb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{ue=_c.inject(Wb),Kt=_c}catch{}}return yl.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=Np,d=Op,v=Mp,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=s_(e,1,!1,null,null,a,o,h,d,v,E,null),e[vn]=i.current,id(e),new Td(i)},yl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",d=Np,v=Op,E=Mp,R=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),i=s_(e,1,!0,i,a??null,o,h,d,v,E,R,z),i.context=a_(null),a=i.current,o=pn(),o=tr(o),h=ur(o),h.callback=null,cr(a,h,o),a=o,i.current.lanes=a,Ei(i,a),oi(i),e[vn]=i.current,id(e),new yc(i)},yl.version="19.1.0",yl}var w_;function uA(){if(w_)return Sd.exports;w_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Sd.exports=lA(),Sd.exports}var cA=uA();const hA=s0(cA),fA=()=>{};var R_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},dA=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],f=r[n++],g=r[n++],p=((l&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],f=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return t.join("")},o0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],f=l+1<r.length,g=f?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,T=c>>2,w=(c&3)<<4|g>>4;let I=(g&15)<<2|_>>6,U=_&63;p||(U=64,f||(I=64)),s.push(n[T],n[w],n[I],n[U])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(a0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):dA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const w=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||w==null)throw new mA;const I=c<<2|g>>4;if(s.push(I),_!==64){const U=g<<4&240|_>>2;if(s.push(U),w!==64){const Q=_<<6&192|w;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class mA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gA=function(r){const t=a0(r);return o0.encodeByteArray(t,!0)},Lc=function(r){return gA(r).replace(/\./g,"")},l0=function(r){try{return o0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=()=>pA().__FIREBASE_DEFAULTS__,_A=()=>{if(typeof process>"u"||typeof R_>"u")return;const r=R_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},vA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&l0(r[1]);return t&&JSON.parse(t)},rh=()=>{try{return fA()||yA()||_A()||vA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},u0=r=>{var t,n;return(n=(t=rh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},EA=r=>{const t=u0(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},c0=()=>{var r;return(r=rh())===null||r===void 0?void 0:r.config},h0=r=>{var t;return(t=rh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function f0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Lc(JSON.stringify(n)),Lc(JSON.stringify(f)),""].join(".")}const bl={};function AA(){const r={prod:[],emulator:[]};for(const t of Object.keys(bl))bl[t]?r.emulator.push(t):r.prod.push(t);return r}function SA(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let C_=!1;function d0(r,t){if(typeof window>"u"||typeof document>"u"||!to(window.location.host)||bl[r]===t||bl[r]||C_)return;bl[r]=t;function n(I){return`__firebase__banner__${I}`}const s="__firebase__banner",c=AA().prod.length>0;function f(){const I=document.getElementById(s);I&&I.remove()}function g(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function p(I,U){I.setAttribute("width","24"),I.setAttribute("id",U),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function _(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{C_=!0,f()},I}function T(I,U){I.setAttribute("id",U),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function w(){const I=SA(s),U=n("text"),Q=document.getElementById(U)||document.createElement("span"),G=n("learnmore"),H=document.getElementById(G)||document.createElement("a"),tt=n("preprendIcon"),it=document.getElementById(tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const at=I.element;g(at),T(H,G);const St=_();p(it,tt),at.append(it,Q,H,St),document.body.appendChild(at)}c?(Q.innerText="Preview backend disconnected.",it.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(it.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function RA(){var r;const t=(r=rh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function xA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DA(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function NA(){return!RA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OA(){try{return typeof indexedDB=="object"}catch{return!1}}function MA(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="FirebaseError";class Zi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=VA,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],f=c?kA(c,s):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new Zi(l,g,s)}}function kA(r,t){return r.replace(PA,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const PA=/\{\$([^}]+)}/g;function UA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Vs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],f=t[l];if(I_(c)&&I_(f)){if(!Vs(c,f))return!1}else if(c!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function I_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function LA(r,t){const n=new jA(r,t);return n.subscribe.bind(n)}class jA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");zA(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=Id),l.error===void 0&&(l.error=Id),l.complete===void 0&&(l.complete=Id);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zA(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Id(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(r){return r&&r._delegate?r._delegate:r}class ks{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new TA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t?.identifier),l=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(HA(t))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Cs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Cs){return this.instances.has(t)}getOptions(t=Cs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&f.resolve(l)}return l}onInit(t,n){var s;const l=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const f=this.instances.get(l);return f&&t(f,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:qA(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Cs){return this.component?this.component.multipleInstances?t:Cs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qA(r){return r===Cs?void 0:r}function HA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new BA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const GA={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},QA=kt.INFO,YA={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},KA=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=YA[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mm{constructor(t){this.name=t,this._logLevel=QA,this._logHandler=KA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?GA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const $A=(r,t)=>t.some(n=>r instanceof n);let x_,D_;function XA(){return x_||(x_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZA(){return D_||(D_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m0=new WeakMap,qd=new WeakMap,g0=new WeakMap,xd=new WeakMap,gm=new WeakMap;function JA(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(Mr(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&m0.set(n,r)}).catch(()=>{}),gm.set(t,r),t}function WA(r){if(qd.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});qd.set(r,t)}let Hd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return qd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||g0.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function t1(r){Hd=r(Hd)}function e1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Dd(this),t,...n);return g0.set(s,t.sort?t.sort():[t]),Mr(s)}:ZA().includes(r)?function(...t){return r.apply(Dd(this),t),Mr(m0.get(this))}:function(...t){return Mr(r.apply(Dd(this),t))}}function n1(r){return typeof r=="function"?e1(r):(r instanceof IDBTransaction&&WA(r),$A(r,XA())?new Proxy(r,Hd):r)}function Mr(r){if(r instanceof IDBRequest)return JA(r);if(xd.has(r))return xd.get(r);const t=n1(r);return t!==r&&(xd.set(r,t),gm.set(t,r)),t}const Dd=r=>gm.get(r);function i1(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const f=indexedDB.open(r,t),g=Mr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Mr(f.result),p.oldVersion,p.newVersion,Mr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const r1=["get","getKey","getAll","getAllKeys","count"],s1=["put","add","delete","clear"],Nd=new Map;function N_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Nd.get(t))return Nd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=s1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||r1.includes(n)))return;const c=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&p.done]))[0]};return Nd.set(t,c),c}t1(r=>({...r,get:(t,n,s)=>N_(t,n)||r.get(t,n,s),has:(t,n)=>!!N_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(o1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function o1(r){const t=r.getComponent();return t?.type==="VERSION"}const Fd="@firebase/app",O_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new mm("@firebase/app"),l1="@firebase/app-compat",u1="@firebase/analytics-compat",c1="@firebase/analytics",h1="@firebase/app-check-compat",f1="@firebase/app-check",d1="@firebase/auth",m1="@firebase/auth-compat",g1="@firebase/database",p1="@firebase/data-connect",y1="@firebase/database-compat",_1="@firebase/functions",v1="@firebase/functions-compat",E1="@firebase/installations",T1="@firebase/installations-compat",b1="@firebase/messaging",A1="@firebase/messaging-compat",S1="@firebase/performance",w1="@firebase/performance-compat",R1="@firebase/remote-config",C1="@firebase/remote-config-compat",I1="@firebase/storage",x1="@firebase/storage-compat",D1="@firebase/firestore",N1="@firebase/ai",O1="@firebase/firestore-compat",M1="firebase",V1="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="[DEFAULT]",k1={[Fd]:"fire-core",[l1]:"fire-core-compat",[c1]:"fire-analytics",[u1]:"fire-analytics-compat",[f1]:"fire-app-check",[h1]:"fire-app-check-compat",[d1]:"fire-auth",[m1]:"fire-auth-compat",[g1]:"fire-rtdb",[p1]:"fire-data-connect",[y1]:"fire-rtdb-compat",[_1]:"fire-fn",[v1]:"fire-fn-compat",[E1]:"fire-iid",[T1]:"fire-iid-compat",[b1]:"fire-fcm",[A1]:"fire-fcm-compat",[S1]:"fire-perf",[w1]:"fire-perf-compat",[R1]:"fire-rc",[C1]:"fire-rc-compat",[I1]:"fire-gcs",[x1]:"fire-gcs-compat",[D1]:"fire-fst",[O1]:"fire-fst-compat",[N1]:"fire-vertex","fire-js":"fire-js",[M1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new Map,P1=new Map,Qd=new Map;function M_(r,t){try{r.container.addComponent(t)}catch(n){Yi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Qa(r){const t=r.name;if(Qd.has(t))return Yi.debug(`There were multiple attempts to register component ${t}.`),!1;Qd.set(t,r);for(const n of jc.values())M_(n,r);for(const n of P1.values())M_(n,r);return!0}function pm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function zn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new Ll("app","Firebase",U1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=V1;function p0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Gd,automaticDataCollectionEnabled:!0},t),l=s.name;if(typeof l!="string"||!l)throw Vr.create("bad-app-name",{appName:String(l)});if(n||(n=c0()),!n)throw Vr.create("no-options");const c=jc.get(l);if(c){if(Vs(n,c.options)&&Vs(s,c.config))return c;throw Vr.create("duplicate-app",{appName:l})}const f=new FA(l);for(const p of Qd.values())f.addComponent(p);const g=new L1(n,s,f);return jc.set(l,g),g}function y0(r=Gd){const t=jc.get(r);if(!t&&r===Gd&&c0())return p0();if(!t)throw Vr.create("no-app",{appName:r});return t}function kr(r,t,n){var s;let l=(s=k1[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const c=l.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&f&&g.push("and"),f&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Yi.warn(g.join(" "));return}Qa(new ks(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="firebase-heartbeat-database",z1=1,xl="firebase-heartbeat-store";let Od=null;function _0(){return Od||(Od=i1(j1,z1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(xl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Vr.create("idb-open",{originalErrorMessage:r.message})})),Od}async function B1(r){try{const n=(await _0()).transaction(xl),s=await n.objectStore(xl).get(v0(r));return await n.done,s}catch(t){if(t instanceof Zi)Yi.warn(t.message);else{const n=Vr.create("idb-get",{originalErrorMessage:t?.message});Yi.warn(n.message)}}}async function V_(r,t){try{const s=(await _0()).transaction(xl,"readwrite");await s.objectStore(xl).put(t,v0(r)),await s.done}catch(n){if(n instanceof Zi)Yi.warn(n.message);else{const s=Vr.create("idb-set",{originalErrorMessage:n?.message});Yi.warn(s.message)}}}function v0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=1024,H1=30;class F1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Q1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=k_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>H1){const f=Y1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Yi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=k_(),{heartbeatsToSend:s,unsentEntries:l}=G1(this._heartbeatsCache.heartbeats),c=Lc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Yi.warn(n),""}}}function k_(){return new Date().toISOString().substring(0,10)}function G1(r,t=q1){const n=[];let s=r.slice();for(const l of r){const c=n.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),P_(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),P_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Q1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OA()?MA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await B1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return V_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return V_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function P_(r){return Lc(JSON.stringify({version:2,heartbeats:r})).length}function Y1(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(r){Qa(new ks("platform-logger",t=>new a1(t),"PRIVATE")),Qa(new ks("heartbeat",t=>new F1(t),"PRIVATE")),kr(Fd,O_,r),kr(Fd,O_,"esm2017"),kr("fire-js","")}K1("");function ym(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function E0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $1=E0,T0=new Ll("auth","Firebase",E0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new mm("@firebase/auth");function X1(r,...t){zc.logLevel<=kt.WARN&&zc.warn(`Auth (${eo}): ${r}`,...t)}function Cc(r,...t){zc.logLevel<=kt.ERROR&&zc.error(`Auth (${eo}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(r,...t){throw vm(r,...t)}function Hn(r,...t){return vm(r,...t)}function _m(r,t,n){const s=Object.assign(Object.assign({},$1()),{[t]:n});return new Ll("auth","Firebase",s).create(t,{appName:r.name})}function Ds(r){return _m(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Z1(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&gi(r,"argument-error"),_m(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return T0.create(r,...t)}function Tt(r,t,...n){if(!r)throw vm(t,...n)}function Gi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Cc(t),new Error(t)}function Ki(r,t){r||Gi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function J1(){return U_()==="http:"||U_()==="https:"}function U_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(J1()||IA()||"connection"in navigator)?navigator.onLine:!0}function tS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ki(n>t,"Short delay should be less than long delay!"),this.isMobile=wA()||xA()}get(){return W1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(r,t){Ki(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iS=new zl(3e4,6e4);function Tm(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function no(r,t,n,s,l={}){return A0(r,l,async()=>{let c={},f={};s&&(t==="GET"?f=s:c={body:JSON.stringify(s)});const g=jl(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:t,headers:p},c);return CA()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&to(r.emulatorConfig.host)&&(_.credentials="include"),b0.fetch()(await S0(r,r.config.apiHost,n,g),_)})}async function A0(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},eS),t);try{const l=new sS(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw vc(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw vc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw vc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw vc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw _m(r,T,_);gi(r,T)}}catch(l){if(l instanceof Zi)throw l;gi(r,"network-request-failed",{message:String(l)})}}async function rS(r,t,n,s,l={}){const c=await no(r,t,n,s,l);return"mfaPendingCredential"in c&&gi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function S0(r,t,n,s){const l=`${t}${n}?${s}`,c=r,f=c.config.emulator?Em(r.config,l):`${r.config.apiScheme}://${l}`;return nS.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class sS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Hn(this.auth,"network-request-failed")),iS.get())})}}function vc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Hn(r,t,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aS(r,t){return no(r,"POST","/v1/accounts:delete",t)}async function Bc(r,t){return no(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function oS(r,t=!1){const n=nn(r),s=await n.getIdToken(t),l=bm(s);Tt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,f=c?.sign_in_provider;return{claims:l,token:s,authTime:Al(Md(l.auth_time)),issuedAtTime:Al(Md(l.iat)),expirationTime:Al(Md(l.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Md(r){return Number(r)*1e3}function bm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Cc("JWT malformed, contained fewer than 3 sections"),null;try{const l=l0(n);return l?JSON.parse(l):(Cc("Failed to decode base64 JWT payload"),null)}catch(l){return Cc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function L_(r){const t=bm(r);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Zi&&lS(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function lS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(r){var t;const n=r.auth,s=await r.getIdToken(),l=await Dl(r,Bc(n,{idToken:s}));Tt(l?.users.length,n,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const f=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?w0(c.providerUserInfo):[],g=hS(r.providerData,f),p=r.isAnonymous,_=!(r.email&&c.passwordHash)&&!g?.length,T=p?_:!1,w={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Kd(c.createdAt,c.lastLoginAt),isAnonymous:T};Object.assign(r,w)}async function cS(r){const t=nn(r);await qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function hS(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function w0(r){return r.map(t=>{var{providerId:n}=t,s=ym(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fS(r,t){const n=await A0(r,{},async()=>{const s=jl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,f=await S0(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return r.emulatorConfig&&to(r.emulatorConfig.host)&&(p.credentials="include"),b0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dS(r,t){return no(r,"POST","/v2/accounts:revokeToken",Tm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):L_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=L_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await fS(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,f=new Ba;return s&&(Tt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),l&&(Tt(typeof l=="string","internal-error",{appName:t}),f.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:t}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ba,this.toJSON())}_performRefresh(){return Gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(r,t){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Bn{constructor(t){var{uid:n,auth:s,stsTokenManager:l}=t,c=ym(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Kd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await Dl(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return oS(this,t)}reload(){return cS(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Bn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await qc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(Ds(this.auth));const t=await this.getIdToken();return await Dl(this,aS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,l,c,f,g,p,_,T;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,I=(l=n.email)!==null&&l!==void 0?l:void 0,U=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,Q=(f=n.photoURL)!==null&&f!==void 0?f:void 0,G=(g=n.tenantId)!==null&&g!==void 0?g:void 0,H=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,tt=(_=n.createdAt)!==null&&_!==void 0?_:void 0,it=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:at,emailVerified:St,isAnonymous:gt,providerData:wt,stsTokenManager:O}=n;Tt(at&&O,t,"internal-error");const S=Ba.fromJSON(this.name,O);Tt(typeof at=="string",t,"internal-error"),Ir(w,t.name),Ir(I,t.name),Tt(typeof St=="boolean",t,"internal-error"),Tt(typeof gt=="boolean",t,"internal-error"),Ir(U,t.name),Ir(Q,t.name),Ir(G,t.name),Ir(H,t.name),Ir(tt,t.name),Ir(it,t.name);const A=new Bn({uid:at,auth:t,email:I,emailVerified:St,displayName:w,isAnonymous:gt,photoURL:Q,phoneNumber:U,tenantId:G,stsTokenManager:S,createdAt:tt,lastLoginAt:it});return wt&&Array.isArray(wt)&&(A.providerData=wt.map(D=>Object.assign({},D))),H&&(A._redirectEventId=H),A}static async _fromIdTokenResponse(t,n,s=!1){const l=new Ba;l.updateFromServerResponse(n);const c=new Bn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await qc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?w0(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!c?.length,g=new Ba;g.updateFromIdToken(s);const p=new Bn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:f}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Kd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=new Map;function Qi(r){Ki(r instanceof Function,"Expected a class definition");let t=j_.get(r);return t?(Ki(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,j_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}R0.type="NONE";const z_=R0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(r,t,n){return`firebase:${r}:${t}:${n}`}class qa{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Ic(this.userKey,l.apiKey,c),this.fullPersistenceKey=Ic("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Bc(this.auth,{idToken:t}).catch(()=>{});return n?Bn._fromGetAccountInfoResponse(this.auth,n,t):null}return Bn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new qa(Qi(z_),t,s);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Qi(z_);const f=Ic(s,t.config.apiKey,t.name);let g=null;for(const _ of n)try{const T=await _._get(f);if(T){let w;if(typeof T=="string"){const I=await Bc(t,{idToken:T}).catch(()=>{});if(!I)break;w=await Bn._fromGetAccountInfoResponse(t,I,T)}else w=Bn._fromJSON(t,T);_!==c&&(g=w),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new qa(c,t,s):(c=p[0],g&&await c._set(f,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(f)}catch{}})),new qa(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(D0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(C0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(O0(t))return"Blackberry";if(M0(t))return"Webos";if(I0(t))return"Safari";if((t.includes("chrome/")||x0(t))&&!t.includes("edge/"))return"Chrome";if(N0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function C0(r=Ze()){return/firefox\//i.test(r)}function I0(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function x0(r=Ze()){return/crios\//i.test(r)}function D0(r=Ze()){return/iemobile/i.test(r)}function N0(r=Ze()){return/android/i.test(r)}function O0(r=Ze()){return/blackberry/i.test(r)}function M0(r=Ze()){return/webos/i.test(r)}function Am(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function mS(r=Ze()){var t;return Am(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function gS(){return DA()&&document.documentMode===10}function V0(r=Ze()){return Am(r)||N0(r)||M0(r)||O0(r)||/windows phone/i.test(r)||D0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(r,t=[]){let n;switch(r){case"Browser":n=B_(Ze());break;case"Worker":n=`${B_(Ze())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${eo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((f,g)=>{try{const p=t(c);f(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yS(r,t={}){return no(r,"GET","/v2/passwordPolicy",Tm(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=6;class vS{constructor(t){var n,s,l,c;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:_S,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,l,c,f,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q_(this),this.idTokenSubscription=new q_(this),this.beforeStateQueue=new pS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Qi(n)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await qa.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Bc(this,{idToken:t}),s=await Bn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(zn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l?._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===g)&&p?.user&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await qc(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=tS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(zn(this.app))return Promise.reject(Ds(this));const n=t?nn(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(Ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return zn(this.app)?Promise.reject(Ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await yS(this),n=new vS(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ll("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await dS(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Qi(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await qa.create(this,[Qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,l);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=k0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var t;if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n?.error&&X1(`Error while retrieving App Check token: ${n.error}`),n?.token}}function sh(r){return nn(r)}class q_{constructor(t){this.auth=t,this.observer=null,this.addObserver=LA(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TS(r){Sm=r}function bS(r){return Sm.loadJS(r)}function AS(){return Sm.gapiScript}function SS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(r,t){const n=pm(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Vs(c,t??{}))return l;gi(l,"already-initialized")}return n.initialize({options:t})}function RS(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Qi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function CS(r,t,n){const s=sh(r);Tt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=P0(t),{host:f,port:g}=IS(t),p=g===null?"":`:${g}`,_={url:`${c}//${f}${p}/`},T=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Tt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Tt(Vs(_,s.config.emulator)&&Vs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,to(f)?(f0(`${c}//${f}${p}`),d0("Auth",!0)):xS()}function P0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function IS(r){const t=P0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:H_(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:H_(f)}}}function H_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function xS(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Gi("not implemented")}_getIdTokenResponse(t){return Gi("not implemented")}_linkToIdToken(t,n){return Gi("not implemented")}_getReauthenticationResolver(t){return Gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(r,t){return rS(r,"POST","/v1/accounts:signInWithIdp",Tm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="http://localhost";class Ps extends U0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ps(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=n,c=ym(n,["providerId","signInMethod"]);if(!s||!l)return null;const f=new Ps(s,l);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Ha(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Ha(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ha(t,n)}buildRequest(){const t={requestUri:DS,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=jl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends wm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Bl{constructor(){super("facebook.com")}static credential(t){return Ps._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xr.credential(t.oauthAccessToken)}catch{return null}}}xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Bl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ps._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Fi.credentialFromTaggedObject(t)}static credentialFromError(t){return Fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Fi.credential(n,s)}catch{return null}}}Fi.GOOGLE_SIGN_IN_METHOD="google.com";Fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Bl{constructor(){super("github.com")}static credential(t){return Ps._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Dr.credentialFromTaggedObject(t)}static credentialFromError(t){return Dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Dr.credential(t.oauthAccessToken)}catch{return null}}}Dr.GITHUB_SIGN_IN_METHOD="github.com";Dr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Bl{constructor(){super("twitter.com")}static credential(t,n){return Ps._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Nr.credentialFromTaggedObject(t)}static credentialFromError(t){return Nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Nr.credential(n,s)}catch{return null}}}Nr.TWITTER_SIGN_IN_METHOD="twitter.com";Nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await Bn._fromIdTokenResponse(t,s,l),f=F_(s);return new Ya({user:c,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=F_(s);return new Ya({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function F_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends Zi{constructor(t,n,s,l){var c;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Hc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new Hc(t,n,s,l)}}function L0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Hc._fromErrorAndOperation(r,c,t,s):c})}async function NS(r,t,n=!1){const s=await Dl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ya._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OS(r,t,n=!1){const{auth:s}=r;if(zn(s.app))return Promise.reject(Ds(s));const l="reauthenticate";try{const c=await Dl(r,L0(s,l,t,r),n);Tt(c.idToken,s,"internal-error");const f=bm(c.idToken);Tt(f,s,"internal-error");const{sub:g}=f;return Tt(r.uid===g,s,"user-mismatch"),Ya._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&gi(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MS(r,t,n=!1){if(zn(r.app))return Promise.reject(Ds(r));const s="signIn",l=await L0(r,s,t),c=await Ya._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}function VS(r,t,n,s){return nn(r).onIdTokenChanged(t,n,s)}function kS(r,t,n){return nn(r).beforeAuthStateChanged(t,n)}function PS(r,t,n,s){return nn(r).onAuthStateChanged(t,n,s)}function US(r){return nn(r).signOut()}const Fc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fc,"1"),this.storage.removeItem(Fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=1e3,jS=10;class z0 extends j0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=V0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);gS()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,jS):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},LS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}z0.type="LOCAL";const zS=z0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0 extends j0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}B0.type="SESSION";const q0=B0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new ah(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,f=this.handlersMap[l];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(f).map(async _=>_(n.origin,c)),p=await BS(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,f;return new Promise((g,p)=>{const _=Rm("",20);l.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(w){const I=w;if(I.data.eventId===_)switch(I.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(I.data.response);break;default:clearTimeout(T),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return window}function HS(r){ui().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(){return typeof ui().WorkerGlobalScope<"u"&&typeof ui().importScripts=="function"}async function FS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GS(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function QS(){return H0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="firebaseLocalStorageDb",YS=1,Gc="firebaseLocalStorage",G0="fbase_key";class ql{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function oh(r,t){return r.transaction([Gc],t?"readwrite":"readonly").objectStore(Gc)}function KS(){const r=indexedDB.deleteDatabase(F0);return new ql(r).toPromise()}function $d(){const r=indexedDB.open(F0,YS);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Gc,{keyPath:G0})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Gc)?t(s):(s.close(),await KS(),t(await $d()))})})}async function G_(r,t,n){const s=oh(r,!0).put({[G0]:t,value:n});return new ql(s).toPromise()}async function $S(r,t){const n=oh(r,!1).get(t),s=await new ql(n).toPromise();return s===void 0?null:s.value}function Q_(r,t){const n=oh(r,!0).delete(t);return new ql(n).toPromise()}const XS=800,ZS=3;class Q0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $d(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>ZS)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return H0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ah._getInstance(QS()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await FS(),!this.activeServiceWorker)return;this.sender=new qS(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||GS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $d();return await G_(t,Fc,"1"),await Q_(t,Fc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>G_(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>$S(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Q_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=oh(l,!1).getAll();return new ql(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Q0.type="LOCAL";const JS=Q0;new zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(r,t){return t?Qi(t):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm extends U0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ha(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ha(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ha(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function WS(r){return MS(r.auth,new Cm(r),r.bypassAuthState)}function tw(r){const{auth:t,user:n}=r;return Tt(n,t,"internal-error"),OS(n,new Cm(r),r.bypassAuthState)}async function ew(r){const{auth:t,user:n}=r;return Tt(n,t,"internal-error"),NS(n,new Cm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:f,type:g}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return WS;case"linkViaPopup":case"linkViaRedirect":return ew;case"reauthViaPopup":case"reauthViaRedirect":return tw;default:gi(this.auth,"internal-error")}}resolve(t){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=new zl(2e3,1e4);async function iw(r,t,n){if(zn(r.app))return Promise.reject(Hn(r,"operation-not-supported-in-this-environment"));const s=sh(r);Z1(r,t,wm);const l=Y0(s,n);return new Is(s,"signInViaPopup",t,l).executeNotNull()}class Is extends K0{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Is.currentPopupAction&&Is.currentPopupAction.cancel(),Is.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const t=Rm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Is.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,nw.get())};t()}}Is.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="pendingRedirect",xc=new Map;class sw extends K0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=xc.get(this.auth._key());if(!t){try{const s=await aw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}xc.set(this.auth._key(),t)}return this.bypassAuthState||xc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aw(r,t){const n=uw(t),s=lw(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function ow(r,t){xc.set(r._key(),t)}function lw(r){return Qi(r._redirectPersistence)}function uw(r){return Ic(rw,r.config.apiKey,r.name)}async function cw(r,t,n=!1){if(zn(r.app))return Promise.reject(Ds(r));const s=sh(r),l=Y0(s,t),f=await new sw(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=10*60*1e3;class fw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!dw(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!$0(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Hn(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=hw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Y_(t))}saveEventToCache(t){this.cachedEventUids.add(Y_(t)),this.lastProcessedEventTime=Date.now()}}function Y_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function $0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function dw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mw(r,t={}){return no(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pw=/^https?/;async function yw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await mw(r);for(const n of t)try{if(_w(n))return}catch{}gi(r,"unauthorized-domain")}function _w(r){const t=Yd(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!pw.test(n))return!1;if(gw.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=new zl(3e4,6e4);function K_(){const r=ui().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Ew(r){return new Promise((t,n)=>{var s,l,c;function f(){K_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{K_(),n(Hn(r,"network-request-failed"))},timeout:vw.get()})}if(!((l=(s=ui().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=ui().gapi)===null||c===void 0)&&c.load)f();else{const g=SS("iframefcb");return ui()[g]=()=>{gapi.load?f():n(Hn(r,"network-request-failed"))},bS(`${AS()}?onload=${g}`).catch(p=>n(p))}}).catch(t=>{throw Dc=null,t})}let Dc=null;function Tw(r){return Dc=Dc||Ew(r),Dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=new zl(5e3,15e3),Aw="__/auth/iframe",Sw="emulator/auth/iframe",ww={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cw(r){const t=r.config;Tt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Em(t,Sw):`https://${r.config.authDomain}/${Aw}`,s={apiKey:t.apiKey,appName:r.name,v:eo},l=Rw.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${jl(s).slice(1)}`}async function Iw(r){const t=await Tw(r),n=ui().gapi;return Tt(n,r,"internal-error"),t.open({where:document.body,url:Cw(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ww,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const f=Hn(r,"network-request-failed"),g=ui().setTimeout(()=>{c(f)},bw.get());function p(){ui().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Dw=500,Nw=600,Ow="_blank",Mw="http://localhost";class $_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Vw(r,t,n,s=Dw,l=Nw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},xw),{width:s.toString(),height:l.toString(),top:c,left:f}),_=Ze().toLowerCase();n&&(g=x0(_)?Ow:n),C0(_)&&(t=t||Mw,p.scrollbars="yes");const T=Object.entries(p).reduce((I,[U,Q])=>`${I}${U}=${Q},`,"");if(mS(_)&&g!=="_self")return kw(t||"",g),new $_(null);const w=window.open(t||"",g,T);Tt(w,r,"popup-blocked");try{w.focus()}catch{}return new $_(w)}function kw(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="__/auth/handler",Uw="emulator/auth/handler",Lw=encodeURIComponent("fac");async function X_(r,t,n,s,l,c){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:eo,eventId:l};if(t instanceof wm){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",UA(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,w]of Object.entries({}))f[T]=w}if(t instanceof Bl){const T=t.getScopes().filter(w=>w!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await r._getAppCheckToken(),_=p?`#${Lw}=${encodeURIComponent(p)}`:"";return`${jw(r)}?${jl(g).slice(1)}${_}`}function jw({config:r}){return r.emulator?Em(r,Uw):`https://${r.authDomain}/${Pw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="webStorageSupport";class zw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=q0,this._completeRedirectFn=cw,this._overrideRedirectResult=ow}async _openPopup(t,n,s,l){var c;Ki((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const f=await X_(t,n,s,Yd(),l);return Vw(t,f,Rm())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await X_(t,n,s,Yd(),l);return HS(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Ki(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await Iw(t),s=new fw(t);return n.register("authEvent",l=>(Tt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Vd,{type:Vd},l=>{var c;const f=(c=l?.[0])===null||c===void 0?void 0:c[Vd];f!==void 0&&n(!!f),gi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yw(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return V0()||I0()||Am()}}const Bw=zw;var Z_="@firebase/auth",J_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Fw(r){Qa(new ks("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;Tt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k0(r)},_=new ES(s,l,c,p);return RS(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Qa(new ks("auth-internal",t=>{const n=sh(t.getProvider("auth").getImmediate());return(s=>new qw(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kr(Z_,J_,Hw(r)),kr(Z_,J_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=5*60,Qw=h0("authIdTokenMaxAge")||Gw;let W_=null;const Yw=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Qw)return;const l=n?.token;W_!==l&&(W_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Kw(r=y0()){const t=pm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=wS(r,{popupRedirectResolver:Bw,persistence:[JS,zS,q0]}),s=h0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=Yw(c.toString());kS(n,f,()=>f(n.currentUser)),VS(n,g=>f(g))}}const l=u0("auth");return l&&CS(n,`http://${l}`),n}function $w(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}TS({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=Hn("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",$w().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Fw("Browser");var tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pr,X0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,S){function A(){}A.prototype=S.prototype,O.D=S.prototype,O.prototype=new A,O.prototype.constructor=O,O.C=function(D,M,P){for(var C=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)C[Gt-2]=arguments[Gt];return S.prototype[M].apply(D,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,S,A){A||(A=0);var D=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)D[M]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(M=0;16>M;++M)D[M]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=O.g[0],A=O.g[1],M=O.g[2];var P=O.g[3],C=S+(P^A&(M^P))+D[0]+3614090360&4294967295;S=A+(C<<7&4294967295|C>>>25),C=P+(M^S&(A^M))+D[1]+3905402710&4294967295,P=S+(C<<12&4294967295|C>>>20),C=M+(A^P&(S^A))+D[2]+606105819&4294967295,M=P+(C<<17&4294967295|C>>>15),C=A+(S^M&(P^S))+D[3]+3250441966&4294967295,A=M+(C<<22&4294967295|C>>>10),C=S+(P^A&(M^P))+D[4]+4118548399&4294967295,S=A+(C<<7&4294967295|C>>>25),C=P+(M^S&(A^M))+D[5]+1200080426&4294967295,P=S+(C<<12&4294967295|C>>>20),C=M+(A^P&(S^A))+D[6]+2821735955&4294967295,M=P+(C<<17&4294967295|C>>>15),C=A+(S^M&(P^S))+D[7]+4249261313&4294967295,A=M+(C<<22&4294967295|C>>>10),C=S+(P^A&(M^P))+D[8]+1770035416&4294967295,S=A+(C<<7&4294967295|C>>>25),C=P+(M^S&(A^M))+D[9]+2336552879&4294967295,P=S+(C<<12&4294967295|C>>>20),C=M+(A^P&(S^A))+D[10]+4294925233&4294967295,M=P+(C<<17&4294967295|C>>>15),C=A+(S^M&(P^S))+D[11]+2304563134&4294967295,A=M+(C<<22&4294967295|C>>>10),C=S+(P^A&(M^P))+D[12]+1804603682&4294967295,S=A+(C<<7&4294967295|C>>>25),C=P+(M^S&(A^M))+D[13]+4254626195&4294967295,P=S+(C<<12&4294967295|C>>>20),C=M+(A^P&(S^A))+D[14]+2792965006&4294967295,M=P+(C<<17&4294967295|C>>>15),C=A+(S^M&(P^S))+D[15]+1236535329&4294967295,A=M+(C<<22&4294967295|C>>>10),C=S+(M^P&(A^M))+D[1]+4129170786&4294967295,S=A+(C<<5&4294967295|C>>>27),C=P+(A^M&(S^A))+D[6]+3225465664&4294967295,P=S+(C<<9&4294967295|C>>>23),C=M+(S^A&(P^S))+D[11]+643717713&4294967295,M=P+(C<<14&4294967295|C>>>18),C=A+(P^S&(M^P))+D[0]+3921069994&4294967295,A=M+(C<<20&4294967295|C>>>12),C=S+(M^P&(A^M))+D[5]+3593408605&4294967295,S=A+(C<<5&4294967295|C>>>27),C=P+(A^M&(S^A))+D[10]+38016083&4294967295,P=S+(C<<9&4294967295|C>>>23),C=M+(S^A&(P^S))+D[15]+3634488961&4294967295,M=P+(C<<14&4294967295|C>>>18),C=A+(P^S&(M^P))+D[4]+3889429448&4294967295,A=M+(C<<20&4294967295|C>>>12),C=S+(M^P&(A^M))+D[9]+568446438&4294967295,S=A+(C<<5&4294967295|C>>>27),C=P+(A^M&(S^A))+D[14]+3275163606&4294967295,P=S+(C<<9&4294967295|C>>>23),C=M+(S^A&(P^S))+D[3]+4107603335&4294967295,M=P+(C<<14&4294967295|C>>>18),C=A+(P^S&(M^P))+D[8]+1163531501&4294967295,A=M+(C<<20&4294967295|C>>>12),C=S+(M^P&(A^M))+D[13]+2850285829&4294967295,S=A+(C<<5&4294967295|C>>>27),C=P+(A^M&(S^A))+D[2]+4243563512&4294967295,P=S+(C<<9&4294967295|C>>>23),C=M+(S^A&(P^S))+D[7]+1735328473&4294967295,M=P+(C<<14&4294967295|C>>>18),C=A+(P^S&(M^P))+D[12]+2368359562&4294967295,A=M+(C<<20&4294967295|C>>>12),C=S+(A^M^P)+D[5]+4294588738&4294967295,S=A+(C<<4&4294967295|C>>>28),C=P+(S^A^M)+D[8]+2272392833&4294967295,P=S+(C<<11&4294967295|C>>>21),C=M+(P^S^A)+D[11]+1839030562&4294967295,M=P+(C<<16&4294967295|C>>>16),C=A+(M^P^S)+D[14]+4259657740&4294967295,A=M+(C<<23&4294967295|C>>>9),C=S+(A^M^P)+D[1]+2763975236&4294967295,S=A+(C<<4&4294967295|C>>>28),C=P+(S^A^M)+D[4]+1272893353&4294967295,P=S+(C<<11&4294967295|C>>>21),C=M+(P^S^A)+D[7]+4139469664&4294967295,M=P+(C<<16&4294967295|C>>>16),C=A+(M^P^S)+D[10]+3200236656&4294967295,A=M+(C<<23&4294967295|C>>>9),C=S+(A^M^P)+D[13]+681279174&4294967295,S=A+(C<<4&4294967295|C>>>28),C=P+(S^A^M)+D[0]+3936430074&4294967295,P=S+(C<<11&4294967295|C>>>21),C=M+(P^S^A)+D[3]+3572445317&4294967295,M=P+(C<<16&4294967295|C>>>16),C=A+(M^P^S)+D[6]+76029189&4294967295,A=M+(C<<23&4294967295|C>>>9),C=S+(A^M^P)+D[9]+3654602809&4294967295,S=A+(C<<4&4294967295|C>>>28),C=P+(S^A^M)+D[12]+3873151461&4294967295,P=S+(C<<11&4294967295|C>>>21),C=M+(P^S^A)+D[15]+530742520&4294967295,M=P+(C<<16&4294967295|C>>>16),C=A+(M^P^S)+D[2]+3299628645&4294967295,A=M+(C<<23&4294967295|C>>>9),C=S+(M^(A|~P))+D[0]+4096336452&4294967295,S=A+(C<<6&4294967295|C>>>26),C=P+(A^(S|~M))+D[7]+1126891415&4294967295,P=S+(C<<10&4294967295|C>>>22),C=M+(S^(P|~A))+D[14]+2878612391&4294967295,M=P+(C<<15&4294967295|C>>>17),C=A+(P^(M|~S))+D[5]+4237533241&4294967295,A=M+(C<<21&4294967295|C>>>11),C=S+(M^(A|~P))+D[12]+1700485571&4294967295,S=A+(C<<6&4294967295|C>>>26),C=P+(A^(S|~M))+D[3]+2399980690&4294967295,P=S+(C<<10&4294967295|C>>>22),C=M+(S^(P|~A))+D[10]+4293915773&4294967295,M=P+(C<<15&4294967295|C>>>17),C=A+(P^(M|~S))+D[1]+2240044497&4294967295,A=M+(C<<21&4294967295|C>>>11),C=S+(M^(A|~P))+D[8]+1873313359&4294967295,S=A+(C<<6&4294967295|C>>>26),C=P+(A^(S|~M))+D[15]+4264355552&4294967295,P=S+(C<<10&4294967295|C>>>22),C=M+(S^(P|~A))+D[6]+2734768916&4294967295,M=P+(C<<15&4294967295|C>>>17),C=A+(P^(M|~S))+D[13]+1309151649&4294967295,A=M+(C<<21&4294967295|C>>>11),C=S+(M^(A|~P))+D[4]+4149444226&4294967295,S=A+(C<<6&4294967295|C>>>26),C=P+(A^(S|~M))+D[11]+3174756917&4294967295,P=S+(C<<10&4294967295|C>>>22),C=M+(S^(P|~A))+D[2]+718787259&4294967295,M=P+(C<<15&4294967295|C>>>17),C=A+(P^(M|~S))+D[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+P&4294967295}s.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var A=S-this.blockSize,D=this.B,M=this.h,P=0;P<S;){if(M==0)for(;P<=A;)l(this,O,P),P+=this.blockSize;if(typeof O=="string"){for(;P<S;)if(D[M++]=O.charCodeAt(P++),M==this.blockSize){l(this,D),M=0;break}}else for(;P<S;)if(D[M++]=O[P++],M==this.blockSize){l(this,D),M=0;break}}this.h=M,this.o+=S},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var A=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=A&255,A/=256;for(this.u(O),O=Array(16),S=A=0;4>S;++S)for(var D=0;32>D;D+=8)O[A++]=this.g[S]>>>D&255;return O};function c(O,S){var A=g;return Object.prototype.hasOwnProperty.call(A,O)?A[O]:A[O]=S(O)}function f(O,S){this.h=S;for(var A=[],D=!0,M=O.length-1;0<=M;M--){var P=O[M]|0;D&&P==S||(A[M]=P,D=!1)}this.g=A}var g={};function p(O){return-128<=O&&128>O?c(O,function(S){return new f([S|0],0>S?-1:0)}):new f([O|0],0>O?-1:0)}function _(O){if(isNaN(O)||!isFinite(O))return w;if(0>O)return H(_(-O));for(var S=[],A=1,D=0;O>=A;D++)S[D]=O/A|0,A*=4294967296;return new f(S,0)}function T(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return H(T(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=_(Math.pow(S,8)),D=w,M=0;M<O.length;M+=8){var P=Math.min(8,O.length-M),C=parseInt(O.substring(M,M+P),S);8>P?(P=_(Math.pow(S,P)),D=D.j(P).add(_(C))):(D=D.j(A),D=D.add(_(C)))}return D}var w=p(0),I=p(1),U=p(16777216);r=f.prototype,r.m=function(){if(G(this))return-H(this).m();for(var O=0,S=1,A=0;A<this.g.length;A++){var D=this.i(A);O+=(0<=D?D:4294967296+D)*S,S*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Q(this))return"0";if(G(this))return"-"+H(this).toString(O);for(var S=_(Math.pow(O,6)),A=this,D="";;){var M=St(A,S).g;A=tt(A,M.j(S));var P=((0<A.g.length?A.g[0]:A.h)>>>0).toString(O);if(A=M,Q(A))return P+D;for(;6>P.length;)P="0"+P;D=P+D}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Q(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function G(O){return O.h==-1}r.l=function(O){return O=tt(this,O),G(O)?-1:Q(O)?0:1};function H(O){for(var S=O.g.length,A=[],D=0;D<S;D++)A[D]=~O.g[D];return new f(A,~O.h).add(I)}r.abs=function(){return G(this)?H(this):this},r.add=function(O){for(var S=Math.max(this.g.length,O.g.length),A=[],D=0,M=0;M<=S;M++){var P=D+(this.i(M)&65535)+(O.i(M)&65535),C=(P>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);D=C>>>16,P&=65535,C&=65535,A[M]=C<<16|P}return new f(A,A[A.length-1]&-2147483648?-1:0)};function tt(O,S){return O.add(H(S))}r.j=function(O){if(Q(this)||Q(O))return w;if(G(this))return G(O)?H(this).j(H(O)):H(H(this).j(O));if(G(O))return H(this.j(H(O)));if(0>this.l(U)&&0>O.l(U))return _(this.m()*O.m());for(var S=this.g.length+O.g.length,A=[],D=0;D<2*S;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<O.g.length;M++){var P=this.i(D)>>>16,C=this.i(D)&65535,Gt=O.i(M)>>>16,Vt=O.i(M)&65535;A[2*D+2*M]+=C*Vt,it(A,2*D+2*M),A[2*D+2*M+1]+=P*Vt,it(A,2*D+2*M+1),A[2*D+2*M+1]+=C*Gt,it(A,2*D+2*M+1),A[2*D+2*M+2]+=P*Gt,it(A,2*D+2*M+2)}for(D=0;D<S;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=S;D<2*S;D++)A[D]=0;return new f(A,0)};function it(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function at(O,S){this.g=O,this.h=S}function St(O,S){if(Q(S))throw Error("division by zero");if(Q(O))return new at(w,w);if(G(O))return S=St(H(O),S),new at(H(S.g),H(S.h));if(G(S))return S=St(O,H(S)),new at(H(S.g),S.h);if(30<O.g.length){if(G(O)||G(S))throw Error("slowDivide_ only works with positive integers.");for(var A=I,D=S;0>=D.l(O);)A=gt(A),D=gt(D);var M=wt(A,1),P=wt(D,1);for(D=wt(D,2),A=wt(A,2);!Q(D);){var C=P.add(D);0>=C.l(O)&&(M=M.add(A),P=C),D=wt(D,1),A=wt(A,1)}return S=tt(O,M.j(S)),new at(M,S)}for(M=w;0<=O.l(S);){for(A=Math.max(1,Math.floor(O.m()/S.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),P=_(A),C=P.j(S);G(C)||0<C.l(O);)A-=D,P=_(A),C=P.j(S);Q(P)&&(P=I),M=M.add(P),O=tt(O,C)}return new at(M,O)}r.A=function(O){return St(this,O).h},r.and=function(O){for(var S=Math.max(this.g.length,O.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)&O.i(D);return new f(A,this.h&O.h)},r.or=function(O){for(var S=Math.max(this.g.length,O.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)|O.i(D);return new f(A,this.h|O.h)},r.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)^O.i(D);return new f(A,this.h^O.h)};function gt(O){for(var S=O.g.length+1,A=[],D=0;D<S;D++)A[D]=O.i(D)<<1|O.i(D-1)>>>31;return new f(A,O.h)}function wt(O,S){var A=S>>5;S%=32;for(var D=O.g.length-A,M=[],P=0;P<D;P++)M[P]=0<S?O.i(P+A)>>>S|O.i(P+A+1)<<32-S:O.i(P+A);return new f(M,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,X0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=T,Pr=f}).apply(typeof tv<"u"?tv:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Z0,_l,J0,Nc,Xd,W0,tE,eE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)t:{var y=s;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in y))break t;y=y[L]}u=u[u.length-1],b=y[u],m=m(b),m!=b&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,b=!1,L={next:function(){if(!b&&y<u.length){var F=y++;return{value:m(F,u[F]),done:!1}}return b=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,y){return u.call.apply(u.bind,arguments)}function w(u,m,y){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,b),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function I(u,m,y){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:w,I.apply(null,arguments)}function U(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var b=y.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function Q(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(b,L,F){for(var nt=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)nt[Ut-2]=arguments[Ut];return m.prototype[L].apply(b,nt)}}function G(u){const m=u.length;if(0<m){const y=Array(m);for(let b=0;b<m;b++)y[b]=u[b];return y}return[]}function H(u,m){for(let y=1;y<arguments.length;y++){const b=arguments[y];if(p(b)){const L=u.length||0,F=b.length||0;u.length=L+F;for(let nt=0;nt<F;nt++)u[L+nt]=b[nt]}else u.push(b)}}class tt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function it(u){return/^[\s\xa0]*$/.test(u)}function at(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function St(u){return St[" "](u),u}St[" "]=function(){};var gt=at().indexOf("Gecko")!=-1&&!(at().toLowerCase().indexOf("webkit")!=-1&&at().indexOf("Edge")==-1)&&!(at().indexOf("Trident")!=-1||at().indexOf("MSIE")!=-1)&&at().indexOf("Edge")==-1;function wt(u,m,y){for(const b in u)m.call(y,u[b],b,u)}function O(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function S(u){const m={};for(const y in u)m[y]=u[y];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let y,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(y in b)u[y]=b[y];for(let F=0;F<A.length;F++)y=A[F],Object.prototype.hasOwnProperty.call(b,y)&&(u[y]=b[y])}}function M(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function P(u){g.setTimeout(()=>{throw u},0)}function C(){var u=Bt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Gt{constructor(){this.h=this.g=null}add(m,y){const b=Vt.get();b.set(m,y),this.h?this.h.next=b:this.g=b,this.h=b}}var Vt=new tt(()=>new Y,u=>u.reset());class Y{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,ct=!1,Bt=new Gt,x=()=>{const u=g.Promise.resolve(void 0);rt=()=>{u.then(W)}};var W=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(y){P(y)}var m=Vt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ct=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function Ct(u,m){if(et.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(gt){t:{try{St(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_t[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ct.aa.h.call(this)}}Q(Ct,et);var _t={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Et="closure_listenable_"+(1e6*Math.random()|0),qt=0;function rn(u,m,y,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!b,this.ha=L,this.key=++qt,this.da=this.fa=!1}function Gn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Mn(u){this.src=u,this.g={},this.h=0}Mn.prototype.add=function(u,m,y,b,L){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var nt=_i(u,m,b,L);return-1<nt?(m=u[nt],y||(m.fa=!1)):(m=new rn(m,this.src,F,!!b,L),m.fa=y,u.push(m)),m};function yi(u,m){var y=m.type;if(y in u.g){var b=u.g[y],L=Array.prototype.indexOf.call(b,m,void 0),F;(F=0<=L)&&Array.prototype.splice.call(b,L,1),F&&(Gn(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function _i(u,m,y,b){for(var L=0;L<u.length;++L){var F=u[L];if(!F.da&&F.listener==m&&F.capture==!!y&&F.ha==b)return L}return-1}var Pe="closure_lm_"+(1e6*Math.random()|0),Wi={};function $l(u,m,y,b,L){if(Array.isArray(m)){for(var F=0;F<m.length;F++)$l(u,m[F],y,b,L);return null}return y=Xl(y),u&&u[Et]?u.K(m,y,_(b)?!!b.capture:!1,L):_n(u,m,y,!1,b,L)}function _n(u,m,y,b,L,F){if(!m)throw Error("Invalid event type");var nt=_(L)?!!L.capture:!!L,Ut=Fs(u);if(Ut||(u[Pe]=Ut=new Mn(u)),y=Ut.add(m,y,b,nt,F),y.proxy)return y;if(b=Th(),y.proxy=b,b.src=u,b.listener=y,u.addEventListener)ft||(L=nt),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(Gr(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Th(){function u(y){return m.call(u.src,u.listener,y)}const m=bh;return u}function lo(u,m,y,b,L){if(Array.isArray(m))for(var F=0;F<m.length;F++)lo(u,m[F],y,b,L);else b=_(b)?!!b.capture:!!b,y=Xl(y),u&&u[Et]?(u=u.i,m=String(m).toString(),m in u.g&&(F=u.g[m],y=_i(F,y,b,L),-1<y&&(Gn(F[y]),Array.prototype.splice.call(F,y,1),F.length==0&&(delete u.g[m],u.h--)))):u&&(u=Fs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=_i(m,y,b,L)),(y=-1<u?m[u]:null)&&Hs(y))}function Hs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Et])yi(m.i,u);else{var y=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(y,b,u.capture):m.detachEvent?m.detachEvent(Gr(y),b):m.addListener&&m.removeListener&&m.removeListener(b),(y=Fs(m))?(yi(y,u),y.h==0&&(y.src=null,m[Pe]=null)):Gn(u)}}}function Gr(u){return u in Wi?Wi[u]:Wi[u]="on"+u}function bh(u,m){if(u.da)u=!0;else{m=new Ct(m,this);var y=u.listener,b=u.ha||u.src;u.fa&&Hs(u),u=y.call(b,m)}return u}function Fs(u){return u=u[Pe],u instanceof Mn?u:null}var uo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xl(u){return typeof u=="function"?u:(u[uo]||(u[uo]=function(m){return u.handleEvent(m)}),u[uo])}function ue(){st.call(this),this.i=new Mn(this),this.M=this,this.F=null}Q(ue,st),ue.prototype[Et]=!0,ue.prototype.removeEventListener=function(u,m,y,b){lo(this,u,m,y,b)};function Kt(u,m){var y,b=u.F;if(b)for(y=[];b;b=b.F)y.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new et(m,u);else if(m instanceof et)m.target=m.target||u;else{var L=m;m=new et(b,u),D(m,L)}if(L=!0,y)for(var F=y.length-1;0<=F;F--){var nt=m.g=y[F];L=un(nt,b,!0,m)&&L}if(nt=m.g=u,L=un(nt,b,!0,m)&&L,L=un(nt,b,!1,m)&&L,y)for(F=0;F<y.length;F++)nt=m.g=y[F],L=un(nt,b,!1,m)&&L}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],b=0;b<y.length;b++)Gn(y[b]);delete u.g[m],u.h--}}this.F=null},ue.prototype.K=function(u,m,y,b){return this.i.add(String(u),m,!1,y,b)},ue.prototype.L=function(u,m,y,b){return this.i.add(String(u),m,!0,y,b)};function un(u,m,y,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,F=0;F<m.length;++F){var nt=m[F];if(nt&&!nt.da&&nt.capture==y){var Ut=nt.listener,we=nt.ha||nt.src;nt.fa&&yi(u.i,nt),L=Ut.call(we,b)!==!1&&L}}return L&&!b.defaultPrevented}function Ge(u,m,y){if(typeof u=="function")y&&(u=I(u,y));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Zl(u){u.g=Ge(()=>{u.g=null,u.i&&(u.i=!1,Zl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ah extends st{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(u){st.call(this),this.h=u,this.g={}}Q(Qr,st);var Yr=[];function Kr(u){wt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Hs(m)},u),u.g={}}Qr.prototype.N=function(){Qr.aa.N.call(this),Kr(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=g.JSON.stringify,Gs=g.JSON.parse,$r=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function co(){}co.prototype.h=null;function ho(u){return u.h||(u.h=u.i())}function fo(){}var vi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ei(){et.call(this,"d")}Q(Ei,et);function mo(){et.call(this,"c")}Q(mo,et);var Qn={},go=null;function tr(){return go=go||new ue}Qn.La="serverreachability";function Qs(u){et.call(this,Qn.La,u)}Q(Qs,et);function er(u){const m=tr();Kt(m,new Qs(m))}Qn.STAT_EVENT="statevent";function Jl(u,m){et.call(this,Qn.STAT_EVENT,u),this.stat=m}Q(Jl,et);function se(u){const m=tr();Kt(m,new Jl(m,u))}Qn.Ma="timingevent";function Se(u,m){et.call(this,Qn.Ma,u),this.size=m}Q(Se,et);function pe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function vn(){this.g=!0}vn.prototype.xa=function(){this.g=!1};function po(u,m,y,b,L,F){u.info(function(){if(u.g)if(F)for(var nt="",Ut=F.split("&"),we=0;we<Ut.length;we++){var Lt=Ut[we].split("=");if(1<Lt.length){var Ne=Lt[0];Lt=Lt[1];var Re=Ne.split("_");nt=2<=Re.length&&Re[1]=="type"?nt+(Ne+"="+Lt+"&"):nt+(Ne+"=redacted&")}}else nt=null;else nt=F;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+y+`
`+nt})}function Sh(u,m,y,b,L,F,nt){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+y+`
`+F+" "+nt})}function nr(u,m,y,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Xr(u,y)+(b?" "+b:"")})}function Wl(u,m){u.info(function(){return"TIMEOUT: "+m})}vn.prototype.info=function(){};function Xr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var b=y[u];if(!(2>b.length)){var L=b[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var nt=1;nt<L.length;nt++)L[nt]=""}}}}return Vn(y)}catch{return m}}var ir={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ti={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yn;function Kn(){}Q(Kn,co),Kn.prototype.g=function(){return new XMLHttpRequest},Kn.prototype.i=function(){return{}},Yn=new Kn;function Je(u,m,y,b){this.j=u,this.i=m,this.l=y,this.R=b||1,this.U=new Qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fe}function fe(){this.i=null,this.g="",this.h=!1}var yo={},Ys={};function kn(u,m,y){u.L=1,u.v=es(cn(m)),u.m=y,u.P=!0,bi(u,null)}function bi(u,m){u.F=Date.now(),Zr(u),u.A=cn(u.v);var y=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),Ao(y.i,"t",b),u.C=0,y=u.j.J,u.h=new fe,u.g=gu(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Ah(I(u.Y,u,u.g),u.O)),m=u.U,y=u.g,b=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Yr[0]=L.toString()),L=Yr);for(var F=0;F<L.length;F++){var nt=$l(y,L[F],b||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),er(),po(u.i,u.u,u.A,u.l,u.R,u.m)}Je.prototype.ca=function(u){u=u.target;const m=this.M;m&&An(u)==3?m.j():this.Y(u)},Je.prototype.Y=function(u){try{if(u==this.g)t:{const Re=An(this.g);var m=this.g.Ba();const Di=this.g.Z();if(!(3>Re)&&(Re!=3||this.g&&(this.h.h||this.g.oa()||ou(this.g)))){this.J||Re!=4||m==7||(m==8||0>=Di?er(3):er(2)),rr(this);var y=this.g.Z();this.X=y;e:if(tu(this)){var b=ou(this.g);u="";var L=b.length,F=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),$n(this);var nt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(b[m],{stream:!(F&&m==L-1)});b.length=0,this.h.g+=u,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=y==200,Sh(this.i,this.u,this.A,this.l,this.R,Re,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,we=this.g;if((Ut=we.g?we.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!it(Ut)){var Lt=Ut;break e}}Lt=null}if(y=Lt)nr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jr(this,y);else{this.o=!1,this.s=3,se(12),Ue(this),$n(this);break t}}if(this.P){y=!0;let Le;for(;!this.J&&this.C<nt.length;)if(Le=eu(this,nt),Le==Ys){Re==4&&(this.s=4,se(14),y=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==yo){this.s=4,se(15),nr(this.i,this.l,nt,"[Invalid Chunk]"),y=!1;break}else nr(this.i,this.l,Le,null),Jr(this,Le);if(tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||nt.length!=0||this.h.h||(this.s=1,se(16),y=!1),this.o=this.o&&y,!y)nr(this.i,this.l,nt,"[Invalid Chunked Response]"),Ue(this),$n(this);else if(0<nt.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),us(Ne),Ne.M=!0,se(11))}}else nr(this.i,this.l,nt,null),Jr(this,nt);Re==4&&Ue(this),this.o&&!this.J&&(Re==4?fu(this.j,this):(this.o=!1,Zr(this)))}else xh(this.g),y==400&&0<nt.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),Ue(this),$n(this)}}}catch{}finally{}};function tu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function eu(u,m){var y=u.C,b=m.indexOf(`
`,y);return b==-1?Ys:(y=Number(m.substring(y,b)),isNaN(y)?yo:(b+=1,b+y>m.length?Ys:(m=m.slice(b,b+y),u.C=b+y,m)))}Je.prototype.cancel=function(){this.J=!0,Ue(this)};function Zr(u){u.S=Date.now()+u.I,nu(u,u.I)}function nu(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=pe(I(u.ba,u),m)}function rr(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Je.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Wl(this.i,this.A),this.L!=2&&(er(),se(17)),Ue(this),this.s=2,$n(this)):nu(this,this.S-u)};function $n(u){u.j.G==0||u.J||fu(u.j,u)}function Ue(u){rr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Kr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Jr(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||_o(y.h,u))){if(!u.K&&_o(y.h,u)&&y.G==3){try{var b=y.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)sa(y),ia(y);else break t;Io(y),se(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=pe(I(y.Za,y),6e3));if(1>=$s(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else xi(y,11)}else if((u.K||y.g==u)&&sa(y),!it(m))for(L=y.Da.g.parse(m),m=0;m<L.length;m++){let Lt=L[m];if(y.T=Lt[0],Lt=Lt[1],y.G==2)if(Lt[0]=="c"){y.K=Lt[1],y.ia=Lt[2];const Ne=Lt[3];Ne!=null&&(y.la=Ne,y.j.info("VER="+y.la));const Re=Lt[4];Re!=null&&(y.Aa=Re,y.j.info("SVER="+y.Aa));const Di=Lt[5];Di!=null&&typeof Di=="number"&&0<Di&&(b=1.5*Di,y.L=b,y.j.info("backChannelRequestTimeoutMs_="+b)),b=y;const Le=u.g;if(Le){const ni=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ni){var F=b.h;F.g||ni.indexOf("spdy")==-1&&ni.indexOf("quic")==-1&&ni.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Xs(F,F.h),F.h=null))}if(b.D){const Do=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;Do&&(b.ya=Do,Zt(b.I,b.D,Do))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),b=y;var nt=u;if(b.qa=mu(b,b.J?b.ia:null,b.W),nt.K){We(b.h,nt);var Ut=nt,we=b.L;we&&(Ut.I=we),Ut.B&&(rr(Ut),Zr(Ut)),b.g=nt}else cu(b);0<y.i.length&&ra(y)}else Lt[0]!="stop"&&Lt[0]!="close"||xi(y,7);else y.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?xi(y,7):Ro(y):Lt[0]!="noop"&&y.l&&y.l.ta(Lt),y.v=0)}}er(4)}catch{}}var iu=class{constructor(u,m){this.g=u,this.map=m}};function Ai(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ks(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function $s(u){return u.h?1:u.g?u.g.size:0}function _o(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Xs(u,m){u.g?u.g.add(m):u.h=m}function We(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ai.prototype.cancel=function(){if(this.i=vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function vo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return G(u.i)}function wh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,b=0;b<y;b++)m.push(u[b]);return m}m=[],y=0;for(b in u)m[y++]=u[b];return m}function Zs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const b in u)m[y++]=b;return m}}}function Eo(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Zs(u),b=wh(u),L=b.length,F=0;F<L;F++)m.call(void 0,b[F],y&&y[F],u)}var Wr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rh(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var b=u[y].indexOf("="),L=null;if(0<=b){var F=u[y].substring(0,b);L=u[y].substring(b+1)}else F=u[y];m(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ye(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ye){this.h=u.h,ts(this,u.j),this.o=u.o,this.g=u.g,sr(this,u.s),this.l=u.l;var m=u.i,y=new wi;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Si(this,y),this.m=u.m}else u&&(m=String(u).match(Wr))?(this.h=!1,ts(this,m[1]||"",!0),this.o=En(m[2]||""),this.g=En(m[3]||"",!0),sr(this,m[4]),this.l=En(m[5]||"",!0),Si(this,m[6]||"",!0),this.m=En(m[7]||"")):(this.h=!1,this.i=new wi(null,this.h))}ye.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ns(m,To,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ns(m,To,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ns(y,y.charAt(0)=="/"?Ch:bo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ns(y,Js)),u.join("")};function cn(u){return new ye(u)}function ts(u,m,y){u.j=y?En(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function sr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Si(u,m,y){m instanceof wi?(u.i=m,su(u.i,u.h)):(y||(m=ns(m,Ih)),u.i=new wi(m,u.h))}function Zt(u,m,y){u.i.set(m,y)}function es(u){return Zt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function En(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ns(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,ru),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ru(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var To=/[#\/\?@]/g,bo=/[#\?:]/g,Ch=/[#\?]/g,Ih=/[#\?@]/g,Js=/#/g;function wi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Rh(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=wi.prototype,r.add=function(u,m){Tn(this),this.i=null,u=Xn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Ri(u,m){Tn(u),m=Xn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ci(u,m){return Tn(u),m=Xn(u,m),u.g.has(m)}r.forEach=function(u,m){Tn(this),this.g.forEach(function(y,b){y.forEach(function(L){u.call(m,L,b,this)},this)},this)},r.na=function(){Tn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let b=0;b<m.length;b++){const L=u[b];for(let F=0;F<L.length;F++)y.push(m[b])}return y},r.V=function(u){Tn(this);let m=[];if(typeof u=="string")Ci(this,u)&&(m=m.concat(this.g.get(Xn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return Tn(this),this.i=null,u=Xn(this,u),Ci(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ao(u,m,y){Ri(u,m),0<y.length&&(u.i=null,u.g.set(Xn(u,m),G(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var b=m[y];const F=encodeURIComponent(String(b)),nt=this.V(b);for(b=0;b<nt.length;b++){var L=F;nt[b]!==""&&(L+="="+encodeURIComponent(String(nt[b]))),u.push(L)}}return this.i=u.join("&")};function Xn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function su(u,m){m&&!u.j&&(Tn(u),u.i=null,u.g.forEach(function(y,b){var L=b.toLowerCase();b!=L&&(Ri(this,b),Ao(this,L,y))},u)),u.j=m}function is(u,m){const y=new vn;if(g.Image){const b=new Image;b.onload=U(bn,y,"TestLoadImage: loaded",!0,m,b),b.onerror=U(bn,y,"TestLoadImage: error",!1,m,b),b.onabort=U(bn,y,"TestLoadImage: abort",!1,m,b),b.ontimeout=U(bn,y,"TestLoadImage: timeout",!1,m,b),g.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Pn(u,m){const y=new vn,b=new AbortController,L=setTimeout(()=>{b.abort(),bn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(F=>{clearTimeout(L),F.ok?bn(y,"TestPingServer: ok",!0,m):bn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),bn(y,"TestPingServer: error",!1,m)})}function bn(u,m,y,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(y)}catch{}}function rs(){this.g=new $r}function Zn(u,m,y){const b=y||"";try{Eo(u,function(L,F){let nt=L;_(L)&&(nt=Vn(L)),m.push(b+F+"="+encodeURIComponent(nt))})}catch(L){throw m.push(b+"type="+encodeURIComponent("_badmap")),L}}function ar(u){this.l=u.Ub||null,this.j=u.eb||!1}Q(ar,co),ar.prototype.g=function(){return new Ii(this.l,this.j)},ar.prototype.i=function(u){return function(){return u}}({});function Ii(u,m){ue.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Q(Ii,ue),r=Ii.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Wn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;So(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function So(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Jn(this):Wn(this),this.readyState==3&&So(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Jn(this))},r.Qa=function(u){this.g&&(this.response=u,Jn(this))},r.ga=function(){this.g&&Jn(this)};function Jn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Wn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wo(u){let m="";return wt(u,function(y,b){m+=b,m+=":",m+=y,m+=`\r
`}),m}function De(u,m,y){t:{for(b in y){var b=!1;break t}b=!0}b||(y=wo(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Zt(u,m,y))}function Qt(u){ue.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Q(Qt,ue);var Ws=/^https?$/i,ss=["POST","PUT"];r=Qt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yn.g(),this.v=this.o?ho(this.o):ho(Yn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){au(this,F);return}if(u=y||"",y=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)y.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const F of b.keys())y.set(F,b.get(F));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(y.keys()).find(F=>F.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ss,m,void 0))||b||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,nt]of y)this.g.setRequestHeader(F,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{as(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){au(this,F)}};function au(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ta(u),ti(u)}function ta(u){u.A||(u.A=!0,Kt(u,"complete"),Kt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Kt(this,"complete"),Kt(this,"abort"),ti(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ti(this,!0)),Qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ea(this):this.bb())},r.bb=function(){ea(this)};function ea(u){if(u.h&&typeof f<"u"&&(!u.v[1]||An(u)!=4||u.Z()!=2)){if(u.u&&An(u)==4)Ge(u.Ea,0,u);else if(Kt(u,"readystatechange"),An(u)==4){u.h=!1;try{const nt=u.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var b;if(b=nt===0){var L=String(u.D).match(Wr)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),b=!Ws.test(L?L.toLowerCase():"")}y=b}if(y)Kt(u,"complete"),Kt(u,"success");else{u.m=6;try{var F=2<An(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",ta(u)}}finally{ti(u)}}}}function ti(u,m){if(u.g){as(u);const y=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Kt(u,"ready");try{y.onreadystatechange=b}catch{}}}function as(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function An(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Gs(m)}};function ou(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function xh(u){const m={};u=(u.g&&2<=An(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(it(u[b]))continue;var y=M(u[b]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const F=m[L]||[];m[L]=F,F.push(y)}O(m,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function os(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function na(u){this.Aa=0,this.i=[],this.j=new vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=os("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=os("baseRetryDelayMs",5e3,u),this.cb=os("retryDelaySeedMs",1e4,u),this.Wa=os("forwardChannelMaxRetries",2,u),this.wa=os("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ai(u&&u.concurrentRequestLimit),this.Da=new rs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=na.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,b){se(0),this.W=u,this.H=m||{},y&&b!==void 0&&(this.H.OSID=y,this.H.OAID=b),this.F=this.X,this.I=mu(this,null,this.W),ra(this)};function Ro(u){if(lu(u),u.G==3){var m=u.U++,y=cn(u.I);if(Zt(y,"SID",u.K),Zt(y,"RID",m),Zt(y,"TYPE","terminate"),ls(u,y),m=new Je(u,u.j,m),m.L=2,m.v=es(cn(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=gu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Zr(m)}du(u)}function ia(u){u.g&&(us(u),u.g.cancel(),u.g=null)}function lu(u){ia(u),u.u&&(g.clearTimeout(u.u),u.u=null),sa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function ra(u){if(!Ks(u.h)&&!u.s){u.s=!0;var m=u.Ga;rt||x(),ct||(rt(),ct=!0),Bt.add(m,u),u.B=0}}function Dh(u,m){return $s(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=pe(I(u.Ga,u,m),xo(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Je(this,this.j,u);let F=this.o;if(this.S&&(F?(F=S(F),D(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var b=this.i[y];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=uu(this,L,m),y=cn(this.I),Zt(y,"RID",u),Zt(y,"CVER",22),this.D&&Zt(y,"X-HTTP-Session-Id",this.D),ls(this,y),F&&(this.O?m="headers="+encodeURIComponent(String(wo(F)))+"&"+m:this.m&&De(y,this.m,F)),Xs(this.h,L),this.Ua&&Zt(y,"TYPE","init"),this.P?(Zt(y,"$req",m),Zt(y,"SID","null"),L.T=!0,kn(L,y,null)):kn(L,y,m),this.G=2}}else this.G==3&&(u?Co(this,u):this.i.length==0||Ks(this.h)||Co(this))};function Co(u,m){var y;m?y=m.l:y=u.U++;const b=cn(u.I);Zt(b,"SID",u.K),Zt(b,"RID",y),Zt(b,"AID",u.T),ls(u,b),u.m&&u.o&&De(b,u.m,u.o),y=new Je(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=uu(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Xs(u.h,y),kn(y,b,m)}function ls(u,m){u.H&&wt(u.H,function(y,b){Zt(m,b,y)}),u.l&&Eo({},function(y,b){Zt(m,b,y)})}function uu(u,m,y){y=Math.min(u.i.length,y);var b=u.l?I(u.l.Na,u.l,u):null;t:{var L=u.i;let F=-1;for(;;){const nt=["count="+y];F==-1?0<y?(F=L[0].g,nt.push("ofs="+F)):F=0:nt.push("ofs="+F);let Ut=!0;for(let we=0;we<y;we++){let Lt=L[we].g;const Ne=L[we].map;if(Lt-=F,0>Lt)F=Math.max(0,L[we].g-100),Ut=!1;else try{Zn(Ne,nt,"req"+Lt+"_")}catch{b&&b(Ne)}}if(Ut){b=nt.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,b}function cu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;rt||x(),ct||(rt(),ct=!0),Bt.add(m,u),u.v=0}}function Io(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=pe(I(u.Fa,u),xo(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=pe(I(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),ia(this),hu(this))};function us(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function hu(u){u.g=new Je(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=cn(u.qa);Zt(m,"RID","rpc"),Zt(m,"SID",u.K),Zt(m,"AID",u.T),Zt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Zt(m,"TO",u.ja),Zt(m,"TYPE","xmlhttp"),ls(u,m),u.m&&u.o&&De(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=es(cn(m)),y.m=null,y.P=!0,bi(y,u)}r.Za=function(){this.C!=null&&(this.C=null,ia(this),Io(this),se(19))};function sa(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function fu(u,m){var y=null;if(u.g==m){sa(u),us(u),u.g=null;var b=2}else if(_o(u.h,m))y=m.D,We(u.h,m),b=1;else return;if(u.G!=0){if(m.o)if(b==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;b=tr(),Kt(b,new Se(b,y)),ra(u)}else cu(u);else if(L=m.s,L==3||L==0&&0<m.X||!(b==1&&Dh(u,m)||b==2&&Io(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),L){case 1:xi(u,5);break;case 4:xi(u,10);break;case 3:xi(u,6);break;default:xi(u,2)}}}function xo(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function xi(u,m){if(u.j.info("Error code "+m),m==2){var y=I(u.fb,u),b=u.Xa;const L=!b;b=new ye(b||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ts(b,"https"),es(b),L?is(b.toString(),y):Pn(b.toString(),y)}else se(2);u.G=0,u.l&&u.l.sa(m),du(u),lu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function du(u){if(u.G=0,u.ka=[],u.l){const m=vo(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ka,m),H(u.ka,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.ra()}}function mu(u,m,y){var b=y instanceof ye?cn(y):new ye(y);if(b.g!="")m&&(b.g=m+"."+b.g),sr(b,b.s);else{var L=g.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var F=new ye(null);b&&ts(F,b),m&&(F.g=m),L&&sr(F,L),y&&(F.l=y),b=F}return y=u.D,m=u.ya,y&&m&&Zt(b,y,m),Zt(b,"VER",u.la),ls(u,b),b}function gu(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Qt(new ar({eb:y})):new Qt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}r=pu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function aa(){}aa.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){ue.call(this),this.g=new na(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!it(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!it(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ei(this)}Q(tn,ue),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Ro(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Vn(u),u=y);m.i.push(new iu(m.Ya++,u)),m.G==3&&ra(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Ro(this.g),delete this.g,tn.aa.N.call(this)};function yu(u){Ei.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Q(yu,Ei);function _u(){mo.call(this),this.status=1}Q(_u,mo);function ei(u){this.g=u}Q(ei,pu),ei.prototype.ua=function(){Kt(this.g,"a")},ei.prototype.ta=function(u){Kt(this.g,new yu(u))},ei.prototype.sa=function(u){Kt(this.g,new _u)},ei.prototype.ra=function(){Kt(this.g,"b")},aa.prototype.createWebChannel=aa.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,eE=function(){return new aa},tE=function(){return tr()},W0=Qn,Xd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ir.NO_ERROR=0,ir.TIMEOUT=8,ir.HTTP_ERROR=6,Nc=ir,Ti.COMPLETE="complete",J0=Ti,fo.EventType=vi,vi.OPEN="a",vi.CLOSE="b",vi.ERROR="c",vi.MESSAGE="d",ue.prototype.listen=ue.prototype.K,_l=fo,Qt.prototype.listenOnce=Qt.prototype.L,Qt.prototype.getLastError=Qt.prototype.Ka,Qt.prototype.getLastErrorCode=Qt.prototype.Ba,Qt.prototype.getStatus=Qt.prototype.Z,Qt.prototype.getResponseJson=Qt.prototype.Oa,Qt.prototype.getResponseText=Qt.prototype.oa,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Ha,Z0=Qt}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});const ev="@firebase/firestore",nv="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $e=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let io="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new mm("@firebase/firestore");function Pa(){return Us.logLevel}function ot(r,...t){if(Us.logLevel<=kt.DEBUG){const n=t.map(Im);Us.debug(`Firestore (${io}): ${r}`,...n)}}function $i(r,...t){if(Us.logLevel<=kt.ERROR){const n=t.map(Im);Us.error(`Firestore (${io}): ${r}`,...n)}}function Lr(r,...t){if(Us.logLevel<=kt.WARN){const n=t.map(Im);Us.warn(`Firestore (${io}): ${r}`,...n)}}function Im(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,nE(r,s,n)}function nE(r,t,n){let s=`FIRESTORE (${io}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw $i(s),new Error(s)}function Yt(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||nE(t,l,s)}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Zi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Xw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n($e.UNAUTHENTICATED))}shutdown(){}}class Zw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Jw{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Yt(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ns,t.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ns)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Yt(typeof s.accessToken=="string",31837,{l:s}),new iE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class Ww{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tR{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new Ww(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n($e.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Yt(this.o===void 0,3512);const s=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new iv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new iv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=nR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function xt(r,t){return r<t?-1:r>t?1:0}function Zd(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),l=t.codePointAt(n);if(s!==l){if(s<128&&l<128)return xt(s,l);{const c=rE(),f=iR(c.encode(rv(r,n)),c.encode(rv(t,n)));return f!==0?f:xt(s,l)}}n+=s>65535?2:1}return xt(r.length,t.length)}function rv(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function iR(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return xt(r[n],t[n]);return xt(r.length,t.length)}function Ka(r,t,n){return r.length===t.length&&r.every((s,l)=>n(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="__name__";class li{constructor(t,n,s){n===void 0?n=0:n>t.length&&yt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&yt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return li.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof li?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=li.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return xt(t.length,n.length)}static compareSegments(t,n){const s=li.isNumericId(t),l=li.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?li.extractNumericId(t).compare(li.extractNumericId(n)):Zd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Pr.fromString(t.substring(4,t.length-2))}}class ie extends li{construct(t,n,s){return new ie(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new lt(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new ie(n)}static emptyPath(){return new ie([])}}const rR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends li{construct(t,n,s){return new He(t,n,s)}static isValidIdentifier(t){return rR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sv}static keyField(){return new He([sv])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new lt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new lt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(s+=g,l++):(c(),l++)}if(c(),f)throw new lt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new He(n)}static emptyPath(){return new He([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ie.fromString(t))}static fromName(t){return new dt(ie.fromString(t).popFirst(5))}static empty(){return new dt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ie.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ie(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(r,t,n){if(!n)throw new lt(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function sR(r,t,n,s){if(t===!0&&s===!0)throw new lt(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function av(r){if(!dt.isDocumentKey(r))throw new lt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ov(r){if(dt.isDocumentKey(r))throw new lt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function aE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function lh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function Os(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new lt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lh(r);throw new lt(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(r,t){const n={typeString:r};return t&&(n.value=t),n}function Hl(r,t){if(!aE(r))throw new lt(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(l&&typeof f!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new lt(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=-62135596800,uv=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*uv);return new re(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<lv)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uv}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hl(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-lv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:be("string",re._jsonSchemaVersion),seconds:be("number"),nanoseconds:be("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new re(0,0))}static max(){return new bt(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=-1;function aR(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=bt.fromTimestamp(s===1e9?new re(n+1,0):new re(n,s));return new jr(l,dt.empty(),t)}function oR(r){return new jr(r.readTime,r.key,Nl)}class jr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new jr(bt.min(),dt.empty(),Nl)}static max(){return new jr(bt.max(),dt.empty(),Nl)}}function lR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=dt.comparator(r.documentKey,t.documentKey),n!==0?n:xt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==uR)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new J((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):J.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):J.reject(n)}static resolve(t){return new J((n,s)=>{n(t)})}static reject(t){return new J((n,s)=>{s(t)})}static waitFor(t){return new J((n,s)=>{let l=0,c=0,f=!1;t.forEach(g=>{++l,g.next(()=>{++c,f&&c===l&&n()},p=>s(p))}),f=!0,c===l&&n()})}static or(t){let n=J.resolve(!1);for(const s of t)n=n.next(l=>l?J.resolve(l):s());return n}static forEach(t,n){const s=[];return t.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(t,n){return new J((s,l)=>{const c=t.length,f=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;n(t[_]).next(T=>{f[_]=T,++g,g===c&&s(f)},T=>l(T))}})}static doWhile(t,n){return new J((s,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):s()};c()})}}function hR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function so(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}uh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=-1;function ch(r){return r==null}function Qc(r){return r===0&&1/r==-1/0}function fR(r){return typeof r=="number"&&Number.isInteger(r)&&!Qc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="";function dR(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=cv(t)),t=mR(r.get(n),t);return cv(t)}function mR(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case oE:n+="";break;default:n+=c}}return n}function cv(r){return r+oE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function js(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function lE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,n){this.comparator=t,this.root=n||qe.EMPTY}insert(t,n){return new le(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Tc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Tc(this.root,t,this.comparator,!0)}}class Tc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qe{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??qe.RED,this.left=l??qe.EMPTY,this.right=c??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new qe(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return qe.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,n,s,l,c){return this}insert(t,n,s){return new qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new fv(this.data.getIterator())}getIteratorFrom(t){return new fv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new xe(this.comparator);return n.data=t,n}}class fv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this.fields=t,t.sort(He.comparator)}static empty(){return new qn([])}unionWith(t){let n=new xe(He.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new qn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ka(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new uE("Invalid base64 string: "+c):c}}(t);return new Fe(n)}static fromUint8Array(t){const n=function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c}(t);return new Fe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const gR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zr(r){if(Yt(!!r,39018),typeof r=="string"){let t=0;const n=gR.exec(r);if(Yt(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Br(r){return typeof r=="string"?Fe.fromBase64String(r):Fe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="server_timestamp",hE="__type__",fE="__previous_value__",dE="__local_write_time__";function Nm(r){var t,n;return((n=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[hE])===null||n===void 0?void 0:n.stringValue)===cE}function hh(r){const t=r.mapValue.fields[fE];return Nm(t)?hh(t):t}function Ol(r){const t=zr(r.mapValue.fields[dE].timestampValue);return new re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t,n,s,l,c,f,g,p,_,T){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=T}}const Yc="(default)";class Ml{constructor(t,n){this.projectId=t,this.database=n||Yc}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===Yc}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="__type__",yR="__max__",bc={mapValue:{}},gE="__vector__",Kc="value";function qr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Nm(r)?4:vR(r)?9007199254740991:_R(r)?10:11:yt(28295,{value:r})}function pi(r,t){if(r===t)return!0;const n=qr(r);if(n!==qr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ol(r).isEqual(Ol(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=zr(l.timestampValue),g=zr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Br(l.bytesValue).isEqual(Br(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=ge(l.doubleValue),g=ge(c.doubleValue);return f===g?Qc(f)===Qc(g):isNaN(f)&&isNaN(g)}return!1}(r,t);case 9:return Ka(r.arrayValue.values||[],t.arrayValue.values||[],pi);case 10:case 11:return function(l,c){const f=l.mapValue.fields||{},g=c.mapValue.fields||{};if(hv(f)!==hv(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!pi(f[p],g[p])))return!1;return!0}(r,t);default:return yt(52216,{left:r})}}function Vl(r,t){return(r.values||[]).find(n=>pi(n,t))!==void 0}function $a(r,t){if(r===t)return 0;const n=qr(r),s=qr(t);if(n!==s)return xt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,t.booleanValue);case 2:return function(c,f){const g=ge(c.integerValue||c.doubleValue),p=ge(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return dv(r.timestampValue,t.timestampValue);case 4:return dv(Ol(r),Ol(t));case 5:return Zd(r.stringValue,t.stringValue);case 6:return function(c,f){const g=Br(c),p=Br(f);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,f){const g=c.split("/"),p=f.split("/");for(let _=0;_<g.length&&_<p.length;_++){const T=xt(g[_],p[_]);if(T!==0)return T}return xt(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,f){const g=xt(ge(c.latitude),ge(f.latitude));return g!==0?g:xt(ge(c.longitude),ge(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return mv(r.arrayValue,t.arrayValue);case 10:return function(c,f){var g,p,_,T;const w=c.fields||{},I=f.fields||{},U=(g=w[Kc])===null||g===void 0?void 0:g.arrayValue,Q=(p=I[Kc])===null||p===void 0?void 0:p.arrayValue,G=xt(((_=U?.values)===null||_===void 0?void 0:_.length)||0,((T=Q?.values)===null||T===void 0?void 0:T.length)||0);return G!==0?G:mv(U,Q)}(r.mapValue,t.mapValue);case 11:return function(c,f){if(c===bc.mapValue&&f===bc.mapValue)return 0;if(c===bc.mapValue)return 1;if(f===bc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=f.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let w=0;w<p.length&&w<T.length;++w){const I=Zd(p[w],T[w]);if(I!==0)return I;const U=$a(g[p[w]],_[T[w]]);if(U!==0)return U}return xt(p.length,T.length)}(r.mapValue,t.mapValue);default:throw yt(23264,{le:n})}}function dv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return xt(r,t);const n=zr(r),s=zr(t),l=xt(n.seconds,s.seconds);return l!==0?l:xt(n.nanos,s.nanos)}function mv(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=$a(n[l],s[l]);if(c)return c}return xt(n.length,s.length)}function Xa(r){return Jd(r)}function Jd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=zr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Br(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return dt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=Jd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const f of s)c?c=!1:l+=",",l+=`${f}:${Jd(n.fields[f])}`;return l+"}"}(r.mapValue):yt(61005,{value:r})}function Oc(r){switch(qr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hh(r);return t?16+Oc(t):16;case 5:return 2*r.stringValue.length;case 6:return Br(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+Oc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return js(s.fields,(c,f)=>{l+=c.length+Oc(f)}),l}(r.mapValue);default:throw yt(13486,{value:r})}}function gv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Wd(r){return!!r&&"integerValue"in r}function Om(r){return!!r&&"arrayValue"in r}function pv(r){return!!r&&"nullValue"in r}function yv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mc(r){return!!r&&"mapValue"in r}function _R(r){var t,n;return((n=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[mE])===null||n===void 0?void 0:n.stringValue)===gE}function Sl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return js(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Sl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Sl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function vR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===yR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.value=t}static empty(){return new Nn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Mc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Sl(n)}setAll(t){let n=He.emptyPath(),s={},l=[];t.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}f?s[g.lastSegment()]=Sl(f):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());Mc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return pi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];Mc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){js(n,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new Nn(Sl(this.value))}}function pE(r){const t=[];return js(r.fields,(n,s)=>{const l=new He([n]);if(Mc(s)){const c=pE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const f of c)t.push(l.child(f))}else t.push(l)}),new qn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n,s,l,c,f,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(t){return new Xe(t,0,bt.min(),bt.min(),bt.min(),Nn.empty(),0)}static newFoundDocument(t,n,s,l){return new Xe(t,1,n,bt.min(),s,l,0)}static newNoDocument(t,n){return new Xe(t,2,n,bt.min(),bt.min(),Nn.empty(),0)}static newUnknownDocument(t,n){return new Xe(t,3,n,bt.min(),bt.min(),Nn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,n){this.position=t,this.inclusive=n}}function _v(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],f=r.position[l];if(c.field.isKeyField()?s=dt.comparator(dt.fromName(f.referenceValue),n.key):s=$a(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function vv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!pi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,n="asc"){this.field=t,this.dir=n}}function ER(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{}class Te extends yE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new bR(t,n,s):n==="array-contains"?new wR(t,s):n==="in"?new RR(t,s):n==="not-in"?new CR(t,s):n==="array-contains-any"?new IR(t,s):new Te(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new AR(t,s):new SR(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($a(n,this.value)):n!==null&&qr(this.value)===qr(n)&&this.matchesComparison($a(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends yE{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new Fn(t,n)}matches(t){return _E(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function _E(r){return r.op==="and"}function vE(r){return TR(r)&&_E(r)}function TR(r){for(const t of r.filters)if(t instanceof Fn)return!1;return!0}function tm(r){if(r instanceof Te)return r.field.canonicalString()+r.op.toString()+Xa(r.value);if(vE(r))return r.filters.map(t=>tm(t)).join(",");{const t=r.filters.map(n=>tm(n)).join(",");return`${r.op}(${t})`}}function EE(r,t){return r instanceof Te?function(s,l){return l instanceof Te&&s.op===l.op&&s.field.isEqual(l.field)&&pi(s.value,l.value)}(r,t):r instanceof Fn?function(s,l){return l instanceof Fn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,f,g)=>c&&EE(f,l.filters[g]),!0):!1}(r,t):void yt(19439)}function TE(r){return r instanceof Te?function(n){return`${n.field.canonicalString()} ${n.op} ${Xa(n.value)}`}(r):r instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(TE).join(" ,")+"}"}(r):"Filter"}class bR extends Te{constructor(t,n,s){super(t,n,s),this.key=dt.fromName(s.referenceValue)}matches(t){const n=dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class AR extends Te{constructor(t,n){super(t,"in",n),this.keys=bE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class SR extends Te{constructor(t,n){super(t,"not-in",n),this.keys=bE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function bE(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>dt.fromName(s.referenceValue))}class wR extends Te{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Om(n)&&Vl(n.arrayValue,this.value)}}class RR extends Te{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Vl(this.value.arrayValue,n)}}class CR extends Te{constructor(t,n){super(t,"not-in",n)}matches(t){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Vl(this.value.arrayValue,n)}}class IR extends Te{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Om(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Vl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t,n=null,s=[],l=[],c=null,f=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=f,this.endAt=g,this.Pe=null}}function Ev(r,t=null,n=[],s=[],l=null,c=null,f=null){return new xR(r,t,n,s,l,c,f)}function Mm(r){const t=At(r);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>tm(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),ch(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Xa(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Xa(s)).join(",")),t.Pe=n}return t.Pe}function Vm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!ER(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!EE(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!vv(r.startAt,t.startAt)&&vv(r.endAt,t.endAt)}function em(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(t,n=null,s=[],l=[],c=null,f="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function DR(r,t,n,s,l,c,f,g){return new Fl(r,t,n,s,l,c,f,g)}function km(r){return new Fl(r)}function Tv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function AE(r){return r.collectionGroup!==null}function wl(r){const t=At(r);if(t.Te===null){t.Te=[];const n=new Set;for(const c of t.explicitOrderBy)t.Te.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new xe(He.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.Te.push(new Xc(c,s))}),n.has(He.keyField().canonicalString())||t.Te.push(new Xc(He.keyField(),s))}return t.Te}function ci(r){const t=At(r);return t.Ie||(t.Ie=NR(t,wl(r))),t.Ie}function NR(r,t){if(r.limitType==="F")return Ev(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Xc(l.field,c)});const n=r.endAt?new $c(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new $c(r.startAt.position,r.startAt.inclusive):null;return Ev(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function nm(r,t){const n=r.filters.concat([t]);return new Fl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function im(r,t,n){return new Fl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function fh(r,t){return Vm(ci(r),ci(t))&&r.limitType===t.limitType}function SE(r){return`${Mm(ci(r))}|lt:${r.limitType}`}function Ua(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>TE(l)).join(", ")}]`),ch(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>Xa(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>Xa(l)).join(",")),`Target(${s})`}(ci(r))}; limitType=${r.limitType})`}function dh(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):dt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of wl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(f,g,p){const _=_v(f,g,p);return f.inclusive?_<=0:_<0}(s.startAt,wl(s),l)||s.endAt&&!function(f,g,p){const _=_v(f,g,p);return f.inclusive?_>=0:_>0}(s.endAt,wl(s),l))}(r,t)}function OR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function wE(r){return(t,n)=>{let s=!1;for(const l of wl(r)){const c=MR(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function MR(r,t,n){const s=r.field.isKeyField()?dt.comparator(t.key,n.key):function(c,f,g){const p=f.data.field(c),_=g.data.field(c);return p!==null&&_!==null?$a(p,_):yt(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return yt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){js(this.inner,(n,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return lE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=new le(dt.comparator);function Xi(){return VR}const RE=new le(dt.comparator);function vl(...r){let t=RE;for(const n of r)t=t.insert(n.key,n);return t}function CE(r){let t=RE;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function xs(){return Rl()}function IE(){return Rl()}function Rl(){return new zs(r=>r.toString(),(r,t)=>r.isEqual(t))}const kR=new le(dt.comparator),PR=new xe(dt.comparator);function Pt(...r){let t=PR;for(const n of r)t=t.add(n);return t}const UR=new xe(xt);function LR(){return UR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(t)?"-0":t}}function xE(r){return{integerValue:""+r}}function jR(r,t){return fR(t)?xE(t):Pm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(){this._=void 0}}function zR(r,t,n){return r instanceof Zc?function(l,c){const f={fields:{[hE]:{stringValue:cE},[dE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Nm(c)&&(c=hh(c)),c&&(f.fields[fE]=c),{mapValue:f}}(n,t):r instanceof kl?NE(r,t):r instanceof Pl?OE(r,t):function(l,c){const f=DE(l,c),g=bv(f)+bv(l.Ee);return Wd(f)&&Wd(l.Ee)?xE(g):Pm(l.serializer,g)}(r,t)}function BR(r,t,n){return r instanceof kl?NE(r,t):r instanceof Pl?OE(r,t):n}function DE(r,t){return r instanceof Jc?function(s){return Wd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Zc extends mh{}class kl extends mh{constructor(t){super(),this.elements=t}}function NE(r,t){const n=ME(t);for(const s of r.elements)n.some(l=>pi(l,s))||n.push(s);return{arrayValue:{values:n}}}class Pl extends mh{constructor(t){super(),this.elements=t}}function OE(r,t){let n=ME(t);for(const s of r.elements)n=n.filter(l=>!pi(l,s));return{arrayValue:{values:n}}}class Jc extends mh{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function bv(r){return ge(r.integerValue||r.doubleValue)}function ME(r){return Om(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function qR(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof kl&&l instanceof kl||s instanceof Pl&&l instanceof Pl?Ka(s.elements,l.elements,pi):s instanceof Jc&&l instanceof Jc?pi(s.Ee,l.Ee):s instanceof Zc&&l instanceof Zc}(r.transform,t.transform)}class HR{constructor(t,n){this.version=t,this.transformResults=n}}class hi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new hi}static exists(t){return new hi(void 0,t)}static updateTime(t){return new hi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class gh{}function VE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Um(r.key,hi.none()):new Gl(r.key,r.data,hi.none());{const n=r.data,s=Nn.empty();let l=new xe(He.comparator);for(let c of t.fields)if(!l.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),l=l.add(c)}return new Bs(r.key,s,new qn(l.toArray()),hi.none())}}function FR(r,t,n){r instanceof Gl?function(l,c,f){const g=l.value.clone(),p=Sv(l.fieldTransforms,c,f.transformResults);g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):r instanceof Bs?function(l,c,f){if(!Vc(l.precondition,c))return void c.convertToUnknownDocument(f.version);const g=Sv(l.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(kE(l)),p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Cl(r,t,n,s){return r instanceof Gl?function(c,f,g,p){if(!Vc(c.precondition,f))return g;const _=c.value.clone(),T=wv(c.fieldTransforms,p,f);return _.setAll(T),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,t,n,s):r instanceof Bs?function(c,f,g,p){if(!Vc(c.precondition,f))return g;const _=wv(c.fieldTransforms,p,f),T=f.data;return T.setAll(kE(c)),T.setAll(_),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(w=>w.field))}(r,t,n,s):function(c,f,g){return Vc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g}(r,t,n)}function GR(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=DE(s.transform,l||null);c!=null&&(n===null&&(n=Nn.empty()),n.set(s.field,c))}return n||null}function Av(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ka(s,l,(c,f)=>qR(c,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Gl extends gh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Bs extends gh{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function kE(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function Sv(r,t,n){const s=new Map;Yt(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let l=0;l<n.length;l++){const c=r[l],f=c.transform,g=t.data.field(c.field);s.set(c.field,BR(f,g,n[l]))}return s}function wv(r,t,n){const s=new Map;for(const l of r){const c=l.transform,f=n.data.field(l.field);s.set(l.field,zR(c,f,t))}return s}class Um extends gh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QR extends gh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&FR(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Cl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Cl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=IE();return this.mutations.forEach(l=>{const c=t.get(l.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(l.key)?null:g;const p=VE(f,g);p!==null&&s.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(bt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Pt())}isEqual(t){return this.batchId===t.batchId&&Ka(this.mutations,t.mutations,(n,s)=>Av(n,s))&&Ka(this.baseMutations,t.baseMutations,(n,s)=>Av(n,s))}}class Lm{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Yt(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let l=function(){return kR}();const c=t.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,s[f].version);return new Lm(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,zt;function XR(r){switch(r){case Z.OK:return yt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function PE(r){if(r===void 0)return $i("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ee.OK:return Z.OK;case Ee.CANCELLED:return Z.CANCELLED;case Ee.UNKNOWN:return Z.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return Z.INTERNAL;case Ee.UNAVAILABLE:return Z.UNAVAILABLE;case Ee.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ee.NOT_FOUND:return Z.NOT_FOUND;case Ee.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ee.ABORTED:return Z.ABORTED;case Ee.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ee.DATA_LOSS:return Z.DATA_LOSS;default:return yt(39323,{code:r})}}(zt=Ee||(Ee={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=new Pr([4294967295,4294967295],0);function Rv(r){const t=rE().encode(r),n=new X0;return n.update(t),new Uint8Array(n.digest())}function Cv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Pr([n,s],0),new Pr([l,c],0)]}class jm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new El(`Invalid padding: ${n}`);if(s<0)throw new El(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new El(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=Pr.fromNumber(this.fe)}pe(t,n,s){let l=t.add(n.multiply(Pr.fromNumber(s)));return l.compare(ZR)===1&&(l=new Pr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=Rv(t),[s,l]=Cv(n);for(let c=0;c<this.hashCount;c++){const f=this.pe(s,l,c);if(!this.ye(f))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new jm(c,l,n);return s.forEach(g=>f.insert(g)),f}insert(t){if(this.fe===0)return;const n=Rv(t),[s,l]=Cv(n);for(let c=0;c<this.hashCount;c++){const f=this.pe(s,l,c);this.we(f)}}we(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,Ql.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new ph(bt.min(),l,new le(xt),Xi(),Pt())}}class Ql{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Ql(s,n,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(t,n,s,l){this.Se=t,this.removedTargetIds=n,this.key=s,this.be=l}}class UE{constructor(t,n){this.targetId=t,this.De=n}}class LE{constructor(t,n,s=Fe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class Iv{constructor(){this.ve=0,this.Ce=xv(),this.Fe=Fe.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Pt(),n=Pt(),s=Pt();return this.Ce.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:yt(38017,{changeType:c})}}),new Ql(this.Fe,this.Me,t,n,s)}ke(){this.xe=!1,this.Ce=xv()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class JR{constructor(t){this.We=t,this.Ge=new Map,this.ze=Xi(),this.je=Ac(),this.Je=Ac(),this.He=new le(xt)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,n=>{const s=this.tt(n);switch(t.state){case 0:this.nt(n)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(t.resumeToken));break;default:yt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach((s,l)=>{this.nt(l)&&n(l)})}it(t){const n=t.targetId,s=t.De.count,l=this.st(n);if(l){const c=l.target;if(em(c))if(s===0){const f=new dt(c.path);this.Xe(n,f,Xe.newNoDocument(f,bt.min()))}else Yt(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const g=this._t(t),p=g?this.ut(g,t,f):1;if(p!==0){this.rt(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,_)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let f,g;try{f=Br(s).toUint8Array()}catch(p){if(p instanceof uE)return Lr("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new jm(f,l,c)}catch(p){return Lr(p instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.fe===0?null:g}ut(t,n,s){return n.De.count===s-this.ht(t,n.targetId)?0:2}ht(t,n){const s=this.We.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const f=this.We.lt(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.Xe(n,c,null),l++)}),l}Pt(t){const n=new Map;this.Ge.forEach((c,f)=>{const g=this.st(f);if(g){if(c.current&&em(g.target)){const p=new dt(g.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,Xe.newNoDocument(p,t))}c.Ne&&(n.set(f,c.Le()),c.ke())}});let s=Pt();this.Je.forEach((c,f)=>{let g=!0;f.forEachWhile(p=>{const _=this.st(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.ze.forEach((c,f)=>f.setReadTime(t));const l=new ph(t,n,this.He,this.ze,s);return this.ze=Xi(),this.je=Ac(),this.Je=Ac(),this.He=new le(xt),l}Ze(t,n){if(!this.nt(t))return;const s=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,s){if(!this.nt(t))return;const l=this.tt(t);this.It(t,n)?l.qe(n,1):l.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new Iv,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new xe(xt),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new xe(xt),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new Iv),this.We.getRemoteKeysForTarget(t).forEach(n=>{this.Xe(t,n,null)})}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function Ac(){return new le(dt.comparator)}function xv(){return new le(dt.comparator)}const WR={asc:"ASCENDING",desc:"DESCENDING"},t2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e2={and:"AND",or:"OR"};class n2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function rm(r,t){return r.useProto3Json||ch(t)?t:{value:t}}function Wc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function jE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function i2(r,t){return Wc(r,t.toTimestamp())}function fi(r){return Yt(!!r,49232),bt.fromTimestamp(function(n){const s=zr(n);return new re(s.seconds,s.nanos)}(r))}function zm(r,t){return sm(r,t).canonicalString()}function sm(r,t){const n=function(l){return new ie(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function zE(r){const t=ie.fromString(r);return Yt(GE(t),10190,{key:t.toString()}),t}function am(r,t){return zm(r.databaseId,t.path)}function kd(r,t){const n=zE(t);if(n.get(1)!==r.databaseId.projectId)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new dt(qE(n))}function BE(r,t){return zm(r.databaseId,t)}function r2(r){const t=zE(r);return t.length===4?ie.emptyPath():qE(t)}function om(r){return new ie(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function qE(r){return Yt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Dv(r,t,n){return{name:am(r,t),fields:n.value.mapValue.fields}}function s2(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(_,T){return _.useProto3Json?(Yt(T===void 0||typeof T=="string",58123),Fe.fromBase64String(T||"")):(Yt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Fe.fromUint8Array(T||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&function(_){const T=_.code===void 0?Z.UNKNOWN:PE(_.code);return new lt(T,_.message||"")}(f);n=new LE(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=kd(r,s.document.name),c=fi(s.document.updateTime),f=s.document.createTime?fi(s.document.createTime):bt.min(),g=new Nn({mapValue:{fields:s.document.fields}}),p=Xe.newFoundDocument(l,c,f,g),_=s.targetIds||[],T=s.removedTargetIds||[];n=new kc(_,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=kd(r,s.document),c=s.readTime?fi(s.readTime):bt.min(),f=Xe.newNoDocument(l,c),g=s.removedTargetIds||[];n=new kc([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=kd(r,s.document),c=s.removedTargetIds||[];n=new kc([],c,l,null)}else{if(!("filter"in t))return yt(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,f=new $R(l,c),g=s.targetId;n=new UE(g,f)}}return n}function a2(r,t){let n;if(t instanceof Gl)n={update:Dv(r,t.key,t.value)};else if(t instanceof Um)n={delete:am(r,t.key)};else if(t instanceof Bs)n={update:Dv(r,t.key,t.data),updateMask:g2(t.fieldMask)};else{if(!(t instanceof QR))return yt(16599,{Rt:t.type});n={verify:am(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,f){const g=f.transform;if(g instanceof Zc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof kl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Pl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Jc)return{fieldPath:f.field.canonicalString(),increment:g.Ee};throw yt(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:i2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)}(r,t.precondition)),n}function o2(r,t){return r&&r.length>0?(Yt(t!==void 0,14353),r.map(n=>function(l,c){let f=l.updateTime?fi(l.updateTime):fi(c);return f.isEqual(bt.min())&&(f=fi(c)),new HR(f,l.transformResults||[])}(n,t))):[]}function l2(r,t){return{documents:[BE(r,t.path)]}}function u2(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=BE(r,l);const c=function(_){if(_.length!==0)return FE(Fn.create(_,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const f=function(_){if(_.length!==0)return _.map(T=>function(I){return{field:La(I.field),direction:f2(I.dir)}}(T))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const g=rm(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{Vt:n,parent:l}}function c2(r){let t=r2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Yt(s===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];n.where&&(c=function(w){const I=HE(w);return I instanceof Fn&&vE(I)?I.getFilters():[I]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(I=>function(Q){return new Xc(ja(Q.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Q.direction))}(I))}(n.orderBy));let g=null;n.limit&&(g=function(w){let I;return I=typeof w=="object"?w.value:w,ch(I)?null:I}(n.limit));let p=null;n.startAt&&(p=function(w){const I=!!w.before,U=w.values||[];return new $c(U,I)}(n.startAt));let _=null;return n.endAt&&(_=function(w){const I=!w.before,U=w.values||[];return new $c(U,I)}(n.endAt)),DR(t,l,f,c,g,"F",p,_)}function h2(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function HE(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ja(n.unaryFilter.field);return Te.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=ja(n.unaryFilter.field);return Te.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ja(n.unaryFilter.field);return Te.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ja(n.unaryFilter.field);return Te.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}}(r):r.fieldFilter!==void 0?function(n){return Te.create(ja(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(s=>HE(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}}(n.compositeFilter.op))}(r):yt(30097,{filter:r})}function f2(r){return WR[r]}function d2(r){return t2[r]}function m2(r){return e2[r]}function La(r){return{fieldPath:r.canonicalString()}}function ja(r){return He.fromServerFormat(r.fieldPath)}function FE(r){return r instanceof Te?function(n){if(n.op==="=="){if(yv(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NAN"}};if(pv(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yv(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NOT_NAN"}};if(pv(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(n.field),op:d2(n.op),value:n.value}}}(r):r instanceof Fn?function(n){const s=n.getFilters().map(l=>FE(l));return s.length===1?s[0]:{compositeFilter:{op:m2(n.op),filters:s}}}(r):yt(54877,{filter:r})}function g2(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function GE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t,n,s,l,c=bt.min(),f=bt.min(),g=Fe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Or(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t){this.gt=t}}function y2(r){const t=c2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?im(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.Dn=new v2}addToCollectionParentIndex(t,n){return this.Dn.add(n),J.resolve()}getCollectionParents(t,n){return J.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return J.resolve()}deleteFieldIndex(t,n){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,n){return J.resolve()}getDocumentsMatchingTarget(t,n){return J.resolve(null)}getIndexType(t,n){return J.resolve(0)}getFieldIndexes(t,n){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,n){return J.resolve(jr.min())}getMinOffsetFromCollectionGroup(t,n){return J.resolve(jr.min())}updateCollectionGroup(t,n,s){return J.resolve()}updateIndexEntries(t,n){return J.resolve()}}class v2{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new xe(ie.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new xe(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QE=41943040;class ln{static withCacheSize(t){return new ln(t,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(QE,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Za(0)}static ur(){return new Za(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="LruGarbageCollector",E2=1048576;function Mv([r,t],[n,s]){const l=xt(r,n);return l===0?xt(t,s):l}class T2{constructor(t){this.Tr=t,this.buffer=new xe(Mv),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Mv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class b2{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){ot(Ov,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){so(n)?ot(Ov,"Ignoring IndexedDB error during garbage collection: ",n):await ro(n)}await this.Rr(3e5)})}}class A2{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return J.resolve(uh.ue);const s=new T2(n);return this.Vr.forEachTarget(t,l=>s.Er(l.sequenceNumber)).next(()=>this.Vr.gr(t,l=>s.Er(l))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Nv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nv):this.pr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let s,l,c,f,g,p,_;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,f=Date.now(),this.nthSequenceNumber(t,l))).next(w=>(s=w,g=Date.now(),this.removeTargets(t,s,n))).next(w=>(c=w,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(w=>(_=Date.now(),Pa()<=kt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${w} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w})))}}function S2(r,t){return new A2(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.changes=new zs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(s!==null&&Cl(s.mutation,l,qn.empty(),re.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Pt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Pt()){const l=xs();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,s).next(c=>{let f=vl();return c.forEach((g,p)=>{f=f.insert(g,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=xs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Pt()))}populateOverlays(t,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((f,g)=>{n.set(f,g)})})}computeViews(t,n,s,l){let c=Xi();const f=Rl(),g=function(){return Rl()}();return n.forEach((p,_)=>{const T=s.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof Bs)?c=c.insert(_.key,_):T!==void 0?(f.set(_.key,T.mutation.getFieldMask()),Cl(T.mutation,_,T.mutation.getFieldMask(),re.now())):f.set(_.key,qn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((_,T)=>f.set(_,T)),n.forEach((_,T)=>{var w;return g.set(_,new R2(T,(w=f.get(_))!==null&&w!==void 0?w:null))}),g))}recalculateAndSaveOverlays(t,n){const s=Rl();let l=new le((f,g)=>f-g),c=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const g of f)g.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let T=s.get(p)||qn.empty();T=g.applyToLocalView(_,T),s.set(p,T);const w=(l.get(g.batchId)||Pt()).add(p);l=l.insert(g.batchId,w)})}).next(()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,T=p.value,w=IE();T.forEach(I=>{if(!c.has(I)){const U=VE(n.get(I),s.get(I));U!==null&&w.set(I,U),c=c.add(I)}}),f.push(this.documentOverlayCache.saveOverlays(t,_,w))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,l){return function(f){return dt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):AE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next(c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):J.resolve(xs());let g=Nl,p=c;return f.next(_=>J.forEach(_,(T,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(T)?J.resolve():this.remoteDocumentCache.getEntry(t,T).next(I=>{p=p.insert(T,I)}))).next(()=>this.populateOverlays(t,_,c)).next(()=>this.computeViews(t,p,_,Pt())).next(T=>({batchId:g,changes:CE(T)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new dt(n)).next(s=>{let l=vl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let f=vl();return this.indexManager.getCollectionParents(t,c).next(g=>J.forEach(g,p=>{const _=function(w,I){return new Fl(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next(T=>{T.forEach((w,I)=>{f=f.insert(w,I)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l))).next(f=>{c.forEach((p,_)=>{const T=_.getKey();f.get(T)===null&&(f=f.insert(T,Xe.newInvalidDocument(T)))});let g=vl();return f.forEach((p,_)=>{const T=c.get(p);T!==void 0&&Cl(T.mutation,_,qn.empty(),re.now()),dh(n,_)&&(g=g.insert(p,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return J.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,function(l){return{id:l.id,version:l.version,createTime:fi(l.createTime)}}(n)),J.resolve()}getNamedQuery(t,n){return J.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,function(l){return{name:l.name,query:y2(l.bundledQuery),readTime:fi(l.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.overlays=new le(dt.comparator),this.kr=new Map}getOverlay(t,n){return J.resolve(this.overlays.get(n))}getOverlays(t,n){const s=xs();return J.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((l,c)=>{this.wt(t,n,c)}),J.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.kr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.kr.delete(s)),J.resolve()}getOverlaysForCollection(t,n,s){const l=xs(),c=n.length+1,f=new dt(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return J.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new le((_,T)=>_-T);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let T=c.get(_.largestBatchId);T===null&&(T=xs(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=xs(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,T)=>g.set(_,T)),!(g.size()>=l)););return J.resolve(g)}wt(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.kr.get(l.largestBatchId).delete(s.key);this.kr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new KR(n,s));let c=this.kr.get(n);c===void 0&&(c=Pt(),this.kr.set(n,c)),this.kr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(){this.qr=new xe(ke.Qr),this.$r=new xe(ke.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const s=new ke(t,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Wr(new ke(t,n))}Gr(t,n){t.forEach(s=>this.removeReference(s,n))}zr(t){const n=new dt(new ie([])),s=new ke(n,t),l=new ke(n,t+1),c=[];return this.$r.forEachInRange([s,l],f=>{this.Wr(f),c.push(f.key)}),c}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new dt(new ie([])),s=new ke(n,t),l=new ke(n,t+1);let c=Pt();return this.$r.forEachInRange([s,l],f=>{c=c.add(f.key)}),c}containsKey(t){const n=new ke(t,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class ke{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return dt.comparator(t.key,n.key)||xt(t.Hr,n.Hr)}static Ur(t,n){return xt(t.Hr,n.Hr)||dt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new xe(ke.Qr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new YR(c,n,s,l);this.mutationQueue.push(f);for(const g of l)this.Yr=this.Yr.add(new ke(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return J.resolve(f)}lookupMutationBatch(t,n){return J.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.Xr(s),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Dm:this.er-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new ke(n,0),l=new ke(n,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([s,l],f=>{const g=this.Zr(f.Hr);c.push(g)}),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new xe(xt);return n.forEach(l=>{const c=new ke(l,0),f=new ke(l,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,f],g=>{s=s.add(g.Hr)})}),J.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;dt.isDocumentKey(c)||(c=c.child(""));const f=new ke(new dt(c),0);let g=new xe(xt);return this.Yr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Hr)),!0)},f),J.resolve(this.ei(g))}ei(t){const n=[];return t.forEach(s=>{const l=this.Zr(s);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){Yt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return J.forEach(n.mutations,l=>{const c=new ke(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Yr=s})}rr(t){}containsKey(t,n){const s=new ke(n,0),l=this.Yr.firstAfterOrEqual(s);return J.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(t){this.ni=t,this.docs=function(){return new le(dt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(t,n){let s=Xi();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Xe.newInvalidDocument(l))}),J.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=Xi();const f=n.path,g=new dt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||lR(oR(T),s)<=0||(l.has(T.key)||dh(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,n,s,l){yt(9500)}ri(t,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new M2(this)}getSize(t){return J.resolve(this.size)}}class M2 extends w2{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Or.addEntry(t,l)):this.Or.removeEntry(s)}),J.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t){this.persistence=t,this.ii=new zs(n=>Mm(n),Vm),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.si=0,this.oi=new Bm,this.targetCount=0,this._i=Za.ar()}forEachTarget(t,n){return this.ii.forEach((s,l)=>n(l)),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),J.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new Za(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,J.resolve()}updateTargetData(t,n){return this.hr(n),J.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.ii.forEach((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.ii.delete(f),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),J.waitFor(c).next(()=>l)}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,n){const s=this.ii.get(n)||null;return J.resolve(s)}addMatchingKeys(t,n,s){return this.oi.Kr(n,s),J.resolve()}removeMatchingKeys(t,n,s){this.oi.Gr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(f=>{c.push(l.markPotentiallyOrphaned(t,f))}),J.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),J.resolve()}getMatchingKeysForTargetId(t,n){const s=this.oi.Jr(n);return J.resolve(s)}containsKey(t,n){return J.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(t,n){this.ai={},this.overlays={},this.ui=new uh(0),this.ci=!1,this.ci=!0,this.li=new D2,this.referenceDelegate=t(this),this.hi=new V2(this),this.indexManager=new _2,this.remoteDocumentCache=function(l){return new O2(l)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new p2(n),this.Ti=new I2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new x2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ai[t.toKey()];return s||(s=new N2(n,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,s){ot("MemoryPersistence","Starting transaction:",t);const l=new k2(this.ui.next());return this.referenceDelegate.Ii(),s(l).next(c=>this.referenceDelegate.di(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ei(t,n){return J.or(Object.values(this.ai).map(s=>()=>s.containsKey(t,n)))}}class k2 extends cR{constructor(t){super(),this.currentSequenceNumber=t}}class qm{constructor(t){this.persistence=t,this.Ai=new Bm,this.Ri=null}static Vi(t){return new qm(t)}get mi(){if(this.Ri)return this.Ri;throw yt(60996)}addReference(t,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),J.resolve()}removeReference(t,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),J.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach(l=>this.mi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.mi.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.mi,s=>{const l=dt.fromPath(s);return this.fi(t,l).next(c=>{c||n.removeEntry(l,bt.min())})}).next(()=>(this.Ri=null,n.apply(t)))}updateLimboDocument(t,n){return this.fi(t,n).next(s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(t){return 0}fi(t,n){return J.or([()=>J.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class th{constructor(t,n){this.persistence=t,this.gi=new zs(s=>dR(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=S2(this,n)}static Vi(t,n){return new th(t,n)}Ii(){}di(t){return J.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(l=>s+l))}yr(t){let n=0;return this.gr(t,s=>{n++}).next(()=>n)}gr(t,n){return J.forEach(this.gi,(s,l)=>this.Sr(t,s,l).next(c=>c?J.resolve():n(l)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ri(t,f=>this.Sr(t,f,n).next(g=>{g||(s++,c.removeEntry(f,bt.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),J.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),J.resolve()}removeReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),J.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Oc(t.data.value)),n}Sr(t,n,s){return J.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.gi.get(n);return J.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Is=s,this.ds=l}static Es(t,n){let s=Pt(),l=Pt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Hm(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return NA()?8:hR(Ze())>0?6:4}()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.ps(t,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ys(t,n,l,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new P2;return this.ws(t,n,f).next(g=>{if(c.result=g,this.Rs)return this.Ss(t,n,f,g.size)})}).next(()=>c.result)}Ss(t,n,s,l){return s.documentReadCount<this.Vs?(Pa()<=kt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Pa()<=kt.DEBUG&&ot("QueryEngine","Query:",Ua(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.fs*l?(Pa()<=kt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ci(n))):J.resolve())}ps(t,n){if(Tv(n))return J.resolve(null);let s=ci(n);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=im(n,null,"F"),s=ci(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const f=Pt(...c);return this.gs.getDocuments(t,f).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const _=this.bs(n,g);return this.Ds(n,_,f,p.readTime)?this.ps(t,im(n,null,"F")):this.vs(t,_,n,p)}))})))}ys(t,n,s,l){return Tv(n)||l.isEqual(bt.min())?J.resolve(null):this.gs.getDocuments(t,s).next(c=>{const f=this.bs(n,c);return this.Ds(n,f,s,l)?J.resolve(null):(Pa()<=kt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ua(n)),this.vs(t,f,n,aR(l,Nl)).next(g=>g))})}bs(t,n){let s=new xe(wE(t));return n.forEach((l,c)=>{dh(t,c)&&(s=s.add(c))}),s}Ds(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ws(t,n,s){return Pa()<=kt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ua(n)),this.gs.getDocumentsMatchingQuery(t,n,jr.min(),s)}vs(t,n,s,l){return this.gs.getDocumentsMatchingQuery(t,s,l).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="LocalStore",L2=3e8;class j2{constructor(t,n,s,l){this.persistence=t,this.Cs=n,this.serializer=l,this.Fs=new le(xt),this.Ms=new zs(c=>Mm(c),Vm),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new C2(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Fs))}}function z2(r,t,n,s){return new j2(r,t,n,s)}async function KE(r,t){const n=At(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.Ns(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],g=[];let p=Pt();for(const _ of l){f.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of c){g.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(_=>({Bs:_,removedBatchIds:f,addedBatchIds:g}))})})}function B2(r,t){const n=At(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=n.Os.newChangeBuffer({trackRemovals:!0});return function(g,p,_,T){const w=_.batch,I=w.keys();let U=J.resolve();return I.forEach(Q=>{U=U.next(()=>T.getEntry(p,Q)).next(G=>{const H=_.docVersions.get(Q);Yt(H!==null,48541),G.version.compareTo(H)<0&&(w.applyToRemoteDocument(G,_),G.isValidDocument()&&(G.setReadTime(_.commitVersion),T.addEntry(G)))})}),U.next(()=>g.mutationQueue.removeMutationBatch(p,w))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Pt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,l))})}function $E(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.hi.getLastRemoteSnapshotVersion(n))}function q2(r,t){const n=At(r),s=t.snapshotVersion;let l=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});l=n.Fs;const g=[];t.targetChanges.forEach((T,w)=>{const I=l.get(w);if(!I)return;g.push(n.hi.removeMatchingKeys(c,T.removedDocuments,w).next(()=>n.hi.addMatchingKeys(c,T.addedDocuments,w)));let U=I.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?U=U.withResumeToken(Fe.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):T.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(T.resumeToken,s)),l=l.insert(w,U),function(G,H,tt){return G.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=L2?!0:tt.addedDocuments.size+tt.modifiedDocuments.size+tt.removedDocuments.size>0}(I,U,T)&&g.push(n.hi.updateTargetData(c,U))});let p=Xi(),_=Pt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))}),g.push(H2(c,f,t.documentUpdates).next(T=>{p=T.Ls,_=T.ks})),!s.isEqual(bt.min())){const T=n.hi.getLastRemoteSnapshotVersion(c).next(w=>n.hi.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(T)}return J.waitFor(g).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,_)).next(()=>p)}).then(c=>(n.Fs=l,c))}function H2(r,t,n){let s=Pt(),l=Pt();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let f=Xi();return n.forEach((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(bt.min())?(t.removeEntry(g,p.readTime),f=f.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),f=f.insert(g,p)):ot(Fm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)}),{Ls:f,ks:l}})}function F2(r,t){const n=At(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Dm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function G2(r,t){const n=At(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.hi.getTargetData(s,t).next(c=>c?(l=c,J.resolve(l)):n.hi.allocateTargetId(s).next(f=>(l=new Or(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.Fs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(t,s.targetId)),s})}async function lm(r,t,n){const s=At(r),l=s.Fs.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!so(f))throw f;ot(Fm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(l.target)}function Vv(r,t,n){const s=At(r);let l=bt.min(),c=Pt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,_,T){const w=At(p),I=w.Ms.get(T);return I!==void 0?J.resolve(w.Fs.get(I)):w.hi.getTargetData(_,T)}(s,f,ci(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,g.targetId).next(p=>{c=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(f,t,n?l:bt.min(),n?c:Pt())).next(g=>(Q2(s,OR(t),g),{documents:g,qs:c})))}function Q2(r,t,n){let s=r.xs.get(t)||bt.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.xs.set(t,s)}class kv{constructor(){this.activeTargetIds=LR()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Y2{constructor(){this.Fo=new kv,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,s){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new kv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="ConnectivityMonitor";class Uv{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ot(Pv,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){ot(Pv,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc=null;function um(){return Sc===null?Sc=function(){return 268435456+Math.round(2147483648*Math.random())}():Sc++,"0x"+Sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="RestConnection",$2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class X2{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${s}/databases/${l}`,this.Ko=this.databaseId.database===Yc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(t,n,s,l,c){const f=um(),g=this.Go(t,n.toUriEncodedString());ot(Pd,`Sending RPC '${t}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,l,c);const{host:_}=new URL(g),T=to(_);return this.jo(t,g,p,s,T).then(w=>(ot(Pd,`Received RPC '${t}' ${f}: `,w),w),w=>{throw Lr(Pd,`RPC '${t}' ${f} failed with error: `,w,"url: ",g,"request:",s),w})}Jo(t,n,s,l,c,f){return this.Wo(t,n,s,l,c)}zo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+io}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}Go(t,n){const s=$2[t];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class J2 extends X2{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,s,l,c){const f=um();return new Promise((g,p)=>{const _=new Z0;_.setWithCredentials(!0),_.listenOnce(J0.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Nc.NO_ERROR:const w=_.getResponseJson();ot(Ke,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(w)),g(w);break;case Nc.TIMEOUT:ot(Ke,`RPC '${t}' ${f} timed out`),p(new lt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Nc.HTTP_ERROR:const I=_.getStatus();if(ot(Ke,`RPC '${t}' ${f} failed with status:`,I,"response text:",_.getResponseText()),I>0){let U=_.getResponseJson();Array.isArray(U)&&(U=U[0]);const Q=U?.error;if(Q&&Q.status&&Q.message){const G=function(tt){const it=tt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(it)>=0?it:Z.UNKNOWN}(Q.status);p(new lt(G,Q.message))}else p(new lt(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new lt(Z.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{c_:t,streamId:f,l_:_.getLastErrorCode(),h_:_.getLastError()})}}finally{ot(Ke,`RPC '${t}' ${f} completed.`)}});const T=JSON.stringify(l);ot(Ke,`RPC '${t}' ${f} sending request:`,l),_.send(n,"POST",T,s,15)})}P_(t,n,s){const l=um(),c=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=eE(),g=tE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=c.join("");ot(Ke,`Creating RPC '${t}' stream ${l}: ${T}`,p);const w=f.createWebChannel(T,p);this.T_(w);let I=!1,U=!1;const Q=new Z2({Ho:H=>{U?ot(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,H):(I||(ot(Ke,`Opening RPC '${t}' stream ${l} transport.`),w.open(),I=!0),ot(Ke,`RPC '${t}' stream ${l} sending:`,H),w.send(H))},Yo:()=>w.close()}),G=(H,tt,it)=>{H.listen(tt,at=>{try{it(at)}catch(St){setTimeout(()=>{throw St},0)}})};return G(w,_l.EventType.OPEN,()=>{U||(ot(Ke,`RPC '${t}' stream ${l} transport opened.`),Q.s_())}),G(w,_l.EventType.CLOSE,()=>{U||(U=!0,ot(Ke,`RPC '${t}' stream ${l} transport closed`),Q.__(),this.I_(w))}),G(w,_l.EventType.ERROR,H=>{U||(U=!0,Lr(Ke,`RPC '${t}' stream ${l} transport errored. Name:`,H.name,"Message:",H.message),Q.__(new lt(Z.UNAVAILABLE,"The operation could not be completed")))}),G(w,_l.EventType.MESSAGE,H=>{var tt;if(!U){const it=H.data[0];Yt(!!it,16349);const at=it,St=at?.error||((tt=at[0])===null||tt===void 0?void 0:tt.error);if(St){ot(Ke,`RPC '${t}' stream ${l} received error:`,St);const gt=St.status;let wt=function(A){const D=Ee[A];if(D!==void 0)return PE(D)}(gt),O=St.message;wt===void 0&&(wt=Z.INTERNAL,O="Unknown error status: "+gt+" with message "+St.message),U=!0,Q.__(new lt(wt,O)),w.close()}else ot(Ke,`RPC '${t}' stream ${l} received:`,it),Q.a_(it)}}),G(g,W0.STAT_EVENT,H=>{H.stat===Xd.PROXY?ot(Ke,`RPC '${t}' stream ${l} detected buffering proxy`):H.stat===Xd.NOPROXY&&ot(Ke,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Q.o_()},0),Q}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(n=>n===t)}}function Ud(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(r){return new n2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t,n,s=1e3,l=1.5,c=6e4){this.Fi=t,this.timerId=n,this.d_=s,this.E_=l,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),l=Math.max(0,n-s);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,l,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="PersistentStream";class ZE{constructor(t,n,s,l,c,f,g,p){this.Fi=t,this.w_=s,this.S_=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new XE(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?($i(n.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.b_===n&&this.W_(s,l)},s=>{t(()=>{const l=new lt(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(l)})})}W_(t,n){const s=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(l=>{s(()=>this.G_(l))}),this.stream.onMessage(l=>{s(()=>++this.C_==1?this.j_(l):this.onNext(l))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return ot(Lv,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget(()=>this.b_===t?n():(ot(Lv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class W2 extends ZE{constructor(t,n,s,l,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=s2(this.serializer,t),s=function(c){if(!("targetChange"in c))return bt.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?bt.min():f.readTime?fi(f.readTime):bt.min()}(t);return this.listener.J_(n,s)}H_(t){const n={};n.database=om(this.serializer),n.addTarget=function(c,f){let g;const p=f.target;if(g=em(p)?{documents:l2(c,p)}:{query:u2(c,p).Vt},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=jE(c,f.resumeToken);const _=rm(c,f.expectedCount);_!==null&&(g.expectedCount=_)}else if(f.snapshotVersion.compareTo(bt.min())>0){g.readTime=Wc(c,f.snapshotVersion.toTimestamp());const _=rm(c,f.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,t);const s=h2(this.serializer,t);s&&(n.labels=s),this.k_(n)}Y_(t){const n={};n.database=om(this.serializer),n.removeTarget=t,this.k_(n)}}class tC extends ZE{constructor(t,n,s,l,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=o2(t.writeResults,t.commitTime),s=fi(t.commitTime);return this.listener.ta(s,n)}na(){const t={};t.database=om(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>a2(this.serializer,s))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{}class nC extends eC{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ra=!1}ia(){if(this.ra)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Wo(t,sm(n,s),l,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(Z.UNKNOWN,c.toString())})}Jo(t,n,s,l,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Jo(t,sm(n,s),l,f,g,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new lt(Z.UNKNOWN,f.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class iC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?($i(n),this._a=!1):ot("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="RemoteStore";class rC{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo(f=>{s.enqueueAndForget(async()=>{qs(this)&&(ot(Ls,"Restarting streams for network reachability change."),await async function(p){const _=At(p);_.Ia.add(4),await Yl(_),_.Aa.set("Unknown"),_.Ia.delete(4),await _h(_)}(this))})}),this.Aa=new iC(s,l)}}async function _h(r){if(qs(r))for(const t of r.da)await t(!0)}async function Yl(r){for(const t of r.da)await t(!1)}function JE(r,t){const n=At(r);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),Km(n)?Ym(n):ao(n).x_()&&Qm(n,t))}function Gm(r,t){const n=At(r),s=ao(n);n.Ta.delete(t),s.x_()&&WE(n,t),n.Ta.size===0&&(s.x_()?s.B_():qs(n)&&n.Aa.set("Unknown"))}function Qm(r,t){if(r.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ao(r).H_(t)}function WE(r,t){r.Ra.$e(t),ao(r).Y_(t)}function Ym(r){r.Ra=new JR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>r.Ta.get(t)||null,lt:()=>r.datastore.serializer.databaseId}),ao(r).start(),r.Aa.aa()}function Km(r){return qs(r)&&!ao(r).M_()&&r.Ta.size>0}function qs(r){return At(r).Ia.size===0}function tT(r){r.Ra=void 0}async function sC(r){r.Aa.set("Online")}async function aC(r){r.Ta.forEach((t,n)=>{Qm(r,t)})}async function oC(r,t){tT(r),Km(r)?(r.Aa.la(t),Ym(r)):r.Aa.set("Unknown")}async function lC(r,t,n){if(r.Aa.set("Online"),t instanceof LE&&t.state===2&&t.cause)try{await async function(l,c){const f=c.cause;for(const g of c.targetIds)l.Ta.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Ta.delete(g),l.Ra.removeTarget(g))}(r,t)}catch(s){ot(Ls,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await eh(r,s)}else if(t instanceof kc?r.Ra.Ye(t):t instanceof UE?r.Ra.it(t):r.Ra.et(t),!n.isEqual(bt.min()))try{const s=await $E(r.localStore);n.compareTo(s)>=0&&await function(c,f){const g=c.Ra.Pt(f);return g.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.Ta.get(_);T&&c.Ta.set(_,T.withResumeToken(p.resumeToken,f))}}),g.targetMismatches.forEach((p,_)=>{const T=c.Ta.get(p);if(!T)return;c.Ta.set(p,T.withResumeToken(Fe.EMPTY_BYTE_STRING,T.snapshotVersion)),WE(c,p);const w=new Or(T.target,p,_,T.sequenceNumber);Qm(c,w)}),c.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){ot(Ls,"Failed to raise snapshot:",s),await eh(r,s)}}async function eh(r,t,n){if(!so(t))throw t;r.Ia.add(1),await Yl(r),r.Aa.set("Offline"),n||(n=()=>$E(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ot(Ls,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await _h(r)})}function eT(r,t){return t().catch(n=>eh(r,n,t))}async function vh(r){const t=At(r),n=Hr(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Dm;for(;uC(t);)try{const l=await F2(t.localStore,s);if(l===null){t.Pa.length===0&&n.B_();break}s=l.batchId,cC(t,l)}catch(l){await eh(t,l)}nT(t)&&iT(t)}function uC(r){return qs(r)&&r.Pa.length<10}function cC(r,t){r.Pa.push(t);const n=Hr(r);n.x_()&&n.Z_&&n.X_(t.mutations)}function nT(r){return qs(r)&&!Hr(r).M_()&&r.Pa.length>0}function iT(r){Hr(r).start()}async function hC(r){Hr(r).na()}async function fC(r){const t=Hr(r);for(const n of r.Pa)t.X_(n.mutations)}async function dC(r,t,n){const s=r.Pa.shift(),l=Lm.from(s,t,n);await eT(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await vh(r)}async function mC(r,t){t&&Hr(r).Z_&&await async function(s,l){if(function(f){return XR(f)&&f!==Z.ABORTED}(l.code)){const c=s.Pa.shift();Hr(s).N_(),await eT(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await vh(s)}}(r,t),nT(r)&&iT(r)}async function jv(r,t){const n=At(r);n.asyncQueue.verifyOperationInProgress(),ot(Ls,"RemoteStore received new credentials");const s=qs(n);n.Ia.add(3),await Yl(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await _h(n)}async function gC(r,t){const n=At(r);t?(n.Ia.delete(2),await _h(n)):t||(n.Ia.add(2),await Yl(n),n.Aa.set("Unknown"))}function ao(r){return r.Va||(r.Va=function(n,s,l){const c=At(n);return c.ia(),new W2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{Zo:sC.bind(null,r),e_:aC.bind(null,r),n_:oC.bind(null,r),J_:lC.bind(null,r)}),r.da.push(async t=>{t?(r.Va.N_(),Km(r)?Ym(r):r.Aa.set("Unknown")):(await r.Va.stop(),tT(r))})),r.Va}function Hr(r){return r.ma||(r.ma=function(n,s,l){const c=At(n);return c.ia(),new tC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:hC.bind(null,r),n_:mC.bind(null,r),ea:fC.bind(null,r),ta:dC.bind(null,r)}),r.da.push(async t=>{t?(r.ma.N_(),await vh(r)):(await r.ma.stop(),r.Pa.length>0&&(ot(Ls,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const f=Date.now()+s,g=new $m(t,n,f,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xm(r,t){if($i("AsyncQueue",`${t}: ${r}`),so(r))return new lt(Z.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{static emptySet(t){return new Fa(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||dt.comparator(n.key,s.key):(n,s)=>dt.comparator(n.key,s.key),this.keyedMap=vl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Fa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Fa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(){this.fa=new le(dt.comparator)}track(t){const n=t.doc.key,s=this.fa.get(n);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(n,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(n):t.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):yt(63341,{At:t,ga:s}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal((n,s)=>{t.push(s)}),t}}class Ja{constructor(t,n,s,l,c,f,g,p,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,l,c){const f=[];return n.forEach(g=>{f.push({type:0,doc:g})}),new Ja(t,n,Fa.emptySet(n),f,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class yC{constructor(){this.queries=Bv(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const l=At(n),c=l.queries;l.queries=Bv(),c.forEach((f,g)=>{for(const p of g.wa)p.onError(s)})})(this,new lt(Z.ABORTED,"Firestore shutting down"))}}function Bv(){return new zs(r=>SE(r),fh)}async function _C(r,t){const n=At(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.Sa()&&t.ba()&&(s=2):(c=new pC,s=t.ba()?0:1);try{switch(s){case 0:c.ya=await n.onListen(l,!0);break;case 1:c.ya=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=Xm(f,`Initialization of query '${Ua(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,c),c.wa.push(t),t.va(n.onlineState),c.ya&&t.Ca(c.ya)&&Zm(n)}async function vC(r,t){const n=At(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const f=c.wa.indexOf(t);f>=0&&(c.wa.splice(f,1),c.wa.length===0?l=t.ba()?0:1:!c.Sa()&&t.ba()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function EC(r,t){const n=At(r);let s=!1;for(const l of t){const c=l.query,f=n.queries.get(c);if(f){for(const g of f.wa)g.Ca(l)&&(s=!0);f.ya=l}}s&&Zm(n)}function TC(r,t,n){const s=At(r),l=s.queries.get(t);if(l)for(const c of l.wa)c.onError(n);s.queries.delete(t)}function Zm(r){r.Da.forEach(t=>{t.next()})}var cm,qv;(qv=cm||(cm={})).Fa="default",qv.Cache="cache";class bC{constructor(t,n,s){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Ja(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=Ja.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==cm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(t){this.key=t}}class sT{constructor(t){this.key=t}}class AC{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Pt(),this.mutatedKeys=Pt(),this.Xa=wE(t),this.eu=new Fa(this.Xa)}get tu(){return this.Ha}nu(t,n){const s=n?n.ru:new zv,l=n?n.eu:this.eu;let c=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((T,w)=>{const I=l.get(T),U=dh(this.query,w)?w:null,Q=!!I&&this.mutatedKeys.has(I.key),G=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let H=!1;I&&U?I.data.isEqual(U.data)?Q!==G&&(s.track({type:3,doc:U}),H=!0):this.iu(I,U)||(s.track({type:2,doc:U}),H=!0,(p&&this.Xa(U,p)>0||_&&this.Xa(U,_)<0)&&(g=!0)):!I&&U?(s.track({type:0,doc:U}),H=!0):I&&!U&&(s.track({type:1,doc:I}),H=!0,(p||_)&&(g=!0)),H&&(U?(f=f.add(U),c=G?c.add(T):c.delete(T)):(f=f.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{eu:f,ru:s,Ds:g,mutatedKeys:c}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const f=t.ru.pa();f.sort((T,w)=>function(U,Q){const G=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{At:H})}};return G(U)-G(Q)}(T.type,w.type)||this.Xa(T.doc,w.doc)),this.su(s),l=l!=null&&l;const g=n&&!l?this.ou():[],p=this.Za.size===0&&this.current&&!l?1:0,_=p!==this.Ya;return this.Ya=p,f.length!==0||_?{snapshot:new Ja(this.query,t.eu,c,f,t.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new zv,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Pt(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const n=[];return t.forEach(s=>{this.Za.has(s)||n.push(new sT(s))}),this.Za.forEach(s=>{t.has(s)||n.push(new rT(s))}),n}uu(t){this.Ha=t.qs,this.Za=Pt();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return Ja.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Jm="SyncEngine";class SC{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class wC{constructor(t){this.key=t,this.lu=!1}}class RC{constructor(t,n,s,l,c,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new zs(g=>SE(g),fh),this.Tu=new Map,this.Iu=new Set,this.du=new le(dt.comparator),this.Eu=new Map,this.Au=new Bm,this.Ru={},this.Vu=new Map,this.mu=Za.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function CC(r,t,n=!0){const s=hT(r);let l;const c=s.Pu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.cu()):l=await aT(s,t,n,!0),l}async function IC(r,t){const n=hT(r);await aT(n,t,!0,!1)}async function aT(r,t,n,s){const l=await G2(r.localStore,ci(t)),c=l.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await xC(r,t,c,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&JE(r.remoteStore,l),g}async function xC(r,t,n,s,l){r.gu=(w,I,U)=>async function(G,H,tt,it){let at=H.view.nu(tt);at.Ds&&(at=await Vv(G.localStore,H.query,!1).then(({documents:O})=>H.view.nu(O,at)));const St=it&&it.targetChanges.get(H.targetId),gt=it&&it.targetMismatches.get(H.targetId)!=null,wt=H.view.applyChanges(at,G.isPrimaryClient,St,gt);return Fv(G,H.targetId,wt._u),wt.snapshot}(r,w,I,U);const c=await Vv(r.localStore,t,!0),f=new AC(t,c.qs),g=f.nu(c.documents),p=Ql.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),_=f.applyChanges(g,r.isPrimaryClient,p);Fv(r,n,_._u);const T=new SC(t,n,f);return r.Pu.set(t,T),r.Tu.has(n)?r.Tu.get(n).push(t):r.Tu.set(n,[t]),_.snapshot}async function DC(r,t,n){const s=At(r),l=s.Pu.get(t),c=s.Tu.get(l.targetId);if(c.length>1)return s.Tu.set(l.targetId,c.filter(f=>!fh(f,t))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await lm(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Gm(s.remoteStore,l.targetId),hm(s,l.targetId)}).catch(ro)):(hm(s,l.targetId),await lm(s.localStore,l.targetId,!0))}async function NC(r,t){const n=At(r),s=n.Pu.get(t),l=n.Tu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Gm(n.remoteStore,s.targetId))}async function OC(r,t,n){const s=jC(r);try{const l=await function(f,g){const p=At(f),_=re.now(),T=g.reduce((U,Q)=>U.add(Q.key),Pt());let w,I;return p.persistence.runTransaction("Locally write mutations","readwrite",U=>{let Q=Xi(),G=Pt();return p.Os.getEntries(U,T).next(H=>{Q=H,Q.forEach((tt,it)=>{it.isValidDocument()||(G=G.add(tt))})}).next(()=>p.localDocuments.getOverlayedDocuments(U,Q)).next(H=>{w=H;const tt=[];for(const it of g){const at=GR(it,w.get(it.key).overlayedDocument);at!=null&&tt.push(new Bs(it.key,at,pE(at.value.mapValue),hi.exists(!0)))}return p.mutationQueue.addMutationBatch(U,_,tt,g)}).next(H=>{I=H;const tt=H.applyToLocalDocumentSet(w,G);return p.documentOverlayCache.saveOverlays(U,H.batchId,tt)})}).then(()=>({batchId:I.batchId,changes:CE(w)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(f,g,p){let _=f.Ru[f.currentUser.toKey()];_||(_=new le(xt)),_=_.insert(g,p),f.Ru[f.currentUser.toKey()]=_}(s,l.batchId,n),await Kl(s,l.changes),await vh(s.remoteStore)}catch(l){const c=Xm(l,"Failed to persist write");n.reject(c)}}async function oT(r,t){const n=At(r);try{const s=await q2(n.localStore,t);t.targetChanges.forEach((l,c)=>{const f=n.Eu.get(c);f&&(Yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.lu=!0:l.modifiedDocuments.size>0?Yt(f.lu,14607):l.removedDocuments.size>0&&(Yt(f.lu,42227),f.lu=!1))}),await Kl(n,s,t)}catch(s){await ro(s)}}function Hv(r,t,n){const s=At(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Pu.forEach((c,f)=>{const g=f.view.va(t);g.snapshot&&l.push(g.snapshot)}),function(f,g){const p=At(f);p.onlineState=g;let _=!1;p.queries.forEach((T,w)=>{for(const I of w.wa)I.va(g)&&(_=!0)}),_&&Zm(p)}(s.eventManager,t),l.length&&s.hu.J_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function MC(r,t,n){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Eu.get(t),c=l&&l.key;if(c){let f=new le(dt.comparator);f=f.insert(c,Xe.newNoDocument(c,bt.min()));const g=Pt().add(c),p=new ph(bt.min(),new Map,new le(xt),f,g);await oT(s,p),s.du=s.du.remove(c),s.Eu.delete(t),Wm(s)}else await lm(s.localStore,t,!1).then(()=>hm(s,t,n)).catch(ro)}async function VC(r,t){const n=At(r),s=t.batch.batchId;try{const l=await B2(n.localStore,t);uT(n,s,null),lT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Kl(n,l)}catch(l){await ro(l)}}async function kC(r,t,n){const s=At(r);try{const l=await function(f,g){const p=At(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return p.mutationQueue.lookupMutationBatch(_,g).next(w=>(Yt(w!==null,37113),T=w.keys(),p.mutationQueue.removeMutationBatch(_,w))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>p.localDocuments.getDocuments(_,T))})}(s.localStore,t);uT(s,t,n),lT(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Kl(s,l)}catch(l){await ro(l)}}function lT(r,t){(r.Vu.get(t)||[]).forEach(n=>{n.resolve()}),r.Vu.delete(t)}function uT(r,t,n){const s=At(r);let l=s.Ru[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.Ru[s.currentUser.toKey()]=l}}function hm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Tu.get(t))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(t),r.isPrimaryClient&&r.Au.zr(t).forEach(s=>{r.Au.containsKey(s)||cT(r,s)})}function cT(r,t){r.Iu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Gm(r.remoteStore,n),r.du=r.du.remove(t),r.Eu.delete(n),Wm(r))}function Fv(r,t,n){for(const s of n)s instanceof rT?(r.Au.addReference(s.key,t),PC(r,s)):s instanceof sT?(ot(Jm,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,t),r.Au.containsKey(s.key)||cT(r,s.key)):yt(19791,{yu:s})}function PC(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(ot(Jm,"New document in limbo: "+n),r.Iu.add(s),Wm(r))}function Wm(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Iu.values().next().value;r.Iu.delete(t);const n=new dt(ie.fromString(t)),s=r.mu.next();r.Eu.set(s,new wC(n)),r.du=r.du.insert(n,s),JE(r.remoteStore,new Or(ci(km(n.path)),s,"TargetPurposeLimboResolution",uh.ue))}}async function Kl(r,t,n){const s=At(r),l=[],c=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach((g,p)=>{f.push(s.gu(p,t,n).then(_=>{var T;if((_||n)&&s.isPrimaryClient){const w=_?!_.fromCache:(T=n?.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(_){l.push(_);const w=Hm.Es(p.targetId,_);c.push(w)}}))}),await Promise.all(f),s.hu.J_(l),await async function(p,_){const T=At(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>J.forEach(_,I=>J.forEach(I.Is,U=>T.persistence.referenceDelegate.addReference(w,I.targetId,U)).next(()=>J.forEach(I.ds,U=>T.persistence.referenceDelegate.removeReference(w,I.targetId,U)))))}catch(w){if(!so(w))throw w;ot(Fm,"Failed to update sequence numbers: "+w)}for(const w of _){const I=w.targetId;if(!w.fromCache){const U=T.Fs.get(I),Q=U.snapshotVersion,G=U.withLastLimboFreeSnapshotVersion(Q);T.Fs=T.Fs.insert(I,G)}}}(s.localStore,c))}async function UC(r,t){const n=At(r);if(!n.currentUser.isEqual(t)){ot(Jm,"User change. New user:",t.toKey());const s=await KE(n.localStore,t);n.currentUser=t,function(c,f){c.Vu.forEach(g=>{g.forEach(p=>{p.reject(new lt(Z.CANCELLED,f))})}),c.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Kl(n,s.Bs)}}function LC(r,t){const n=At(r),s=n.Eu.get(t);if(s&&s.lu)return Pt().add(s.key);{let l=Pt();const c=n.Tu.get(t);if(!c)return l;for(const f of c){const g=n.Pu.get(f);l=l.unionWith(g.view.tu)}return l}}function hT(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=oT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MC.bind(null,t),t.hu.J_=EC.bind(null,t.eventManager),t.hu.pu=TC.bind(null,t.eventManager),t}function jC(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=VC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kC.bind(null,t),t}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=yh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return z2(this.persistence,new U2,t.initialUser,this.serializer)}Du(t){return new YE(qm.Vi,this.serializer)}bu(t){return new Y2}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class zC extends nh{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){Yt(this.persistence.referenceDelegate instanceof th,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new b2(s,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new YE(s=>th.Vi(s,n),this.serializer)}}class fm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Hv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=UC.bind(null,this.syncEngine),await gC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new yC}()}createDatastore(t){const n=yh(t.databaseInfo.databaseId),s=function(c){return new J2(c)}(t.databaseInfo);return function(c,f,g,p){return new nC(c,f,g,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,l,c,f,g){return new rC(s,l,c,f,g)}(this.localStore,this.datastore,t.asyncQueue,n=>Hv(this.syncEngine,n,0),function(){return Uv.C()?new Uv:new K2}())}createSyncEngine(t,n){return function(l,c,f,g,p,_,T){const w=new RC(l,c,f,g,p,_);return T&&(w.fu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const c=At(l);ot(Ls,"RemoteStore shutting down."),c.Ia.add(5),await Yl(c),c.Ea.shutdown(),c.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}fm.provider={build:()=>new fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):$i("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="FirestoreClient";class qC{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{ot(Fr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ot(Fr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Xm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Ld(r,t){r.asyncQueue.verifyOperationInProgress(),ot(Fr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await KE(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>{Lr("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{ot("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(l=>{Lr("Terminating Firestore due to IndexedDb database deletion failed",l)})}),r._offlineComponents=t}async function Gv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await HC(r);ot(Fr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>jv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>jv(t.remoteStore,l)),r._onlineComponents=t}async function HC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(Fr,"Using user provided OfflineComponentProvider");try{await Ld(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Lr("Error using user provided cache. Falling back to memory cache: "+n),await Ld(r,new nh)}}else ot(Fr,"Using default OfflineComponentProvider"),await Ld(r,new zC(void 0));return r._offlineComponents}async function fT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(Fr,"Using user provided OnlineComponentProvider"),await Gv(r,r._uninitializedComponentsProvider._online)):(ot(Fr,"Using default OnlineComponentProvider"),await Gv(r,new fm))),r._onlineComponents}function FC(r){return fT(r).then(t=>t.syncEngine)}async function Qv(r){const t=await fT(r),n=t.eventManager;return n.onListen=CC.bind(null,t.syncEngine),n.onUnlisten=DC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=IC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=NC.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="firestore.googleapis.com",Kv=!0;class $v{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new lt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mT,this.ssl=Kv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Kv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=QE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<E2)throw new lt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}sR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dT((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Eh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $v({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $v(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Xw;switch(s.type){case"firstParty":return new tR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Yv.get(n);s&&(ot("ComponentProvider","Removing Datastore"),Yv.delete(n),s.terminate())}(this),Promise.resolve()}}function GC(r,t,n,s={}){var l;r=Os(r,Eh);const c=to(t),f=r._getSettings(),g=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;c&&(f0(`https://${p}`),d0("Firestore",!0)),f.host!==mT&&f.host!==p&&Lr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},f),{host:p,ssl:c,emulatorOptions:s});if(!Vs(_,g)&&(r._setSettings(_),s.mockUserToken)){let T,w;if(typeof s.mockUserToken=="string")T=s.mockUserToken,w=$e.MOCK_USER;else{T=bA(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new lt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new $e(I)}r._authCredentials=new Zw(new iE(T,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new oo(this.firestore,t,this._query)}}class Ae{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ae(this.firestore,t,this._key)}toJSON(){return{type:Ae._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Hl(n,Ae._jsonSchema))return new Ae(t,s||null,new dt(ie.fromString(n.referencePath)))}}Ae._jsonSchemaVersion="firestore/documentReference/1.0",Ae._jsonSchema={type:be("string",Ae._jsonSchemaVersion),referencePath:be("string")};class Ur extends oo{constructor(t,n,s){super(t,n,km(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ae(this.firestore,null,new dt(t))}withConverter(t){return new Ur(this.firestore,t,this._path)}}function QC(r,t,...n){if(r=nn(r),sE("collection","path",t),r instanceof Eh){const s=ie.fromString(t,...n);return ov(s),new Ur(r,null,s)}{if(!(r instanceof Ae||r instanceof Ur))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ie.fromString(t,...n));return ov(s),new Ur(r.firestore,null,s)}}function ka(r,t,...n){if(r=nn(r),arguments.length===1&&(t=xm.newId()),sE("doc","path",t),r instanceof Eh){const s=ie.fromString(t,...n);return av(s),new Ae(r,null,new dt(s))}{if(!(r instanceof Ae||r instanceof Ur))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ie.fromString(t,...n));return av(s),new Ae(r.firestore,r instanceof Ur?r.converter:null,new dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="AsyncQueue";class Zv{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new XE(this,"async_queue_retry"),this.oc=()=>{const s=Ud();s&&ot(Xv,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const n=Ud();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=Ud();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Ns;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!so(t))throw t;ot(Xv,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const n=this._c.then(()=>(this.nc=!0,t().catch(s=>{throw this.tc=s,this.nc=!1,$i("INTERNAL UNHANDLED ERROR: ",Jv(s)),s}).then(s=>(this.nc=!1,s))));return this._c=n,n}enqueueAfterDelay(t,n,s){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const l=$m.createAndSchedule(this,t,n,s,c=>this.lc(c));return this.ec.push(l),l}ac(){this.tc&&yt(47125,{hc:Jv(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function Jv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Ul extends Eh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new Zv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Zv(t),this._firestoreClient=void 0,await t}}}function YC(r,t){const n=typeof r=="object"?r:y0(),s=typeof r=="string"?r:Yc,l=pm(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=EA("firestore");c&&GC(l,...c)}return l}function gT(r){if(r._terminated)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||KC(r),r._firestoreClient}function KC(r){var t,n,s;const l=r._freezeSettings(),c=function(g,p,_,T){return new pR(g,p,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,dT(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new qC(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g?._online.build();return{_offline:g?._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this._byteString=t}static fromBase64String(t){try{return new On(Fe.fromBase64String(t))}catch(n){throw new lt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new On(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hl(t,On._jsonSchema))return On.fromBase64String(t.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:be("string",On._jsonSchemaVersion),bytes:be("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new lt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new lt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new lt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:di._jsonSchemaVersion}}static fromJSON(t){if(Hl(t,di._jsonSchema))return new di(t.latitude,t.longitude)}}di._jsonSchemaVersion="firestore/geoPoint/1.0",di._jsonSchema={type:be("string",di._jsonSchemaVersion),latitude:be("number"),longitude:be("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}toJSON(){return{type:mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hl(t,mi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new mi(t.vectorValues);throw new lt(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mi._jsonSchemaVersion="firestore/vectorValue/1.0",mi._jsonSchema={type:be("string",mi._jsonSchemaVersion),vectorValues:be("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=/^__.*__$/;class XC{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Bs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Gl(t,this.data,n,this.fieldTransforms)}}function yT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ec:r})}}class eg{constructor(t,n,s,l,c,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new eg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.Rc({path:s,mc:!1});return l.fc(t),l}gc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.Rc({path:s,mc:!1});return l.Ac(),l}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return ih(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(yT(this.Ec)&&$C.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class ZC{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||yh(t)}Dc(t,n,s,l=!1){return new eg({Ec:t,methodName:n,bc:s,path:He.emptyPath(),mc:!1,Sc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _T(r){const t=r._freezeSettings(),n=yh(r._databaseId);return new ZC(r._databaseId,!!t.ignoreUndefinedProperties,n)}function JC(r,t,n,s,l,c={}){const f=r.Dc(c.merge||c.mergeFields?2:0,t,n,l);TT("Data must be an object, but it was:",f,s);const g=vT(s,f);let p,_;if(c.merge)p=new qn(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){const T=[];for(const w of c.mergeFields){const I=tI(t,w,n);if(!f.contains(I))throw new lt(Z.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);nI(T,I)||T.push(I)}p=new qn(T),_=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,_=f.fieldTransforms;return new XC(new Nn(g),p,_)}function WC(r,t,n,s=!1){return ng(n,r.Dc(s?4:3,t))}function ng(r,t){if(ET(r=nn(r)))return TT("Unsupported field value:",t,r),vT(r,t);if(r instanceof pT)return function(s,l){if(!yT(l.Ec))throw l.wc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.wc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(s,l){const c=[];let f=0;for(const g of s){let p=ng(g,l.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=nn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return jR(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=re.fromDate(s);return{timestampValue:Wc(l.serializer,c)}}if(s instanceof re){const c=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wc(l.serializer,c)}}if(s instanceof di)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof On)return{bytesValue:jE(l.serializer,s._byteString)};if(s instanceof Ae){const c=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw l.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:zm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof mi)return function(f,g){return{mapValue:{fields:{[mE]:{stringValue:gE},[Kc]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw g.wc("VectorValues must only contain numeric values.");return Pm(g.serializer,_)})}}}}}}(s,l);throw l.wc(`Unsupported field value: ${lh(s)}`)}(r,t)}function vT(r,t){const n={};return lE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):js(r,(s,l)=>{const c=ng(l,t.Vc(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function ET(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof di||r instanceof On||r instanceof Ae||r instanceof pT||r instanceof mi)}function TT(r,t,n){if(!ET(n)||!aE(n)){const s=lh(n);throw s==="an object"?t.wc(r+" a custom object"):t.wc(r+" "+s)}}function tI(r,t,n){if((t=nn(t))instanceof tg)return t._internalPath;if(typeof t=="string")return bT(r,t);throw ih("Field path arguments must be of type string or ",r,!1,void 0,n)}const eI=new RegExp("[~\\*/\\[\\]]");function bT(r,t,n){if(t.search(eI)>=0)throw ih(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new tg(...t.split("."))._internalPath}catch{throw ih(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function ih(r,t,n,s,l){const c=s&&!s.isEmpty(),f=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${s}`),f&&(p+=` in document ${l}`),p+=")"),new lt(Z.INVALID_ARGUMENT,g+r+p)}function nI(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ae(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new iI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(ST("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iI extends AT{data(){return super.data()}}function ST(r,t){return typeof t=="string"?bT(r,t):t instanceof tg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ig{}class sI extends ig{}function aI(r,t,...n){let s=[];t instanceof ig&&s.push(t),s=s.concat(n),function(c){const f=c.filter(p=>p instanceof sg).length,g=c.filter(p=>p instanceof rg).length;if(f>1||f>0&&g>0)throw new lt(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)r=l._apply(r);return r}class rg extends sI{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new rg(t,n,s)}_apply(t){const n=this._parse(t);return wT(t._query,n),new oo(t.firestore,t.converter,nm(t._query,n))}_parse(t){const n=_T(t.firestore);return function(c,f,g,p,_,T,w){let I;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new lt(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){e0(w,T);const Q=[];for(const G of w)Q.push(t0(p,c,G));I={arrayValue:{values:Q}}}else I=t0(p,c,w)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||e0(w,T),I=WC(g,f,w,T==="in"||T==="not-in");return Te.create(_,T,I)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class sg extends ig{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new sg(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Fn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(l,c){let f=l;const g=c.getFlattenedFilters();for(const p of g)wT(f,p),f=nm(f,p)}(t._query,n),new oo(t.firestore,t.converter,nm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function t0(r,t,n){if(typeof(n=nn(n))=="string"){if(n==="")throw new lt(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AE(t)&&n.indexOf("/")!==-1)throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ie.fromString(n));if(!dt.isDocumentKey(s))throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return gv(r,new dt(s))}if(n instanceof Ae)return gv(r,n._key);throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lh(n)}.`)}function e0(r,t){if(!Array.isArray(r)||r.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function wT(r,t){const n=function(l,c){for(const f of l)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new lt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class oI{convertValue(t,n="none"){switch(qr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Br(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return js(t,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,l;const c=(l=(s=(n=t.fields)===null||n===void 0?void 0:n[Kc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(f=>ge(f.doubleValue));return new mi(c)}convertGeoPoint(t){return new di(ge(t.latitude),ge(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=hh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ol(t));default:return null}}convertTimestamp(t){const n=zr(t);return new re(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ie.fromString(t);Yt(GE(s),9688,{name:t});const l=new Ml(s.get(1),s.get(3)),c=new dt(s.popFirst(5));return l.isEqual(n)||$i(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class Tl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ms extends AT{constructor(t,n,s,l,c,f){super(t,n,s,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(ST("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ms._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ms._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ms._jsonSchema={type:be("string",Ms._jsonSchemaVersion),bundleSource:be("string","DocumentSnapshot"),bundleName:be("string"),bundle:be("string")};class Pc extends Ms{data(t={}){return super.data(t)}}class Ga{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Tl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Pc(this._firestore,this._userDataWriter,s.key,s,new Tl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new lt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(g=>{const p=new Pc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Tl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new Pc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Tl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return g.type!==0&&(_=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),T=f.indexOf(g.doc.key)),{type:uI(g.type),doc:p,oldIndex:_,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ga._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach(c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function uI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}Ga._jsonSchemaVersion="firestore/querySnapshot/1.0",Ga._jsonSchema={type:be("string",Ga._jsonSchemaVersion),bundleSource:be("string","QuerySnapshot"),bundleName:be("string"),bundle:be("string")};class RT extends oI{constructor(t){super(),this.firestore=t}convertBytes(t){return new On(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ae(this.firestore,null,n)}}function wc(r,t,n){r=Os(r,Ae);const s=Os(r.firestore,Ul),l=lI(r.converter,t);return CT(s,[JC(_T(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,hi.none())])}function cI(r){return CT(Os(r.firestore,Ul),[new Um(r._key,hi.none())])}function jd(r,...t){var n,s,l;r=nn(r);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||Wv(t[f])||(c=t[f++]);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(Wv(t[f])){const w=t[f];t[f]=(n=w.next)===null||n===void 0?void 0:n.bind(w),t[f+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),t[f+2]=(l=w.complete)===null||l===void 0?void 0:l.bind(w)}let p,_,T;if(r instanceof Ae)_=Os(r.firestore,Ul),T=km(r._key.path),p={next:w=>{t[f]&&t[f](hI(_,r,w))},error:t[f+1],complete:t[f+2]};else{const w=Os(r,oo);_=Os(w.firestore,Ul),T=w._query;const I=new RT(_);p={next:U=>{t[f]&&t[f](new Ga(_,I,w,U))},error:t[f+1],complete:t[f+2]},rI(r._query)}return function(I,U,Q,G){const H=new BC(G),tt=new bC(U,H,Q);return I.asyncQueue.enqueueAndForget(async()=>_C(await Qv(I),tt)),()=>{H.Ou(),I.asyncQueue.enqueueAndForget(async()=>vC(await Qv(I),tt))}}(gT(_),T,g,p)}function CT(r,t){return function(s,l){const c=new Ns;return s.asyncQueue.enqueueAndForget(async()=>OC(await FC(s),l,c)),c.promise}(gT(r),t)}function hI(r,t,n){const s=n.docs.get(t._key),l=new RT(r);return new Ms(r,l,t._key,s,new Tl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(l){io=l})(eo),Qa(new ks("firestore",(s,{instanceIdentifier:l,options:c})=>{const f=s.getProvider("app").getImmediate(),g=new Ul(new Jw(s.getProvider("auth-internal")),new eR(f,s.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new lt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(_.options.projectId,T)}(f,l),f);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),kr(ev,nv,t),kr(ev,nv,"esm2017")})();/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),n0=r=>{const t=dI(r);return t.charAt(0).toUpperCase()+t.slice(1)},IT=(...r)=>r.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),mI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=za.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:f,...g},p)=>za.createElement("svg",{ref:p,...gI,width:t,height:t,stroke:r,strokeWidth:s?Number(n)*24/Number(t):n,className:IT("lucide",l),...!c&&!mI(g)&&{"aria-hidden":"true"},...g},[...f.map(([_,T])=>za.createElement(_,T)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=(r,t)=>{const n=za.forwardRef(({className:s,...l},c)=>za.createElement(pI,{ref:c,iconNode:t,className:IT(`lucide-${fI(n0(r))}`,`lucide-${r}`,s),...l}));return n.displayName=n0(r),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],_I=Ji("chevron-left",yI);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],EI=Ji("chevron-right",vI);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],bI=Ji("log-in",TI);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],SI=Ji("log-out",AI);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xT=Ji("plus",wI);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CI=Ji("settings",RI);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],xI=Ji("tag",II);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],NI=Ji("user",DI);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wa=Ji("x",OI);var MI="firebase",VI="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr(MI,VI,"app");const kI={apiKey:"AIzaSyDSh23j3GUG3B75GBG9JrtHWFFnGQpRc_c",authDomain:"rinksync-data.firebaseapp.com",projectId:"rinksync-data",storageBucket:"rinksync-data.firebasestorage.app",messagingSenderId:"314288698038",appId:"1:314288698038:web:fd90b95489a4584429ac17",measurementId:"G-5V5SLSYYTT"},DT=p0(kI),zd=Kw(DT),ws=YC(DT),PI=new Fi,Rs=typeof __app_id<"u"?__app_id:"default-hockey-app",Uc={classic:{name:"Classic Blue",bg:"bg-slate-50",header:"text-gray-800",modalTextColor:"text-gray-800",calendarBg:"bg-white",cellHoverBg:"hover:bg-slate-100",dayCell:"bg-white",otherMonthCell:"bg-slate-100 text-gray-400",todayCell:"bg-indigo-50",primaryButton:"bg-indigo-600 hover:bg-indigo-700 text-white",secondaryButton:"bg-gray-200 hover:bg-gray-300 text-gray-800",events:{Practice:{color:"bg-green-100",textColor:"text-green-800"},"Practice (Goalie)":{color:"bg-lime-100",textColor:"text-lime-800"},Tournament:{color:"bg-yellow-100",textColor:"text-yellow-800"},"League Game":{color:"bg-red-100",textColor:"text-red-800"},Tryout:{color:"bg-orange-100",textColor:"text-orange-800"},"Dry-land Workout":{color:"bg-indigo-100",textColor:"text-indigo-800"},Camp:{color:"bg-teal-100",textColor:"text-teal-800"},Family:{color:"bg-rose-100",textColor:"text-rose-800"},Appointment:{color:"bg-fuchsia-100",textColor:"text-fuchsia-800"},School:{color:"bg-sky-100",textColor:"text-sky-800"},Birthday:{color:"bg-pink-100",textColor:"text-pink-800"},Other:{color:"bg-gray-200",textColor:"text-gray-800"}}},dark:{name:"Midnight",bg:"bg-gray-900",header:"text-gray-100",modalTextColor:"text-gray-100",calendarBg:"bg-gray-800",cellHoverBg:"hover:bg-gray-700/60",dayCell:"bg-transparent",otherMonthCell:"bg-gray-900/50 text-gray-500",todayCell:"bg-blue-900/50",primaryButton:"bg-blue-600 hover:bg-blue-500 text-white",secondaryButton:"bg-gray-700 hover:bg-gray-600 text-gray-200",events:{Practice:{color:"bg-green-800/70",textColor:"text-green-100"},"Practice (Goalie)":{color:"bg-lime-800/70",textColor:"text-lime-100"},Tournament:{color:"bg-yellow-800/70",textColor:"text-yellow-100"},"League Game":{color:"bg-red-800/70",textColor:"text-red-100"},Tryout:{color:"bg-orange-800/70",textColor:"text-orange-100"},"Dry-land Workout":{color:"bg-indigo-800/70",textColor:"text-indigo-100"},Camp:{color:"bg-teal-800/70",textColor:"text-teal-100"},Family:{color:"bg-rose-800/70",textColor:"text-rose-100"},Appointment:{color:"bg-fuchsia-800/70",textColor:"text-fuchsia-100"},School:{color:"bg-sky-800/70",textColor:"text-sky-100"},Birthday:{color:"bg-pink-800/70",textColor:"text-pink-100"},Other:{color:"bg-gray-600/70",textColor:"text-gray-200"}}},rink:{name:"Hockey Rink",bg:"bg-blue-50",header:"text-blue-900",modalTextColor:"text-blue-900",calendarBg:"bg-white",cellHoverBg:"hover:bg-slate-100",dayCell:"bg-white",otherMonthCell:"bg-gray-200 text-gray-400",todayCell:"bg-red-100",primaryButton:"bg-red-600 hover:bg-red-700 text-white",secondaryButton:"bg-blue-200 hover:bg-blue-300 text-blue-800",events:{Practice:{color:"bg-sky-200",textColor:"text-sky-800"},"Practice (Goalie)":{color:"bg-lime-200",textColor:"text-lime-800"},Tournament:{color:"bg-amber-200",textColor:"text-amber-800"},"League Game":{color:"bg-rose-200",textColor:"text-rose-800"},Tryout:{color:"bg-orange-200",textColor:"text-orange-800"},"Dry-land Workout":{color:"bg-green-200",textColor:"text-green-800"},Camp:{color:"bg-cyan-200",textColor:"text-cyan-800"},Family:{color:"bg-pink-200",textColor:"text-pink-800"},Appointment:{color:"bg-fuchsia-200",textColor:"text-fuchsia-800"},School:{color:"bg-indigo-200",textColor:"text-indigo-800"},Birthday:{color:"bg-violet-200",textColor:"text-violet-800"},Other:{color:"bg-slate-200",textColor:"text-slate-800"}}},blueJackets:{name:"Columbus Blue Jackets",bg:"bg-[#002654]",header:"text-white",modalTextColor:"text-gray-800",calendarBg:"bg-white",cellHoverBg:"hover:bg-gray-200",dayCell:"bg-gray-100",otherMonthCell:"bg-gray-200 text-gray-500",todayCell:"bg-red-100",primaryButton:"bg-[#CE1126] hover:bg-red-700 text-white",secondaryButton:"bg-[#A7A8A9] hover:bg-gray-500 text-black",events:{Practice:{color:"bg-blue-200",textColor:"text-blue-900"},"Practice (Goalie)":{color:"bg-sky-200",textColor:"text-sky-900"},Tournament:{color:"bg-red-200",textColor:"text-red-900"},"League Game":{color:"bg-gray-300",textColor:"text-gray-900"},Tryout:{color:"bg-blue-300",textColor:"text-blue-900"},"Dry-land Workout":{color:"bg-red-300",textColor:"text-red-900"},Camp:{color:"bg-gray-400",textColor:"text-black"},Family:{color:"bg-rose-200",textColor:"text-rose-900"},Appointment:{color:"bg-fuchsia-200",textColor:"text-fuchsia-900"},School:{color:"bg-teal-200",textColor:"text-teal-900"},Birthday:{color:"bg-pink-200",textColor:"text-pink-900"},Other:{color:"bg-slate-200",textColor:"text-slate-800"}}},culverEagles:{name:"Culver Eagles",bg:"bg-gray-100",header:"text-[#860038]",modalTextColor:"text-[#860038]",calendarBg:"bg-white",cellHoverBg:"hover:bg-gray-200",dayCell:"bg-red-50",otherMonthCell:"bg-gray-200 text-gray-500",todayCell:"bg-red-200",primaryButton:"bg-[#860038] hover:bg-red-900 text-white",secondaryButton:"bg-gray-300 hover:bg-gray-400 text-black",events:{Practice:{color:"bg-red-200",textColor:"text-red-900"},"Practice (Goalie)":{color:"bg-rose-200",textColor:"text-rose-900"},Tournament:{color:"bg-yellow-200",textColor:"text-yellow-900"},"League Game":{color:"bg-red-300",textColor:"text-red-900"},Tryout:{color:"bg-gray-300",textColor:"text-gray-800"},"Dry-land Workout":{color:"bg-red-100",textColor:"text-red-800"},Camp:{color:"bg-yellow-100",textColor:"text-yellow-800"},Family:{color:"bg-stone-200",textColor:"text-stone-800"},Appointment:{color:"bg-fuchsia-200",textColor:"text-fuchsia-800"},School:{color:"bg-sky-200",textColor:"text-sky-800"},Birthday:{color:"bg-pink-200",textColor:"text-pink-800"},Other:{color:"bg-slate-200",textColor:"text-slate-800"}}},floridaPanthers:{name:"Florida Panthers",bg:"bg-[#041E42]",header:"text-white",modalTextColor:"text-gray-800",calendarBg:"bg-white",cellHoverBg:"hover:bg-gray-200",dayCell:"bg-gray-100",otherMonthCell:"bg-blue-100 text-gray-500",todayCell:"bg-red-200",primaryButton:"bg-[#C8102E] hover:bg-red-700 text-white",secondaryButton:"bg-[#B9975B] hover:bg-yellow-600 text-black",events:{Practice:{color:"bg-blue-200",textColor:"text-blue-900"},"Practice (Goalie)":{color:"bg-sky-200",textColor:"text-sky-900"},Tournament:{color:"bg-yellow-200",textColor:"text-yellow-900"},"League Game":{color:"bg-red-200",textColor:"text-red-900"},Tryout:{color:"bg-blue-300",textColor:"text-blue-900"},"Dry-land Workout":{color:"bg-yellow-300",textColor:"text-yellow-900"},Camp:{color:"bg-red-300",textColor:"text-red-900"},Family:{color:"bg-rose-200",textColor:"text-rose-900"},Appointment:{color:"bg-fuchsia-200",textColor:"text-fuchsia-900"},School:{color:"bg-teal-200",textColor:"text-teal-900"},Birthday:{color:"bg-pink-200",textColor:"text-pink-900"},Other:{color:"bg-slate-200",textColor:"text-slate-800"}}},seattleKraken:{name:"Seattle Kraken",bg:"bg-[#001628]",header:"text-[#99D9D9]",modalTextColor:"text-gray-800",calendarBg:"bg-white",cellHoverBg:"hover:bg-blue-900/50",dayCell:"bg-blue-50",otherMonthCell:"bg-[#001628] text-gray-400",todayCell:"bg-red-200",primaryButton:"bg-[#E9072B] hover:bg-red-600 text-white",secondaryButton:"bg-[#68A2B9] hover:bg-blue-400 text-black",events:{Practice:{color:"bg-sky-200",textColor:"text-sky-800"},"Practice (Goalie)":{color:"bg-cyan-200",textColor:"text-cyan-800"},Tournament:{color:"bg-red-300",textColor:"text-red-900"},"League Game":{color:"bg-[#99D9D9]",textColor:"text-black"},Tryout:{color:"bg-sky-300",textColor:"text-sky-900"},"Dry-land Workout":{color:"bg-red-200",textColor:"text-red-800"},Camp:{color:"bg-[#68A2B9]",textColor:"text-black"},Family:{color:"bg-rose-300",textColor:"text-rose-900"},Appointment:{color:"bg-fuchsia-300",textColor:"text-fuchsia-900"},School:{color:"bg-teal-300",textColor:"text-teal-900"},Birthday:{color:"bg-pink-300",textColor:"text-pink-900"},Other:{color:"bg-slate-400",textColor:"text-slate-900"}}}},Rc=["January","February","March","April","May","June","July","August","September","October","November","December"],i0=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Bd={player1:{name:"Oldest Daughter",avatar:"👧🏻",color:"bg-pink-200",textColor:"text-pink-800",borderColor:"border-pink-400"},player2:{name:"Younger Daughter",avatar:"👩🏻",color:"bg-purple-200",textColor:"text-purple-800",borderColor:"border-purple-400"},player3:{name:"Son",avatar:"👦🏻",color:"bg-blue-200",textColor:"text-blue-800",borderColor:"border-blue-400"},player4:{name:"Hasan",avatar:"👨🏻",color:"bg-green-200",textColor:"text-green-800",borderColor:"border-green-400"},player5:{name:"Yulduz",avatar:"👩🏻",color:"bg-yellow-200",textColor:"text-yellow-800",borderColor:"border-yellow-400"}},UI={People:["👧🏻","👩🏻","👦🏻","👨🏻","🧑🏻","👱🏻‍♀️","👱🏻‍♂️","👩🏻‍🦰","👨🏻‍🦰","👩🏻‍🦳","👨🏻‍🦳","👶","👮","👷","🕵️","🧑‍⚕️","🧑‍🌾","🧑‍🍳","🧑‍🎓","🧑‍🎤","🧑‍🏫","🧑‍💻","🧑‍🚀"],Hockey:["🏒","🥅","⛸️","🏆","🥇","🥈","🥉","🏟️","📣","🚨","⏱️"],"Hockey Slang":["🎯","🚀","🎉","💨","💥","💪","🧱","🎩"],"Animals & Mythical":[" Bigfoot ","🐻","🦊","🐺","🦁","🐯","🦄","🐲","🦅","🦈","🐍"],"Activities & Objects":["💪","🧠","⚡","🔥","❄️","⭐","🍔","🍕","🌮","🍿","🎮","🎨","🎸","📚"],Symbols:["🔴","🔵","🟢","🟡","🟣","⚫","⚪","🔶","🔷","🔺","🔻","✅","❌","❓","❗"]},LI=r=>{const t=r.getMonth();return t>=7||t<=1?{name:"Regular Season",color:"bg-sky-100"}:t>=2&&t<=5?{name:"Spring Season",color:"bg-emerald-100"}:t===6?{name:"Off-Season",color:"bg-slate-200"}:{name:"",color:"bg-white"}},Il=r=>r.toISOString().split("T")[0],r0=Mt.memo(({dayDate:r,type:t,getEventsForDate:n,playerConfig:s,theme:l,...c})=>{const f=n(r),g=Il(new Date)===Il(r);return k.jsxs("div",{className:`border rounded-lg p-1.5 min-h-[120px] flex flex-col relative transition-colors ${l.cellHoverBg} ${t==="current"?l.dayCell:l.otherMonthCell}`,onClick:()=>t==="current"&&c.onDateClick(r),children:[k.jsx("span",{className:`font-bold w-8 h-8 flex items-center justify-center mb-1 ${g?"bg-indigo-600 text-white rounded-full":""}`,children:r.getDate()}),k.jsx("div",{className:"flex-grow space-y-1 overflow-y-auto",children:f.map(p=>{const _=p.startDate||p.date,T=p.endDate&&p.endDate>_,w=Il(r),I=T&&w===_,U=T&&w===p.endDate,Q=T&&!I&&!U;let G="rounded-md";I&&(G="rounded-l-md rounded-r-none"),U&&(G="rounded-r-md rounded-l-none"),Q&&(G="rounded-none");const H=l.events[p.eventType]||l.events.Other;return k.jsxs("div",{className:`text-xs cursor-pointer relative group overflow-hidden shadow-sm ${G}`,onClick:tt=>{tt.stopPropagation(),c.onEventClick(p)},children:[k.jsxs("div",{className:`p-1 ${H.color} ${H.textColor}`,children:[k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsx("p",{className:"font-semibold truncate flex-1",children:p.title}),k.jsx("div",{className:"flex -space-x-2",children:p.players.map(tt=>s[tt]?k.jsx("span",{className:"text-lg",children:s[tt].avatar},tt):null)})]}),k.jsx("p",{className:"text-xs",children:p.time})]}),k.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:k.jsx("button",{onClick:tt=>{tt.stopPropagation(),c.onEventDelete(p.id)},className:"p-0.5 bg-red-500 text-white rounded-full hover:bg-red-600",children:k.jsx(Wa,{size:12})})})]},p.id)})})]})}),jI=({view:r,currentDate:t,setCurrentDate:n,events:s,playerConfig:l,theme:c,...f})=>{const g=U=>{const Q=new Date(t);if(r==="week")Q.setDate(Q.getDate()+U*7);else{const G=r==="month"?1:r==="2-month"?2:3;Q.setMonth(Q.getMonth()+U*G)}n(Q)},p=U=>{const Q=Il(U);return s.filter(G=>{const H=G.startDate||G.date;if(G.endDate&&G.endDate>=H)return Q>=H&&Q<=G.endDate;if(!G.endDate||G.endDate===H)return H===Q;if(G.recurring){const tt=new Date(H),it=G.recurring.endDate?new Date(G.recurring.endDate):null;if(U<tt||it&&U>it)return!1;if(G.recurring.type==="weekly"&&tt.getDay()===U.getDay())return!0;if(G.recurring.type==="bi-weekly"&&tt.getDay()===U.getDay())return Math.floor((U-tt)/6048e5)%2===0}return!1})},_=U=>{const Q=new Date(U.getFullYear(),U.getMonth(),1).getDay(),G=new Date(U.getFullYear(),U.getMonth()+1,0).getDate(),H=new Date(U.getFullYear(),U.getMonth(),0),tt=[];for(let at=0;at<Q;at++)tt.push({date:new Date(H.getFullYear(),H.getMonth(),H.getDate()-Q+at+1),type:"prev"});for(let at=1;at<=G;at++)tt.push({date:new Date(U.getFullYear(),U.getMonth(),at),type:"current"});const it=new Date(U.getFullYear(),U.getMonth(),G).getDay();for(let at=1;at<=6-it;at++)tt.push({date:new Date(U.getFullYear(),U.getMonth()+1,at),type:"next"});return tt},T=()=>{const U=r==="month"?1:r==="2-month"?2:3;return Array.from({length:U}).map((Q,G)=>{const H=new Date(t.getFullYear(),t.getMonth()+G,1);return k.jsxs("div",{className:"flex-1",children:[k.jsx("div",{className:"grid grid-cols-7 gap-1 text-center font-semibold text-gray-600 text-sm mb-2",children:i0.map(tt=>k.jsx("div",{children:tt},tt))}),k.jsx("div",{className:"grid grid-cols-7 gap-1",children:_(H).map(({date:tt,type:it},at)=>k.jsx(r0,{dayDate:tt,type:it,getEventsForDate:p,playerConfig:l,theme:c,...f},at))})]},G)})},w=()=>{const U=new Date(t);U.setDate(U.getDate()-U.getDay());const Q=Array.from({length:7}).map((G,H)=>{const tt=new Date(U);return tt.setDate(tt.getDate()+H),tt});return k.jsxs("div",{children:[k.jsx("div",{className:"grid grid-cols-7 gap-1 text-center font-semibold text-gray-600 text-sm mb-2",children:Q.map(G=>k.jsxs("div",{children:[i0[G.getDay()]," ",G.getDate()]},G.toString()))}),k.jsx("div",{className:"grid grid-cols-7 gap-1",children:Q.map(G=>k.jsx(r0,{dayDate:G,type:"current",getEventsForDate:p,playerConfig:l,theme:c,...f},G.toString()))})]})},I=()=>{let U,Q;if(r.includes("month")){const G=new Date(t.getFullYear(),t.getMonth(),1);Q=LI(G),U=`${Rc[G.getMonth()]} ${G.getFullYear()}`}else{const G=new Date(t);G.setDate(G.getDate()-G.getDay());const H=new Date(G);H.setDate(H.getDate()+6),G.getMonth()===H.getMonth()?U=`${Rc[G.getMonth()]} ${G.getDate()} - ${H.getDate()}`:U=`${Rc[G.getMonth()]} ${G.getDate()} - ${Rc[H.getMonth()]} ${H.getDate()}`}return k.jsxs("div",{className:"flex items-center justify-center gap-4",children:[k.jsx("h2",{className:`text-3xl font-bold ${c.modalTextColor}`,children:U}),Q&&Q.name&&k.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${Q.color} text-gray-700`,children:Q.name})]})};return k.jsxs("div",{className:`rounded-2xl shadow-lg p-4 md:p-6 ${c.calendarBg}`,children:[k.jsxs("div",{className:"flex justify-between items-center mb-6",children:[k.jsx("button",{onClick:()=>g(-1),className:`p-2 rounded-full ${c.secondaryButton}`,children:k.jsx(_I,{})}),I(),k.jsx("button",{onClick:()=>g(1),className:`p-2 rounded-full ${c.secondaryButton}`,children:k.jsx(EI,{})})]}),r.includes("month")?k.jsx("div",{className:"flex flex-col md:flex-row gap-8",children:T()}):w()]})},zI=Mt.memo(jI),BI=({isOpen:r,onClose:t,onSave:n,event:s,selectedDate:l,playerConfig:c,theme:f})=>{const[g,p]=Mt.useState(""),[_,T]=Mt.useState([]),[w,I]=Mt.useState("Practice"),[U,Q]=Mt.useState(""),[G,H]=Mt.useState(""),[tt,it]=Mt.useState("12:00"),[at,St]=Mt.useState(!1),[gt,wt]=Mt.useState("");if(Mt.useEffect(()=>{r&&(s?(p(s.title),T(s.players),I(s.eventType),Q(s.startDate||s.date),H(s.endDate||""),it(s.time||"12:00"),St(!!s.recurring)):(p(""),T([]),I("Practice"),Q(l?Il(l):""),H(""),it("12:00"),St(!1)),wt(""))},[s,l,r]),!r)return null;const O=A=>T(D=>D.includes(A)?D.filter(M=>M!==A):[...D,A]),S=()=>{if(!g||_.length===0||!U){wt("Please fill in Title, select at least one Player, and set a Start Date.");return}if(G&&G<U){wt("End date cannot be before the start date.");return}const A={id:s?.id||`${Date.now()}-${Math.random()}`,title:g,players:_,eventType:w,startDate:U,endDate:G||"",time:tt,recurring:at?{type:"weekly",endDate:""}:null};n(A),t()};return k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:k.jsxs("div",{className:`rounded-lg shadow-2xl p-6 w-full max-w-lg transform transition-all ${f.calendarBg} ${f.modalTextColor}`,children:[k.jsxs("div",{className:"flex justify-between items-center mb-4",children:[k.jsx("h2",{className:`text-2xl font-bold ${f.modalTextColor}`,children:s?"Edit Event":"Create Event"}),k.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-800",children:k.jsx(Wa,{size:24})})]}),gt&&k.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",role:"alert",children:k.jsx("p",{children:gt})}),k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium mb-1",children:"Event Title"}),k.jsx("input",{type:"text",value:g,onChange:A=>p(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-gray-800"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium mb-2",children:"Players"}),k.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(c).map(([A,D])=>k.jsxs("button",{onClick:()=>O(A),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-semibold transition-all ${_.includes(A)?`${D.color} ${D.textColor} ring-2 ring-offset-1 ${D.borderColor}`:"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[k.jsx("span",{className:"text-lg",children:D.avatar}),k.jsx("span",{children:D.name})]},A))})]}),k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium mb-1",children:"Event Type"}),k.jsx("select",{value:w,onChange:A=>I(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-gray-800",children:Object.keys(f.events).map(A=>k.jsx("option",{value:A,children:A},A))})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium mb-1",children:"Time"}),k.jsx("input",{type:"time",value:tt,onChange:A=>it(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-gray-800"})]})]}),k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium mb-1",children:"Start Date"}),k.jsx("input",{type:"date",value:U,onChange:A=>Q(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-gray-800"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium mb-1",children:"End Date (optional)"}),k.jsx("input",{type:"date",value:G,onChange:A=>H(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-gray-800"})]})]}),k.jsxs("div",{className:"flex items-center",children:[k.jsx("input",{type:"checkbox",id:"recurring",checked:at,onChange:A=>St(A.target.checked),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded"}),k.jsx("label",{htmlFor:"recurring",className:"ml-2 block text-sm",children:"Recurring Event"})]})]}),k.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[k.jsx("button",{onClick:t,className:`px-4 py-2 font-semibold rounded-md ${f.secondaryButton}`,children:"Cancel"}),k.jsx("button",{onClick:S,className:`px-4 py-2 font-semibold rounded-md ${f.primaryButton}`,children:"Save"})]})]})})},qI=Mt.memo(({onSelect:r,onClose:t})=>k.jsxs("div",{className:"absolute top-full mt-2 w-72 bg-white border border-gray-300 rounded-lg shadow-lg z-20 p-2 max-h-64 overflow-y-auto",children:[k.jsxs("div",{className:"flex justify-between items-center mb-2 sticky top-0 bg-white py-1",children:[k.jsx("h4",{className:"text-sm font-semibold",children:"Select Avatar"}),k.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:k.jsx(Wa,{size:16})})]}),Object.entries(UI).map(([n,s])=>k.jsxs("div",{children:[k.jsx("h5",{className:"text-xs font-bold text-gray-500 uppercase mt-2 mb-1",children:n}),k.jsx("div",{className:"grid grid-cols-8 gap-1",children:s.map(l=>k.jsx("button",{onClick:()=>r(l),className:"text-2xl rounded-md hover:bg-gray-200 p-1 transition-colors",children:l},l))})]},n))]})),HI=({isOpen:r,onClose:t,onSavePlayers:n,playerConfig:s,onSaveTheme:l,currentTheme:c,theme:f})=>{const[g,p]=Mt.useState(s),[_,T]=Mt.useState(null);if(Mt.useEffect(()=>{p(s)},[s,r]),!r)return null;const w=(H,tt)=>p(it=>({...it,[H]:{...it[H],name:tt}})),I=(H,tt)=>{p(it=>({...it,[H]:{...it[H],avatar:tt}})),T(null)},U=H=>{p(tt=>{const it={...tt};return delete it[H],it})},Q=()=>{const H=`player_${Date.now()}`,tt={name:"New Player",avatar:"🏒",color:"bg-gray-200",textColor:"text-gray-800",borderColor:"border-gray-400"};p(it=>({...it,[H]:tt}))},G=()=>{n(g),t()};return k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:k.jsxs("div",{className:`rounded-lg shadow-2xl w-full max-w-md ${f.calendarBg} flex flex-col max-h-[90vh]`,children:[k.jsx("div",{className:"flex-shrink-0 p-6 pb-4",children:k.jsxs("div",{className:"flex justify-between items-center mb-6",children:[k.jsx("h2",{className:`text-2xl font-bold ${f.modalTextColor}`,children:"Settings"}),k.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-800",children:k.jsx(Wa,{size:24})})]})}),k.jsxs("div",{className:"flex-grow overflow-y-auto px-6",children:[k.jsx("h3",{className:`text-lg font-bold mb-2 ${f.modalTextColor}`,children:"Manage Players"}),k.jsxs("div",{className:"space-y-4 mb-6",children:[Object.keys(g).map(H=>k.jsxs("div",{className:"flex items-center gap-3 p-3 bg-black/10 rounded-lg relative",children:[k.jsx("button",{onClick:()=>T(_===H?null:H),className:"text-3xl w-16 h-12 flex-shrink-0 flex items-center justify-center bg-white border border-gray-300 rounded-md cursor-pointer hover:bg-gray-100",children:g[H].avatar}),_===H&&k.jsx(qI,{onSelect:tt=>I(H,tt),onClose:()=>T(null)}),k.jsx("input",{type:"text",value:g[H].name,onChange:tt=>w(H,tt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm"}),k.jsx("button",{onClick:()=>U(H),className:"flex-shrink-0 p-2 text-red-500 hover:text-red-700 hover:bg-red-100 rounded-full",children:k.jsx(Wa,{size:20})})]},H)),k.jsxs("button",{onClick:Q,className:`w-full flex items-center justify-center gap-2 px-4 py-2 mt-2 font-semibold rounded-lg shadow-sm transition-colors ${f.secondaryButton}`,children:[k.jsx(xT,{size:20}),"Add New Player"]})]}),k.jsx("h3",{className:`text-lg font-bold mb-3 ${f.modalTextColor}`,children:"Theme"}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:Object.entries(Uc).map(([H,tt])=>k.jsxs("button",{onClick:()=>l(H),className:`p-3 rounded-lg border-2 ${c===H?"border-indigo-500":"border-transparent"}`,children:[k.jsx("div",{className:`w-full h-8 rounded-md mb-2 ${tt.primaryButton}`}),k.jsxs("div",{className:"flex gap-1",children:[k.jsx("div",{className:`w-1/2 h-4 rounded-sm ${tt.events.Tournament.color}`}),k.jsx("div",{className:`w-1/2 h-4 rounded-sm ${tt.events["League Game"].color}`})]}),k.jsx("p",{className:`text-sm font-semibold mt-2 ${f.modalTextColor}`,children:tt.name})]},H))})]}),k.jsx("div",{className:"flex-shrink-0 p-6 pt-6",children:k.jsx("div",{className:"flex justify-end",children:k.jsx("button",{onClick:G,className:`px-6 py-2 font-semibold rounded-md shadow-sm ${f.primaryButton}`,children:"Save & Close"})})})]})})},FI=Mt.memo(HI),GI=({isOpen:r,onClose:t,onConfirm:n,title:s,message:l,theme:c})=>r?k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:k.jsxs("div",{className:`rounded-lg shadow-2xl p-6 w-full max-w-sm ${c.calendarBg}`,children:[k.jsx("h3",{className:`text-lg font-bold ${c.header}`,children:s}),k.jsx("p",{className:`mt-2 mb-4 ${c.header}`,children:l}),k.jsxs("div",{className:"flex justify-end gap-3",children:[k.jsx("button",{onClick:t,className:`px-4 py-2 font-semibold rounded-md ${c.secondaryButton}`,children:"Cancel"}),k.jsx("button",{onClick:n,className:"px-4 py-2 font-semibold rounded-md bg-red-600 hover:bg-red-700 text-white",children:"Confirm"})]})]})}):null,QI=({filters:r,onFilterChange:t,view:n,setView:s,playerConfig:l,theme:c})=>k.jsxs("div",{className:`p-4 rounded-lg shadow-md mb-6 flex flex-wrap gap-4 items-center justify-between ${c.calendarBg}`,children:[k.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[k.jsx("h3",{className:`text-lg font-semibold ${c.header} mr-4`,children:"Filters:"}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(NI,{className:"text-gray-500"}),k.jsxs("select",{value:r.player,onChange:f=>t("player",f.target.value),className:"w-full md:w-auto px-3 py-2 border border-gray-300 rounded-md",children:[k.jsx("option",{value:"all",children:"All Players"}),Object.entries(l).map(([f,g])=>k.jsx("option",{value:f,children:g.name},f))]})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(xI,{className:"text-gray-500"}),k.jsxs("select",{value:r.eventType,onChange:f=>t("eventType",f.target.value),className:"w-full md:w-auto px-3 py-2 border border-gray-300 rounded-md",children:[k.jsx("option",{value:"all",children:"All Event Types"}),Object.keys(c.events).map(f=>k.jsx("option",{value:f,children:f},f))]})]})]}),k.jsx("div",{className:"flex items-center gap-2",children:["week","month","2-month","3-month"].map(f=>k.jsx("button",{onClick:()=>s(f),className:`px-3 py-1.5 rounded-md text-sm font-semibold ${n===f?c.primaryButton:c.secondaryButton}`,children:f.replace("-"," ")},f))})]}),YI=Mt.memo(({user:r,onSignOut:t,onSettingsClick:n,onClose:s,theme:l})=>r?k.jsxs("div",{className:`absolute top-full right-0 mt-2 w-64 rounded-xl shadow-lg ring-1 ring-black ring-opacity-5 z-50 p-2 animate-fade-in-down ${l.calendarBg}`,children:[k.jsxs("div",{className:"flex items-center justify-between p-2",children:[k.jsx("span",{className:"text-xs font-semibold uppercase",children:"Account"}),k.jsx("button",{onClick:s,className:"p-1 rounded-full hover:bg-black/10",children:k.jsx(Wa,{size:16})})]}),k.jsxs("div",{className:"p-2 flex items-center gap-4",children:[k.jsx("img",{src:r.photoURL,alt:r.displayName,className:"w-12 h-12 rounded-full"}),k.jsxs("div",{className:"font-semibold",children:[k.jsx("p",{className:l.header,children:r.displayName}),k.jsx("p",{className:"text-sm text-gray-500 truncate",children:r.email})]})]}),k.jsx("div",{className:"w-full h-px bg-black/10 my-1"}),k.jsxs("button",{onClick:()=>{n(),s()},className:"w-full flex items-center gap-3 p-2 rounded-lg text-left text-sm font-semibold hover:bg-black/10 transition-colors",children:[k.jsx(CI,{size:16}),"Settings"]}),k.jsxs("button",{onClick:t,className:"w-full flex items-center gap-3 p-2 rounded-lg text-left text-sm font-semibold hover:bg-black/10 transition-colors",children:[k.jsx(SI,{size:16}),"Sign Out"]})]}):null),KI=Mt.createContext();function $I(){const[r,t]=Mt.useState(null),[n,s]=Mt.useState([]),[l,c]=Mt.useState(Bd),[f,g]=Mt.useState("classic"),[p,_]=Mt.useState(!1),[T,w]=Mt.useState(!1),[I,U]=Mt.useState(!1),[Q,G]=Mt.useState(null),[H,tt]=Mt.useState(null),[it,at]=Mt.useState({player:"all",eventType:"all"}),[St,gt]=Mt.useState(!1),[wt,O]=Mt.useState(!1),[S,A]=Mt.useState(null),[D,M]=Mt.useState("month"),[P,C]=Mt.useState(new Date),Gt=Uc[f]||Uc.classic,Vt=r?r.uid:null;Mt.useEffect(()=>{const Et=PS(zd,qt=>{t(qt),gt(!0)});return()=>Et()},[]),Mt.useEffect(()=>{if(!St||!Vt){s([]),c(Bd),g("classic");return}const Et=ka(ws,`artifacts/${Rs}/users/${Vt}/config`,"players"),qt=jd(Et,Pe=>{Pe.exists()?c(Pe.data()):wc(Et,Bd)}),rn=ka(ws,`artifacts/${Rs}/users/${Vt}/config`,"ui"),Gn=jd(rn,Pe=>{Pe.exists()&&Pe.data().theme&&Uc[Pe.data().theme]?g(Pe.data().theme):g("classic")}),Mn=`artifacts/${Rs}/users/${Vt}/events`,yi=aI(QC(ws,Mn)),_i=jd(yi,Pe=>{s(Pe.docs.map(Wi=>({id:Wi.id,...Wi.data()})))});return()=>{qt(),Gn(),_i()}},[St,Vt]);const Y=async()=>{try{await iw(zd,PI)}catch(Et){console.error("Google sign-in failed:",Et)}},rt=async()=>{try{await US(zd),U(!1)}catch(Et){console.error("Sign-out failed:",Et)}},ct=async Et=>{Vt&&await wc(ka(ws,`artifacts/${Rs}/users/${Vt}/config`,"players"),Et)},Bt=async Et=>{Vt&&await wc(ka(ws,`artifacts/${Rs}/users/${Vt}/config`,"ui"),{theme:Et})},x=async Et=>{Vt&&await wc(ka(ws,`artifacts/${Rs}/users/${Vt}/events`,Et.id),Et)},W=Et=>{A(Et),O(!0)},st=async()=>{Vt&&S&&await cI(ka(ws,`artifacts/${Rs}/users/${Vt}/events`,S)),O(!1),A(null)},et=Et=>{tt(Et),G(null),_(!0)},ft=Et=>{G(Et),tt(null),_(!0)},Ct=(Et,qt)=>{at(rn=>({...rn,[Et]:qt}))},_t=Mt.useMemo(()=>n.filter(Et=>(it.player==="all"||Et.players.includes(it.player))&&(it.eventType==="all"||Et.eventType===it.eventType)),[n,it]);return St?k.jsx(KI.Provider,{value:Gt,children:k.jsx("div",{className:`${Gt.bg} min-h-screen p-2 sm:p-4 md:p-8 font-sans`,children:k.jsxs("div",{className:"max-w-7xl mx-auto",children:[k.jsxs("header",{className:"flex justify-between items-center mb-8",children:[k.jsx("h1",{className:`text-3xl sm:text-4xl font-bold ${Gt.header}`,children:"RinkSync"}),k.jsx("div",{className:"flex items-center gap-4",children:r?k.jsxs("div",{className:"relative",children:[k.jsx("button",{onClick:()=>U(Et=>!Et),className:"w-10 h-10 rounded-full border-2 border-white/50 ring-2 ring-transparent hover:ring-indigo-400 transition-all",children:k.jsx("img",{src:r.photoURL,alt:r.displayName,className:"w-full h-full rounded-full"})}),I&&k.jsx(YI,{user:r,onSignOut:rt,onSettingsClick:()=>w(!0),onClose:()=>U(!1),theme:Gt})]}):k.jsxs("button",{onClick:Y,className:`flex items-center gap-2 px-6 py-3 font-semibold rounded-lg shadow-md transition-colors ${Gt.primaryButton}`,children:[k.jsx(bI,{size:20})," Sign in"]})})]}),r&&k.jsxs(k.Fragment,{children:[k.jsx(QI,{filters:it,onFilterChange:Ct,view:D,setView:M,playerConfig:l,theme:Gt}),k.jsx(zI,{events:_t,onDateClick:et,onEventClick:ft,onEventDelete:W,view:D,currentDate:P,setCurrentDate:C,playerConfig:l,theme:Gt}),k.jsx("button",{onClick:()=>{G(null),tt(new Date),_(!0)},className:`fixed bottom-8 right-8 w-16 h-16 rounded-full shadow-lg flex items-center justify-center transition-transform hover:scale-110 ${Gt.primaryButton}`,"aria-label":"Add New Event",children:k.jsx(xT,{size:32})})]}),!r&&k.jsxs("div",{className:"text-center py-20",children:[k.jsx("h2",{className:`text-2xl font-bold ${Gt.header}`,children:"Welcome to RinkSync!"}),k.jsx("p",{className:"text-gray-500 mt-2",children:"Please sign in to view and manage your schedule."})]}),k.jsx(FI,{isOpen:T,onClose:()=>w(!1),onSavePlayers:ct,playerConfig:l,onSaveTheme:Bt,currentTheme:f,theme:Gt}),k.jsx(BI,{isOpen:p,onClose:()=>_(!1),onSave:x,event:Q,selectedDate:H,playerConfig:l,theme:Gt}),k.jsx(GI,{isOpen:wt,onClose:()=>O(!1),onConfirm:st,title:"Confirm Deletion",message:"Are you sure you want to delete this event? This action cannot be undone.",theme:Gt}),k.jsx("footer",{className:"text-center mt-8 text-gray-500 text-sm",children:k.jsxs("p",{children:["RinkSync © ",new Date().getFullYear()]})})]})})}):k.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-100",children:k.jsx("p",{className:"text-lg",children:"Loading Scheduler..."})})}hA.createRoot(document.getElementById("root")).render(k.jsx(Mt.StrictMode,{children:k.jsx($I,{})}));
